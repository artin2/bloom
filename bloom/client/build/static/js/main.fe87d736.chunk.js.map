{"version":3,"sources":["assets/abstract-painting.jpg","components/Search/helper.js","assets/barber.jpg","assets/facials.jpg","assets/hair.jpg","assets/lipstics2.jpg","assets/massage3.jpg","assets/nails3.jpg","assets/salon.jpg","assets/paint_line.png","assets/salon2.jpeg","assets/hair_salon.jpg","reduxFolder/actions/alert.js","reduxFolder/redux.js","components/User/LoginForm.js","reduxFolder/actions/user.js","components/User/SignupForm.js","components/User/Registration.js","components/Search/SearchBar.js","components/Navbar/MainNavbar.js","reduxFolder/reducers/user.js","reduxFolder/reducers/alert.js","reduxFolder/reducers/stores.js","reduxFolder/actions/stores.js","reduxFolder/reducers/index.js","reduxFolder/store.js","components/Search/AdvancedSearch.js","components/Home/Category.js","components/Home/Homepage.js","components/StaticPages/StaticPage.js","components/LargeCarousel.js","components/Search/SearchCard.js","components/Map/MapContainer.js","components/Search/SearchDisplayLoader.js","components/Search/SearchDisplayLoaderMobile.js","components/Search/SearchDisplay.js","components/Reservation/ServiceSelection.js","components/Reservation/DateSelection.js","components/Reservation/BookingPage.js","components/Reservation/RedirectToLogin.js","components/Reservation/ReservationPage.js","components/s3.js","components/Store/StoreSignupForm.js","components/Calendar/CalendarPage.js","components/Store/StoreDisplay.js","components/Store/StoreEditForm.js","components/redirectWithoutAuth.jsx","components/User/EditProfileForm.js","components/User/Profile.js","components/Store/UserStoresDashboardLoader.js","components/Store/UserStoresDashboard.js","components/Worker/AddWorkerForm.js","components/Worker/WorkerDashboard.js","components/Worker/WorkerEditForm.js","components/Worker/WorkerDisplay.js","components/Service/AddServiceForm.js","components/Service/ServiceDashboard.js","components/Service/ServiceDisplay.js","components/Service/ServiceEditForm.js","components/Appointments/AppointmentDisplay.js","components/Appointments/UserAppointments.js","App.js","components/redirectWithAuth.jsx","serviceWorker.js","index.js"],"names":["module","exports","queryString","query","qs","Object","entries","filter","pair","undefined","map","i","encodeURIComponent","join","getCategories","name","shorterVersion","longerVersion","getCategoriesAsPairs","value","label","addAlert","messagePassed","type","message","fetchDomain","process","successGoogle","response","console","log","accessToken","failureGoogle","error","successFacebook","failureFacebook","status","LoginForm","props","state","email","password","handleChange","bind","handleSubmit","event","this","setState","target","id","prevProps","prevState","user","appointments","history","push","pathname","store_id","currentStep","preventDefault","loginUser","Form","className","title","Group","style","marginTop","width","marginLeft","InputGroup","Prepend","Text","Control","placeholder","onChange","Col","xs","sm","md","lg","Button","variant","onClick","clientId","buttonText","onSuccess","onFailure","cookiePolicy","render","renderProps","backgroundColor","color","paddingRight","marginBottom","height","fontSize","size","appId","fields","xfbml","cssClass","icon","callback","toggleLogin","React","Component","connect","userReducer","dispatch","bindActionCreators","auth_token","fetch","headers","credentials","method","body","JSON","stringify","then","json","data","login","SignupForm","values","signUpUser","phoneRegExp","emailRegExp","yupValidationSchema","Yup","shape","first_name","min","max","required","last_name","phone","matches","password_confirmation","oneOf","initialValues","role","validationSchema","onSubmit","errors","touched","handleBlur","controlId","onBlur","signup","Registration","displayLogin","location","newValue","Container","fluid","Image","src","paint","alt","top","left","position","Row","helper","require","SearchBar","handleSelectChange","selectedCategory","center","lat","lng","categories","address","distance","autocomplete","handlePlaceSelect","nails","hair","spa","facials","barber","makeup","search","addressObject","getPlace","address_components","elem","long_name","geometry","google","window","maps","places","Autocomplete","document","getElementById","addListener","inline","autoComplete","Append","disabled","options","withRouter","MainNavbar","storeDisplay","Navbar","collapseOnSelect","expand","bg","fixed","to","fontFamily","Toggle","aria-controls","Collapse","Nav","marginRight","useLocation","keys","length","constructor","NavDropdown","Item","href","Divider","right","initialState","action","assign","new_user","alert","alertReducer","stores","storeReducer","new_stores","store","rootReducer","combineReducers","persistedState","serializedState","localStorage","getItem","parse","e","loadFromLocalStorage","createStore","reducers","applyMiddleware","thunk","subscribe","setItem","saveToLocalStorage","getState","AdvancedSearch","selected","redirect","category","onSelect","onRemove","selectedList","selectedItem","removedItem","parseInt","split","stateRep","Label","as","closeIcon","displayValue","avoidHighlightFirstOption","multiselectContainer","groupHeading","maxWidth","chips","background","inputField","searchBox","minWidth","borderRadius","border","Category","getStores","getCurrentLocation","navigator","geolocation","_displayLocation","latitude","longitude","geocoder","Geocoder","latlng","LatLng","geocodeAddress","geoSuccess","coords","geoError","code","TIMEOUT","PERMISSION_DENIED","POSITION_UNAVAILABLE","getCurrentPosition","geoCodeCallback","results","GeocoderStatus","OK","add","formatted_address","geocode","img","text","ScreenWidth","listen","children","useState","xys","setPosition","useEffect","setFromEvent","mounted","x","clientX","y","clientY","innerHeight","innerWidth","addEventListener","removeEventListener","useScreenWidth","ScreenResize","setWidth","handleResize","useResizeWidth","Homepage","Visible","transform","margin","isVisible","active","fontWeight","avgTypingDelay","startDelay","cursor","show","blink","element","Backspace","count","delay","lipstics","massage","goToStore","salon","StaticPage","LargeCarousel","Carousel","interval","pictures","picture","index","key","url","SearchCard","Card","Body","Title","onClickFunctionStore","description","onClickFunctionBook","MapContainer","onMarkerClick","marker","selectedPlace","activeMarker","showingInfoWindow","activeMarkerIndex","onClose","zoom","mapStyles","initialCenter","displayMarkers","visible","SearchDisplayLoader","speed","viewBox","foregroundColor","rx","ry","SearchDisplayMobileLoader","SearchDisplay","loading","ownUpdate","link","getResults","update","RenderStoreCards","xl","SearchDisplayLoaderMobile","nextProps","preState","ServiceSelection","currService","services","find","selectedServices","updateReservation","service","Check","custom","checked","cost","toFixed","block","override","css","DateSelection","handleDateChange","date","getMonth","startDate","parsedData","appointment","Date","currDate","selectedTime","handleSlotClick","schedule","updateAppointments","mins","h","Math","floor","m","am","SlotsAtSelectedTime","slots","schedules","currTime","foundSchedule","currSchedule","currDaySchedules","workersSchedules","day_of_the_week","getDay","scheduleStillWorks","currScheduleCurrTime","currScheduleCurrWorkerIndex","currScheduleServiceIndex","available","currScheduleCurrService","currScheduleCurrWorker","worker_id","start_time","end_time","duration","currWorkerAppointments","setHours","service_id","price","convertMinsToHrsMins","time","storeHours","close_time","overflow","minDate","popperModifiers","flip","behavior","items","open_time","isLoading","BookingPage","firstName","lastName","user_id","triggerAppointmentDisplay","returnedAppointment","appointmentGroupId","Cookies","get","substring","a","setFieldValue","RedirectToLogin","triggerSignInRedirect","ReservationPage","removal","total","selectedService","backStep","newStep","receivedAppointments","pluralize","val","word","plural","_pluralize","num","includes","Number","timeConvert","n","hours","rhours","minutes","rminutes","round","prefetchSchedules","Promise","all","match","params","allResponses","storeName","workers","response1","response2","that","noGutters","Header","servicesList","ListGroup","getPictures","prefixPassed","prefix","uploadHandler","selectedFiles","tempDate","getFullYear","getDate","getHours","getMinutes","getSeconds","fileName","fileType","deleteHandler","keysPassed","StoreSignupForm","day","indexOf","newStoreHours","querySelector","slice","fileChangedHandler","files","categoryError","pictureCount","triggerStoreDisplay","returnedStore","owner_id","updateRole","addStore","rows","multiple","today","isWeekEnd","DayScaleCell","restProps","classes","TimeTableCell","BasicLayout","appointmentData","onFieldChange","TextEditor","onValueChange","nextValue","messages","allDayLabel","repeatLabel","BooleanEditor","RecurrenceLayout","Appointment","Calendar","getAppointments","indx","endDate","worker_map","service_map","selectedAppointments","selectedWorkers","mainResourceName","resources","fieldName","allowMultiple","instances","currentDate","commitChanges","changeMainResource","onSelectWorker","onRemoveWorker","onSelectService","onRemoveService","onSearch","new_workers","new_services","service_instances","worker_instances","worker","includeWorker","includeService","newSelected","added","changed","deleted","startingAddedId","optionContainer","zIndex","Paper","defaultCurrentDate","onCommitChanges","startDayHour","endDayHour","cellDuration","dayScaleCellComponent","timeTableCellComponent","appointmentComponent","showCloseButton","showOpenButton","isRecurrence","basicLayoutComponent","recurrenceLayoutComponent","booleanEditorComponent","StoreDisplay","created_at","owners","clients","convertedCategory","str","toLowerCase","appendedStore","selectedOption","editButton","triggerStoreEdit","cat","triggerBook","StoreEditForm","updateNewHours","newHours","old_open_time","old_close_time","deleteFileChangeHandler","newPictureLength","pop","nullable","triggerStoreDisplayNoResp","autocompleteChange","picturesFetched","enableReinitialize","selectedValues","redirectWithoutAuth","ComponentToProtect","res","Error","catch","err","EditProfileForm","editProfile","failure","Profile","UserStoresDashboardLoader","UserStoresDashboard","redirectToWorkerForm","passedStore","newstore","appendedStores","triggerStoreShow","triggerShowCalendar","triggerShowWorkers","triggerShowServices","AddWorkerForm","old_start_time","old_end_time","newWorkerHours","workerHours","handleDayStatusChange","updateWeekIsWorking","weekIsWorking","triggerWorkerDisplay","returnedWorker","receivedWorkerHours","CreateStartTimesForDay","CreateEndTimesForDay","option","isMulti","WorkerDashboard","redirectToWorkerEditForm","redirectToWorkerDisplay","workerPassed","triggerWorkerEditForm","triggerAddWorker","WorkerEditForm","serviceMapping","0","1","noChange","WorkerDisplay","updateWorker","updateHours","dayHours","receivedServices","updateContent","selectedChoice","choice","daysOfWeek","convertedServices","ListWorkingHours","RenderProfileContent","rounded","defaultActiveKey","Link","eventKey","AddServiceForm","categoryOptions","workerOptions","positive","triggerServiceDisplay","convertedWorkers","setSubmitting","colors","ServiceDashboard","servicePassed","triggerAddService","triggerServiceEdit","ServiceDisplay","resolve","ServiceEditForm","returnedService","convertedCategoryData","AppointmentDisplay","deleteAppointment","group_id","triggerAppointmentCancel","confirmAlert","buttons","store_name","service_names","cancelButton","toString","store_name_mappings","store_ids","service_name_mappings","grouped_service_ids","d","month","year","hasAppointments","dates","start_times","end_times","costs","group_ids","ShowServices","listGroupItems","AppointmentList","cards","formatDate","App","exact","path","component","addAlertPassed","remove","UserAppointments","Boolean","hostname","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fe87d736.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/abstract-painting.8e0472b0.jpg\";","// CITATION: https://stackoverflow.com/questions/37230555/get-with-query-string-with-fetch-in-react-native\r\nfunction queryString(query) {\r\n  // get array of key value pairs ([[k1, v1], [k2, v2]])\r\n  const qs = Object.entries(query)\r\n    // filter pairs with undefined value\r\n    .filter(pair => pair[1] !== undefined)\r\n    // encode keys and values, remove the value if it is null, but leave the key\r\n    .map(pair => pair.filter(i => i !== null).map(encodeURIComponent).join('='))\r\n    .join('&');\r\n\r\n  return qs && '?' + qs;\r\n}\r\n\r\n\r\nfunction getCategories() {\r\n  return [{ name: \"Nail Salon\" },{ name: \"Hair Salon\" },{ name: \"Facials\" },{ name: \"Barbershops\"},\r\n  {name: \"Spa & Wellness\"}, {name: \"Makeup\"}];\r\n}\r\n\r\nfunction getCategoriesAsPairs() {\r\n  return [{ value: 'Nails', label: \"Nail Salon\" },{ value: 'Hair', label: \"Hair Salon\" },\r\n  { value: \"Facials\", label: \"Facials\" },{ value: \"Barbershops\", label:\"Barbershops\"},\r\n  {value: \"Spa\", label: \"Spa & Wellness\" }, {value: \"Makeup\", label: \"Makeup\" }];\r\n}\r\n\r\nfunction shorterVersion(name) {\r\n  if(name == \"Spa & Wellness\") {\r\n    return \"Spa\"\r\n  }\r\n  else if(name == \"Barbershops\") {\r\n    return \"Barber\"\r\n  }\r\n  else if(name == \"Nail Salon\") {\r\n    return \"Nails\"\r\n  }\r\n  else if(name == \"Hair Salon\") {\r\n    return \"Hair\"\r\n  }\r\n  return name;\r\n}\r\n\r\nfunction longerVersion(name) {\r\n  if(name == \"Spa\") {\r\n    return \"Spa & Wellness\"\r\n  }\r\n  else if(name == \"Barber\") {\r\n    return \"Barbershops\"\r\n  }\r\n  else if(name == \"Nails\") {\r\n    return \"Nail Salon\"\r\n  }\r\n  else if(name == \"Hair\") {\r\n    return \"Hair Salon\"\r\n  }\r\n  return name;\r\n}\r\n\r\n exports.queryString = queryString;\r\n exports.getCategories = getCategories;\r\n exports.shorterVersion = shorterVersion;\r\n exports.longerVersion = longerVersion;\r\n exports.getCategoriesAsPairs = getCategoriesAsPairs;\r\n","module.exports = __webpack_public_path__ + \"static/media/barber.d2f9dfa8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/facials.ed0b2cb9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/hair.d4215e0f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/lipstics2.6d47408d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/massage3.55e106f9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nails3.81962b22.jpg\";","module.exports = __webpack_public_path__ + \"static/media/salon.140a41f2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/paint_line.bb971069.png\";","module.exports = __webpack_public_path__ + \"static/media/salon2.5edf0e42.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/hair_salon.5e677ff9.jpg\";","export const ADD_ALERT = 'ADD_ALERT'\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\r\n\r\nexport function addAlert(messagePassed) {\r\n  return {\r\n    type: ADD_ALERT,\r\n    message: messagePassed\r\n  }\r\n}\r\n\r\nexport function removeAlert() {\r\n  return { \r\n    type: REMOVE_ALERT\r\n  }\r\n}\r\n","import {userLoginSuccess, userLoginFailure, userSignupSuccess, userSignupFailure, editUserSuccess} from './actions/user';\r\n// import {addServiceSuccess} from './actions/service';\r\n// import {getWorkerOptionsSuccess, addWorker} from './actions/worker';\r\nimport {failure} from './actions/index'\r\nimport {addAlert} from './actions/alert';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\n// USER FUNCTIONS \r\n\r\nexport function signup(values){\r\n  return dispatch => {\r\n    fetch(fetchDomain + '/signUp' , {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify(values)\r\n    })\r\n    .then(function(response){\r\n      dispatch(addAlert(response))  // seems this alert is not persisting...\r\n\r\n      if(response.status!==200){\r\n        dispatch(userSignupFailure(response))\r\n      }\r\n      else{\r\n        return response.json()\r\n      }\r\n    })\r\n    .then(data => {\r\n      if(data){\r\n        dispatch(userSignupSuccess(data.user));\r\n        return data;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function login(email, password, auth_token) {\r\n  return dispatch => {\r\n    fetch(fetchDomain + '/login' , {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        \"email\": email,\r\n        \"password\": password\r\n      })\r\n    })\r\n    .then(function(response){\r\n      dispatch(addAlert(response))\r\n\r\n      if(response.status!==200){\r\n        dispatch(userLoginFailure(response));\r\n      }\r\n      else{\r\n        return response.json()\r\n      }\r\n    })\r\n    .then(data => {\r\n      if(data){\r\n        dispatch(userLoginSuccess(data.user));\r\n        return data;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function editUser(values){\r\n  return dispatch => {\r\n    fetch(fetchDomain + '/users/' + values.id , {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify(values)\r\n    })\r\n    .then(function(response){\r\n      dispatch(addAlert(response))\r\n      \r\n      if(response.status!==200){\r\n        dispatch(failure(response))\r\n      }\r\n      else{\r\n        // redirect to home page signed in\r\n        return response.json()\r\n      }\r\n    })\r\n    .then(data => {\r\n      if(data){\r\n        dispatch(editUserSuccess(data))\r\n        return data\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// not going to refactor other code unless extra time left, too time consuming\r\n\r\n// SERVICE FUNCTIONS\r\n\r\n// export function addService(values, store_id){\r\n//   return dispatch => {\r\n//     fetch(fetchDomain + '/stores/addService/' + store_id, {\r\n//       method: \"POST\",\r\n//       headers: {\r\n//         'Content-type': 'application/json'\r\n//       },\r\n//       credentials: 'include',\r\n//       body: JSON.stringify(values)\r\n//     })\r\n//     .then(function(response){\r\n//       dispatch(addAlert(response))\r\n\r\n//       if(response.status!==200){\r\n//         dispatch(failure(response))\r\n//       }\r\n//       else{\r\n//         return response.json();\r\n//       }\r\n//     })\r\n//     .then(function(data){\r\n//       if(data){\r\n//         dispatch(addServiceSuccess(data))\r\n//         return data\r\n//       }\r\n//     })\r\n//   }\r\n// }\r\n\r\n// WORKER FUNCTIONS\r\n\r\n// export function getWorkerOptions(store_id){\r\n//   return dispatch => {\r\n//     fetch(fetchDomain + '/stores/' + store_id + \"/workers\" , {\r\n//       method: \"GET\",\r\n//       headers: {\r\n//           'Content-type': 'application/json'\r\n//       },\r\n//       credentials: 'include'\r\n//     })\r\n//     .then(function(response){\r\n//       if(response.status!==200){\r\n//         // throw an error alert\r\n//         dispatch(addAlert(response))\r\n//       }\r\n//       else{\r\n//         return response.json();\r\n//       }\r\n//     })\r\n//     .then(data => {\r\n//       if(data){\r\n//         let convertedWorkers = data.map((worker) => ({ value: worker.id, label: worker.first_name + \" \" + worker.last_name }));\r\n//         dispatch(getWorkerOptionsSuccess(convertedWorkers))\r\n//         return data\r\n//       }\r\n//     });\r\n//   }\r\n// }\r\n\r\n// export function addWorker(values, store_id){\r\n//   fetch(fetchDomain + '/stores/addWorker/' + store_id, {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//       'Content-type': 'application/json'\r\n//     },\r\n//     credentials: 'include',\r\n//     body: JSON.stringify(values)\r\n//   })\r\n//   .then(function(response){\r\n//     dispatch(addAlert(response))\r\n\r\n//     if(response.status!==200){\r\n//       dispatch(failure(response))\r\n//     }\r\n//     else{\r\n//       return response.json();\r\n//     }\r\n//   })\r\n//   .then(function(data){\r\n//     // redirect to home page signed in\r\n//     if(data){\r\n//       dispatch(addWorkerSuccess(data))\r\n//       return data\r\n//     }\r\n//   })\r\n// }","import React from 'react';\r\nimport './LoginForm.css'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaEnvelope, FaLock } from 'react-icons/fa';\r\nimport GoogleLogin from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport {TiSocialFacebookCircular, TiSocialGooglePlus} from 'react-icons/ti';\r\nimport paint from '../../assets/abstract-painting.jpg';\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {login} from '../../reduxFolder/redux.js'\r\n// import ReactDOM from 'react-dom';\r\n// import { useGoogleLogin } from 'react-google-login';\r\n// import FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\n\r\nconst successGoogle = (response) => {\r\n  console.log(\"Google Success: \", response.accessToken);\r\n}\r\n\r\nconst failureGoogle = (response) => {\r\n  console.log(\"Google Failure:\", response.error);\r\n}\r\n\r\nconst successFacebook = (response) => {\r\n  console.log(\"Facebook Success:\", response.accessToken);\r\n}\r\n\r\nconst failureFacebook = (response) => {\r\n  if(response.status){\r\n    console.log(\"Facebook Failure\");\r\n  }\r\n}\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      message: {}\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({[event.target.id]: event.target.value});\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState)  {\r\n    // means we updated redux store with the user and have successfully logged in\r\n    if (prevProps.user !== this.props.user) {\r\n      if(this.props.appointments) {\r\n        this.props.history.push({\r\n          pathname: '/book/' + this.props.store_id,\r\n          appointments: this.props.appointments,\r\n          currentStep: 3\r\n        })\r\n      } else {\r\n        this.props.history.push({\r\n          pathname: '/'\r\n        })\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    //there might be a CORS issue with the backend, this doesn't work without preventDefault..\r\n    event.preventDefault();\r\n    this.props.loginUser(this.state.email, this.state.password, \"\")\r\n  }\r\n\r\n  render() {\r\n    return ( <Form className=\"formBody rounded\">\r\n              <h3>{this.props.title}</h3>\r\n              <Form.Group style={{marginTop: 40, width: '65%', marginLeft: '17%'}}>\r\n                <InputGroup>\r\n                  <InputGroup.Prepend >\r\n                      <InputGroup.Text>\r\n                          <FaEnvelope/>\r\n                      </InputGroup.Text>\r\n                  </InputGroup.Prepend>\r\n                  <Form.Control id=\"email\" type=\"email\" placeholder=\"Email\" onChange={this.handleChange}/>\r\n                </InputGroup>\r\n              </Form.Group>\r\n\r\n              <Form.Group style={{width: '65%', marginLeft: '17%'}}>\r\n                <InputGroup>\r\n                  <InputGroup.Prepend>\r\n                      <InputGroup.Text>\r\n                          <FaLock/>\r\n                      </InputGroup.Text>\r\n                  </InputGroup.Prepend>\r\n                  <Form.Control id=\"password\" type=\"password\" placeholder=\"Password\" onChange={this.handleChange}/>\r\n                </InputGroup>\r\n              </Form.Group>\r\n              <Col xs={8} sm={8} md={8} lg={8} style={{marginLeft: '17%'}}>\r\n                <Button  className=\"login\" type=\"submit\" variant=\"primary\" onClick={this.handleSubmit}>Login</Button>\r\n                  <p><b> OR </b></p>\r\n                  <GoogleLogin\r\n                    clientId={process.env.REACT_APP_GOOGLE_ID}\r\n                    buttonText=\"Login with Google\"\r\n                    onSuccess={successGoogle}\r\n                    onFailure={failureGoogle}\r\n                    cookiePolicy={'single_host_origin'}\r\n                    render={renderProps => (\r\n                      <button onClick={renderProps.onClick} style={{ width: '100%', backgroundColor:\"#db4a39\", color: 'white', paddingRight: '30px',\r\n                    marginBottom: '10px', height: '48px', fontSize: '14px'}}> <TiSocialGooglePlus  size={45} style={{paddingRight:\"15px\"}}/>Login with Google</button>\r\n                    )}\r\n                  />\r\n\r\n                  <FacebookLogin\r\n                    appId={process.env.REACT_APP_FACEBOOK_ID} //APP ID NOT CREATED YET\r\n                    fields=\"name,email,picture\"\r\n                    onFailure={failureFacebook}\r\n                    xfbml={true}\r\n                    cssClass=\"facebookButton\"\r\n                    icon={<TiSocialFacebookCircular size={45} style={{paddingRight:\"15px\"}}/>}\r\n                    callback={successFacebook}\r\n                    />\r\n                  <p> Don't have a Bloom account yet? <Button className=\"toggle-button\" onClick={() => this.props.toggleLogin(false)}> Sign Up. </Button></p>\r\n              </Col>\r\n            </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.userReducer.user\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  loginUser: (email, password, auth_token) => login(email, password, auth_token)\r\n}, dispatch)\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\r\n","export const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAILURE = 'USER_LOGIN_FAILURE'\r\nexport const USER_SIGNUP_SUCCESS = 'USER_SIGNUP_SUCCESS'\r\nexport const USER_SIGNUP_FAILURE = 'USER_SIGNUP_FAILURE'\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\nexport const EDIT_USER_SUCCESS = 'EDIT_USER_SUCCESS'\r\nexport const UPDATE_ROLE = 'UPDATE_ROLE'\r\n\r\n\r\nexport function userLoginSuccess(userPassed) {\r\n  return {\r\n    type: USER_LOGIN_SUCCESS,\r\n    user: userPassed\r\n  }\r\n}\r\n\r\nexport function userLoginFailure(error) {\r\n  return {\r\n    type: USER_LOGIN_FAILURE,\r\n    error: error\r\n  }\r\n}\r\n\r\nexport function userSignupSuccess(userPassed) {\r\n  return {\r\n    type: USER_SIGNUP_SUCCESS,\r\n    user: userPassed\r\n  }\r\n}\r\n\r\nexport function userSignupFailure(error) {\r\n  return {\r\n    type: USER_SIGNUP_FAILURE,\r\n    error: error\r\n  }\r\n}\r\n\r\nexport function editUserSuccess(userPassed) {\r\n  return {\r\n    type: EDIT_USER_SUCCESS,\r\n    user: userPassed\r\n  }\r\n}\r\n\r\nexport function userLogout() {\r\n  return {\r\n    type: USER_LOGOUT\r\n  }\r\n}\r\n\r\nexport function updateRole(role) {\r\n  return {\r\n    type: UPDATE_ROLE,\r\n    role: role\r\n  }\r\n}\r\n","import React from 'react';\r\nimport '../../App.css';\r\nimport './LoginForm.css'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaEnvelope, FaLockOpen, FaLock, FaUser, FaPhone } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport paint from '../../assets/abstract-painting.jpg';\r\nimport { Link } from \"react-router-dom\";\r\nimport * as Yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {signup} from '../../reduxFolder/redux.js'\r\n\r\nclass SignupForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // RegEx for phone number validation\r\n    this.phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/\r\n    this.emailRegExp = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      first_name: Yup.string()\r\n      .min(2, \"First name must have at least 2 characters\")\r\n      .max(100, \"First name can't be longer than 100 characters\")\r\n      .required(\"First name is required\"),\r\n      last_name: Yup.string()\r\n      .min(2, \"Last name must have at least 2 characters\")\r\n      .max(100, \"Last name can't be longer than 100 characters\")\r\n      .required(\"Last name is required\"),\r\n      email: Yup.string()\r\n      .email(\"Must be a valid email address\")\r\n      .max(100, \"Email must be less than 100 characters\")\r\n      .required(\"Email is required\"),\r\n      phone: Yup.string()\r\n      .matches(this.phoneRegExp, \"Phone number is not valid\"),\r\n      password: Yup.string()\r\n      .min(6, \"Password must have at least 6 characters\")\r\n      .max(100, \"Password can't be longer than 100 characters\")\r\n      .required(\"Password required\"),\r\n      password_confirmation: Yup.string()\r\n      .oneOf([Yup.ref('password')], 'Passwords do not match')\r\n      .required(\"Password Confirmation required\")\r\n    });\r\n  }\r\n\r\n  handleSubmit = (values) => {\r\n    this.props.signUpUser(values)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState)  {\r\n    // means we updated redux store with the user and have successfully logged in\r\n    if (prevProps.user !== this.props.user) {\r\n      if(this.props.appointments) {\r\n        this.props.history.push({\r\n          pathname: '/book/' + this.props.store_id,\r\n          appointments: this.props.appointments,\r\n          currentStep: 3\r\n        })\r\n      } else {\r\n        this.props.history.push({\r\n          pathname: '/'\r\n        })\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n  render() {\r\n      return( <Formik\r\n          initialValues={{\r\n            first_name: '',\r\n            last_name: '',\r\n            email: '',\r\n            role: '0',\r\n            phone: '',\r\n            password: '',\r\n            password_confirmation: ''\r\n          }}\r\n          validationSchema={this.yupValidationSchema}\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n        {( {values,\r\n            errors,\r\n            touched,\r\n            handleChange,\r\n            handleBlur,\r\n            handleSubmit}) => (\r\n          <Form className=\"formBody rounded\">\r\n            <h3 style={{marginBottom: 40}}>Sign Up</h3>\r\n\r\n            <Form.Group controlId=\"formFirstName\" className=\"form\">\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        <FaUser/>\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"first_name\"\r\n                  value={values.first_name}\r\n                  placeholder=\"First Name\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={touched.first_name && errors.first_name ? \"error\" : null}/>\r\n              </InputGroup>\r\n              {touched.first_name && errors.first_name ? (\r\n                <div className=\"error-message\">{errors.first_name}</div>\r\n              ): null}\r\n            </Form.Group>\r\n\r\n\r\n            <Form.Group controlId=\"formLastName\" className=\"form\">\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        <FaUser/>\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control type=\"text\"\r\n                value={values.last_name}\r\n                placeholder=\"Last Name\"\r\n                name=\"last_name\"\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                className={touched.last_name && errors.last_name ? \"error\" : null}/>\r\n              </InputGroup>\r\n              {touched.last_name && errors.last_name ? (\r\n                <div className=\"error-message\">{errors.last_name}</div>\r\n              ): null}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formPhone\" className=\"form\">\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        <FaPhone/>\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control type=\"text\"\r\n                  value={values.phone}\r\n                  placeholder=\"Phone Number\"\r\n                  name=\"phone\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={touched.phone && errors.phone ? \"error\" : null}/>\r\n              </InputGroup>\r\n              {touched.phone && errors.phone ? (\r\n                <div className=\"error-message\">{errors.phone}</div>\r\n              ): null}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formEmail\" className=\"form\">\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        <FaEnvelope/>\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  type=\"email\"\r\n                  value={values.email}\r\n                  placeholder=\"Email\"\r\n                  name=\"email\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={touched.email && errors.email ? \"error\" : null}/>\r\n              </InputGroup>\r\n              {touched.email && errors.email ? (\r\n                <div className=\"error-message\">{errors.email}</div>\r\n              ): null}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formPassword\" className=\"form\">\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        <FaLockOpen/>\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  placeholder=\"Password\"\r\n                  name=\"password\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={touched.password && errors.password ? \"error\" : null}/>\r\n              </InputGroup>\r\n              {touched.password && errors.password ? (\r\n                <div className=\"error-message\">{errors.password}</div>\r\n              ): null}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formPasswordConfirmation\" className=\"form\">\r\n              <InputGroup>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text>\r\n                        <FaLock/>\r\n                    </InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  value={values.password_confirmation}\r\n                  placeholder=\"Confirm Password\"\r\n                  name=\"password_confirmation\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={touched.password_confirmation && errors.password_confirmation ? \"error\" : null}/>\r\n              </InputGroup>\r\n              {touched.password_confirmation && errors.password_confirmation ? (\r\n                <div className=\"error-message\">{errors.password_confirmation}</div>\r\n              ): null}\r\n            </Form.Group>\r\n            <Button className=\"signup\" onClick={handleSubmit}>Sign Up</Button>\r\n            <p> Already have a Bloom account? <Button className=\"toggle-button\" onClick={() => this.props.toggleLogin(true)}> Log in. </Button></p>\r\n          </Form>\r\n        )}\r\n        </Formik>\r\n);\r\n\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.userReducer.user\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  signUpUser: (values) => signup(values)\r\n}, dispatch)\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupForm);\r\n","import React from 'react';\r\nimport './LoginForm.css'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport paint from '../../assets/abstract-painting.jpg';\r\nimport LoginForm from './LoginForm'\r\nimport SignupForm from './SignupForm'\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {login} from '../../reduxFolder/redux.js'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { Image } from 'react-bootstrap';\r\n// import ReactDOM from 'react-dom';\r\n// import { useGoogleLogin } from 'react-google-login';\r\n// import FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\nclass Registration extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      message: {},\r\n      displayLogin: props.location.pathname == \"/login\"\r\n    };\r\n\r\n    this.toggleLogin = this.toggleLogin.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState)  {\r\n    // means we updated redux store with the user and have successfully logged in\r\n    if (prevProps.user !== this.props.user) {\r\n      if(this.props.appointments) {\r\n        this.props.history.push({\r\n          pathname: '/book/' + this.props.store_id,\r\n          appointments: this.props.appointments,\r\n          currentStep: 3\r\n        })\r\n      } else {\r\n        this.props.history.push({\r\n          pathname: '/'\r\n        })\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n  toggleLogin(newValue) {\r\n    this.setState({\r\n      displayLogin: newValue\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const RenderLoginOrSignup = (props) => {\r\n      if(this.state.displayLogin) {\r\n        return <LoginForm title=\"Login\" history={this.props.history} toggleLogin={this.toggleLogin}/>\r\n      } else {\r\n        return <SignupForm history={this.props.history} toggleLogin={this.toggleLogin}/>\r\n      }\r\n    }\r\n    return (\r\n      <Container fluid>\r\n        <Image src={paint} alt=\"paint\" style={{top: 0, left: 0, position: 'absolute', width:'100%', filter: 'grayscale(0.4)'}}/>\r\n        <Row className=\"justify-content-center mt-5\">\r\n          <Col xs={8} sm={7} md={6} lg={5}>\r\n            <RenderLoginOrSignup/>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Registration;\r\n","import React from 'react';\r\nimport { Form, InputGroup, Button } from 'react-bootstrap';\r\nimport Col from 'react-bootstrap/Col'\r\nimport './SearchBar.css'\r\nimport {withRouter} from 'react-router'\r\nimport { FiSearch } from 'react-icons/fi';\r\nimport Select from 'react-select'\r\n\r\nconst helper = require('./helper.js');\r\n\r\nclass SearchBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      center: {\r\n        lat: '',\r\n        lng: ''\r\n      },\r\n      categories: helper.getCategoriesAsPairs(),\r\n      selectedCategory: '',\r\n      address: '',\r\n      distance: 15,\r\n    }\r\n\r\n    this.autocomplete = null\r\n    this.handlePlaceSelect = this.handlePlaceSelect.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSelectChange = (selectedCategory) => {\r\n    this.setState({ selectedCategory });\r\n  }\r\n\r\n  handleSubmit() {\r\n    let queryString = require('./helper.js').queryString;\r\n    const formState = (({ address, distance, nails, hair, spa, facials, barber, makeup }) => ({ address, distance, nails, hair, spa, facials, barber, makeup }))(this.state);\r\n    let query = queryString(formState)\r\n    console.log(\"query is: \", query)\r\n    console.log(\"address is: \", this.state.address)\r\n    this.props.history.push({\r\n      pathname: \"/search\",\r\n      search: query,\r\n      state: {\r\n        address: this.state.address\r\n      }\r\n    });\r\n  }\r\n\r\n  handlePlaceSelect() {\r\n    let addressObject = this.autocomplete.getPlace()\r\n    let address = addressObject.address_components.map(function(elem){\r\n                      return elem.long_name;\r\n                  }).join(\", \");\r\n\r\n    this.setState({\r\n      address: address,\r\n      center: {\r\n        lat: addressObject.geometry.location.lat(),\r\n        lng: addressObject.geometry.location.lng()\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  componentDidMount () {\r\n    const google = window.google;\r\n    this.autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'), { })\r\n\r\n    this.autocomplete.addListener(\"place_changed\", this.handlePlaceSelect)\r\n    if(this.props.location.state && this.props.location.state.address) {\r\n      console.log(\"exists address\", this.props.location.state.address)\r\n      this.setState({\r\n        address: this.props.location.state.address\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Form inline className=\"full-width\">\r\n          <Form.Row className=\"px-1 full-width\">\r\n            <Col xs={12} md={6} className=\"form-horizontal\">\r\n              <Form.Group className=\"full-width\" controlId=\"autocomplete\">\r\n                <InputGroup className=\"not-auto\">\r\n                  <Form.Control\r\n                    className=\"full-width\"\r\n                    type=\"text\"\r\n                    placeholder=\"Try 'New Haven, CT'\"\r\n                    autoComplete=\"new-password\"\r\n                  />\r\n                  <InputGroup.Append>\r\n                    <Button variant=\"secondary\" onClick={this.handleSubmit} disabled={!this.state.address}>\r\n                      <FiSearch />\r\n                    </Button>\r\n                  </InputGroup.Append>\r\n                </InputGroup>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col xs={12} md={3}>\r\n              <Form.Group className=\"full-width\">\r\n              <Select\r\n                className=\"full-width\"\r\n                value={this.state.selectedCategory}\r\n                onChange={this.handleSelectChange}\r\n                options={this.state.categories}\r\n              />\r\n              </Form.Group>\r\n            </Col>\r\n          </Form.Row>\r\n        </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchBar);\r\n","import React from 'react';\r\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\";\r\nimport './MainNavbar.css'\r\nimport { connect } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom'\r\nimport SearchBar from '../Search/SearchBar'\r\n\r\nclass MainNavbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    let storeDisplay = null\r\n\r\n    const RenderNavBarBasedOnPageAndUser = (props) => {\r\n      let location = useLocation();\r\n      if(location.pathname == '/search') {\r\n        return <Nav className=\"full-width\">\r\n            <SearchBar className=\"nav-link\"/>\r\n          </Nav>\r\n      }\r\n      if(this.props.user == null || (Object.keys(this.props.user).length === 0 && this.props.user.constructor === Object)) {\r\n        return <Nav className=\"left\">\r\n          <Link to=\"/login\" className=\"nav-link\">Login</Link>\r\n          <Link to=\"/signup\" className=\"nav-link\">Signup</Link>\r\n        </Nav>\r\n      } else {\r\n        if(this.props.user.role != '0'){\r\n          storeDisplay = <NavDropdown title=\"Manage Stores\" id=\"basic-nav-dropdown\">\r\n            <NavDropdown.Item href={\"/users/\" + this.props.user.id + \"/stores\"}>Dashboard</NavDropdown.Item>\r\n            {/* <NavDropdown.Item href=\"/stores/:store_id/services\">Services</NavDropdown.Item> */}\r\n            <NavDropdown.Divider />\r\n            <NavDropdown.Item href=\"/store/signup\">Create Store</NavDropdown.Item>\r\n          </NavDropdown>\r\n        }\r\n        else{\r\n          storeDisplay = <Link to=\"/store/signup\" className=\"nav-link\">Create Store</Link>\r\n        }\r\n        return <Nav>\r\n          {storeDisplay}\r\n          <NavDropdown title=\"Profile\" id=\"basic-nav-dropdown\">\r\n          <NavDropdown.Item href={\"/users/\" + this.props.user.id}>View</NavDropdown.Item>\r\n            <NavDropdown.Item href={\"/users/edit/\" + this.props.user.id}>Edit</NavDropdown.Item>\r\n          </NavDropdown>\r\n          <Link to={\"/users/\" + this.props.user.id + '/appointments'} className=\"nav-link\">My Appointments</Link>\r\n          <Link style={{position: 'absolute', right: 60}} to=\"/logout\" className=\"nav-link\">Logout</Link>\r\n        </Nav>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"light\" variant=\"light\" fixed=\"top\">\r\n        <Link to=\"/\" className=\"navbar-brand\" style={{fontFamily: 'Megrim, cursive', fontSize: '35px'}}>Bloom</Link>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"left\" style={{marginRight: '120px'}}>\r\n            <Link to=\"/about\" className=\"nav-link\">About</Link>\r\n          </Nav>\r\n          <RenderNavBarBasedOnPageAndUser/>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.userReducer.user\r\n})\r\n\r\nexport default connect(mapStateToProps)(MainNavbar);\r\n","import { USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_SIGNUP_SUCCESS, USER_SIGNUP_FAILURE, USER_LOGOUT, EDIT_USER_SUCCESS, UPDATE_ROLE } from \"../actions/user\"\r\n\r\nconst initialState = {\r\n  user: {},\r\n  error: {},\r\n}\r\n\r\nfunction userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_LOGIN_FAILURE:\r\n      return Object.assign({}, state, {\r\n        error: action.error\r\n      })\r\n\r\n    case USER_LOGIN_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        user: action.user\r\n      })\r\n\r\n    case USER_SIGNUP_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        user: action.user\r\n      })\r\n  \r\n    case USER_SIGNUP_FAILURE:\r\n      return Object.assign({}, state, {\r\n        error: action.error\r\n      })\r\n\r\n    case EDIT_USER_SUCCESS:\r\n      return Object.assign({}, state, {\r\n        user: action.user\r\n      })\r\n\r\n    case USER_LOGOUT:\r\n      return Object.assign({}, state, {\r\n        user: {}\r\n      })\r\n\r\n    case UPDATE_ROLE:\r\n      let new_user = state.user\r\n      new_user.role = action.role\r\n      return Object.assign({}, state, {\r\n        user: new_user\r\n      })\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import { ADD_ALERT, REMOVE_ALERT } from \"../actions/alert\"\r\n\r\nconst initialState = {\r\n  alert: {}\r\n}\r\n\r\nfunction alertReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_ALERT:\r\n      return Object.assign({}, state, {\r\n        alert: action.message\r\n      })\r\n    case REMOVE_ALERT:\r\n      return Object.assign({}, state, {\r\n        alert: {}\r\n      })\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default alertReducer","import { ADD_STORE } from \"../actions/stores\"\r\n\r\nconst initialState = {\r\n  stores: [],\r\n}\r\n\r\nfunction storeReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n\r\n    case ADD_STORE:\r\n\r\n      let new_stores = state.stores\r\n      if(new_stores) {\r\n        new_stores.push(action.store)\r\n      }\r\n      else {\r\n        new_stores = [action.store]\r\n      }\r\n      return Object.assign({}, state, {\r\n        stores: new_stores\r\n      })\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default storeReducer;\r\n","export const ADD_STORE = 'ADD_STORE'\r\n\r\nexport function addStore(store) {\r\n  return {\r\n    type: ADD_STORE,\r\n    store: store,\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport userReducer from './user'\r\nimport alertReducer from './alert'\r\n// import serviceReducer from './service'\r\n// import workerReducer from './worker'\r\nimport storeReducer from './stores'\r\n\r\nlet rootReducer = combineReducers({\r\n  userReducer,\r\n  alertReducer,\r\n  storeReducer\r\n  // serviceReducer,\r\n  // workerReducer\r\n})\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport reducers from './reducers/index';\r\nimport thunk from 'redux-thunk';\r\n\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serializedState = JSON.stringify(state)\r\n    localStorage.setItem('state', serializedState)\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n  try {\r\n    const serializedState = localStorage.getItem('state')\r\n    if(serializedState === null) return undefined\r\n    return JSON.parse(serializedState)\r\n  } catch (e) {\r\n    console.log(e)\r\n    return undefined\r\n  }\r\n}\r\n\r\nconst persistedState = loadFromLocalStorage()\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  persistedState,\r\n  applyMiddleware(thunk)\r\n)\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()))\r\n\r\nexport default store;","import React from 'react';\r\nimport './AdvancedSearch.css'\r\nimport { Form, Row, Col, Container} from 'react-bootstrap';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst helper = require('./helper.js');\r\n\r\nclass AdvancedSearch extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: [],\r\n      address: '',\r\n      distance: 1,\r\n      redirect: false,\r\n      center: {\r\n        lat: '',\r\n        lng: ''\r\n      },\r\n      category: helper.getCategories(),\r\n      nails: false,\r\n      hair: false,\r\n      facials: false,\r\n      barber: false,\r\n      spa: false,\r\n      makeup: false,\r\n    };\r\n    this.autocomplete = null\r\n    this.redirect = false\r\n\r\n    this.handlePlaceSelect = this.handlePlaceSelect.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.onRemove = this.onRemove.bind(this);\r\n  }\r\n\r\n  onSelect(selectedList, selectedItem) {\r\n\r\n    this.setState({\r\n      selected: selectedList\r\n    })\r\n\r\n    selectedItem = selectedItem.name;\r\n\r\n    if(selectedItem == \"Nail Salon\"){\r\n      this.setState({\r\n        nails: true\r\n      })\r\n    }\r\n    else if(selectedItem == \"Hair Salon\"){\r\n      this.setState({\r\n        hair: true\r\n      })\r\n    }\r\n    else if(selectedItem == \"Facials\"){\r\n      this.setState({\r\n        facials: true\r\n      })\r\n    }\r\n    else if(selectedItem == \"Spa & Wellness\"){\r\n      this.setState({\r\n        spa: true\r\n      })\r\n    }\r\n    else if(selectedItem == \"Makeup\"){\r\n      this.setState({\r\n        makeup: true\r\n      })\r\n    }\r\n    else{\r\n      if(selectedItem == \"Barbershops\"){\r\n        this.setState({\r\n          barber: true\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  onRemove(selectedList, removedItem, event) {\r\n\r\n    this.setState({\r\n      selected: selectedList\r\n    })\r\n\r\n    removedItem = removedItem.name;\r\n\r\n    if(removedItem == \"Nail Salon\"){\r\n      this.setState({\r\n        nails: false\r\n      })\r\n    }\r\n    else if(removedItem == \"Hair Salon\"){\r\n      this.setState({\r\n        hair: false\r\n      })\r\n    }\r\n    else if(removedItem == \"Facials\"){\r\n      this.setState({\r\n        facials: false\r\n      })\r\n    }\r\n    else if(removedItem == \"Spa & Wellness\"){\r\n      this.setState({\r\n        spa: false\r\n      })\r\n    }\r\n    else if(removedItem == \"Makeup\"){\r\n      this.setState({\r\n        makeup: false\r\n      })\r\n    }\r\n    else if(removedItem == \"Barbershops\"){\r\n      this.setState({\r\n        barber: false\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const google = window.google;\r\n    this.autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'), { })\r\n\r\n    this.autocomplete.addListener(\"place_changed\", this.handlePlaceSelect)\r\n  }\r\n\r\n  handlePlaceSelect() {\r\n    let addressObject = this.autocomplete.getPlace()\r\n\r\n    let address = addressObject.address_components.map(function(elem){\r\n                      return elem.long_name;\r\n                  }).join(\", \");\r\n\r\n    this.setState({\r\n      address: address,\r\n      center: {\r\n        lat: addressObject.geometry.location.lat(),\r\n        lng: addressObject.geometry.location.lng()\r\n      }\r\n    })\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      distance: parseInt(event.target.value.split(\" \")[0])\r\n    })\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    // for some reason doesn't work without this..\r\n    event.preventDefault();\r\n\r\n    if(!this.state.address) {\r\n      return;\r\n    }\r\n\r\n    let queryString = helper.queryString;\r\n    let query = queryString(this.state)\r\n\r\n    console.log(this.state);\r\n    console.log(query);\r\n\r\n    const fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n    console.log(\"environment is: \", process.env.NODE_ENV)\r\n    console.log(\"fetch prod is: \", process.env.REACT_APP_FETCH_DOMAIN_PROD)\r\n    console.log(\"fetch dev is: \", process.env.REACT_APP_FETCH_DOMAIN_DEV)\r\n    console.log(\"fetch domain is: \", fetchDomain)\r\n    fetch(fetchDomain + '/stores' + query, {\r\n      method: \"GET\",\r\n      headers: {\r\n          'Content-type': 'application/json'\r\n      }\r\n    })\r\n    .then(function(response){\r\n      if(response.status!==200){\r\n        // throw an error alert\r\n        store.dispatch(addAlert(response))\r\n      }\r\n      else{\r\n        return response.json();\r\n      }\r\n    })\r\n    .then(data => {\r\n      if(data){\r\n        let stateRep = this.state\r\n        stateRep.stores = data\r\n        stateRep.redirect = true\r\n        // stateRep.center = {\r\n        //   lat: \"34.277639\",\r\n        //   lng: \"-118.3741806\"\r\n        // }\r\n\r\n        this.props.history.push({\r\n          pathname: '/search',\r\n          search: query,\r\n          state: stateRep\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"book_window\">\r\n      <Form className=\"formBody rounded\" onSubmit={this.handleSubmit}>\r\n        <h3>Book Now</h3>\r\n        <Form.Group controlId=\"autocomplete\">\r\n        <Row>\r\n          <Form.Label>Address</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Try 'New Haven, CT'\"\r\n            autoComplete=\"new-password\"\r\n          />\r\n        </Row>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Row>\r\n          <Form.Label>Distance</Form.Label>\r\n          <Form.Control as=\"select\" id=\"distance\" onChange={this.handleChange}>\r\n            <option>1 mile</option>\r\n            <option>5 miles</option>\r\n            <option>10 miles</option>\r\n            <option>25 miles</option>\r\n            <option>50 miles</option>\r\n          </Form.Control>\r\n          </Row>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"category\">\r\n          <Row>\r\n          <Form.Label>Category</Form.Label>\r\n\r\n\r\n          <Multiselect\r\n            options={this.state.category}\r\n            onSelect={this.onSelect}\r\n            onRemove={this.onRemove}\r\n            placeholder=\"Category\"\r\n            closeIcon=\"cancel\"\r\n            displayValue=\"name\"\r\n            avoidHighlightFirstOption={true}\r\n            style={{multiselectContainer: { width: '100%'},  groupHeading:{width: 50, maxWidth: 50}, chips: { background: \"#587096\", height: 35 }, inputField: {color: 'black'}, searchBox: { minWidth: '100%', height: '30', backgroundColor: 'white', borderRadius: \"5px\" }} }\r\n            />\r\n\r\n          </Row>\r\n        </Form.Group>\r\n          <Button disabled={!(this.state.address)} style={{backgroundColor: '#8CAFCB', border: '0px'}} type=\"submit\">Submit</Button>\r\n      </Form>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AdvancedSearch);\r\n","import React from 'react';\r\nimport './Homepage.css';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\nconst helper = require('../Search/helper.js');\r\n\r\nclass Category extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stores: [],\r\n      address: '',\r\n      distance: 1,\r\n      redirect: false,\r\n      center: {\r\n        lat: '',\r\n        lng: ''\r\n      },\r\n      nails: false,\r\n      hair: false,\r\n      facials: false,\r\n      barber: false,\r\n      spa: false,\r\n      makeup: false,\r\n    };\r\n\r\n    this.getStores = this.getStores.bind(this);\r\n    this.getCurrentLocation = this.getCurrentLocation.bind(this);\r\n  }\r\n\r\n  async getCurrentLocation() {\r\n\r\n    const google = window.google;\r\n    if (navigator.geolocation) {\r\n         this._displayLocation = (latitude, longitude) => {\r\n          const geocoder = new google.maps.Geocoder();\r\n          const latlng = new google.maps.LatLng(latitude, longitude);\r\n          this.geocodeAddress(geocoder, latlng);\r\n        };\r\n    this.geoSuccess = (position) => {\r\n         this._displayLocation(position.coords.latitude, position.coords.longitude);\r\n      };\r\n    this.geoError = (error) => {\r\n        switch (error.code) {\r\n          case error.TIMEOUT:\r\n          console.log(\"Browser geolocation error !\\n\\nTimeout.\");\r\n          break;\r\n          case error.PERMISSION_DENIED:\r\n          console.log(\"Only secure origins are allowed\");\r\n          break;\r\n          case error.POSITION_UNAVAILABLE:\r\n          console.log(\"Browser geolocation error !\\n\\nPosition unavailable.\");\r\n          break;\r\n          default:\r\n          console.log(error.code);\r\n          break;\r\n         }\r\n      };\r\n       await navigator.geolocation.getCurrentPosition(this.geoSuccess, this.geoError);\r\n      }\r\n      else {\r\n       console.log(\"Geolocation is not supported for this Browser/OS.\");\r\n      }\r\n\r\n\r\n    this.geoCodeCallback = (results, status, event) => {\r\n        const google = window.google; // eslint-disable-line\r\n       if (status === google.maps.GeocoderStatus.OK) {\r\n        if (results[0]) {\r\n          const add = results[0].formatted_address;\r\n          const value = add.split(\",\");\r\n          const count = value.length;\r\n          const city = value[count - 3];\r\n          console.log(\"My Current Location:\", add)\r\n          this.setState({\r\n            address: add\r\n          })\r\n          // here we can dispatch action to search by city name and autofill the autocomplete\r\n        } else {\r\n          console.log(\"address not found\");\r\n        }\r\n        } else {\r\n          console.log(status);\r\n        }\r\n      }\r\n    this.geocodeAddress = (geocoder, latlng) => {\r\n\r\n      this.setState({\r\n        center: {\r\n          lat: latlng.lat(),\r\n          lng: latlng.lng()\r\n        },\r\n      })\r\n        geocoder.geocode({ location: latlng }, this.geoCodeCallback);\r\n      }\r\n\r\n\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    if(prevState.address != this.state.address){\r\n      await this.setState({\r\n        [this.props.id]: true\r\n      })\r\n\r\n      console.log(this.state)\r\n\r\n      let query = helper.queryString(this.state)\r\n\r\n      fetch(fetchDomain + '/stores' + query, {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        }\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if(data){\r\n          let stateRep = this.state\r\n          stateRep.stores = data\r\n          stateRep.redirect = true\r\n          // stateRep.center = {\r\n          //   lat: \"34.277639\",\r\n          //   lng: \"-118.3741806\"\r\n          // }\r\n\r\n          this.props.history.push({\r\n            pathname: '/search',\r\n            search: query,\r\n            state: stateRep\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  async getStores() {\r\n\r\n    this.getCurrentLocation()\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={() => this.getStores()} className=\"image_container\" style={this.props.style}>\r\n      <img src={this.props.img} alt=\"paint\" className=\"images\"\r\n\r\n      />\r\n      <p className=\"text\"> {this.props.text} </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Category;\r\n","import React from 'react';\r\n// import Container from 'react-bootstrap/Container'\r\nimport {Row, Col, Container, Button} from 'react-bootstrap'\r\nimport AdvancedSearch from '../Search/AdvancedSearch';\r\nimport './Homepage.css';\r\nimport paint from '../../assets/abstract-painting.jpg';\r\nimport barber from '../../assets/barber.jpg';\r\n// import bride_hair from '../../assets/bride_hair.jpg';\r\nimport facials from '../../assets/facials.jpg';\r\nimport hair from '../../assets/hair.jpg';\r\nimport lipstics from '../../assets/lipstics2.jpg';\r\nimport massage from '../../assets/massage3.jpg';\r\nimport nails from '../../assets/nails3.jpg';\r\nimport salon from '../../assets/salon.jpg';\r\nimport paint_line from '../../assets/paint_line.png';\r\nimport Typist from 'react-typist';\r\nimport { useState, useEffect } from 'react'\r\n// import { useSpring, animated as a } from 'react-spring'\r\n// import TrackVisibility from 'react-on-screen';\r\nimport VizSensor from 'react-visibility-sensor';\r\n// import Typing from 'react-typing-animation';\r\nimport Category from './Category.js';\r\n\r\nconst calc = (x, y) => [-(y - window.innerHeight / 2) / 20, (x - window.innerWidth / 2) / 80, 1.04]\r\nconst trans = (x, y, s) => `perspective(600px) scale(${s})`\r\n\r\n\r\nfunction useScreenWidth(): number {\r\n\r\n  const [position, setPosition] = useState({ xys: [0, 0, 1]});\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n    let setFromEvent;\r\n    let setLeaveEvent;\r\n\r\n    if(mounted){\r\n      setFromEvent = e => setPosition({  xys: calc(e.clientX, e.clientY) });\r\n      setLeaveEvent = e => setPosition({ xys : [0, 0, 1]})\r\n      window.addEventListener(\"mousemove\", setFromEvent);\r\n    }\r\n\r\n    return () => {\r\n      mounted = false;\r\n      window.removeEventListener(\"mousemove\", setFromEvent);\r\n    };\r\n  });\r\n\r\n  return position;\r\n}\r\n\r\nfunction useScroll() : number {\r\n  const [scrollPosition, setSrollPosition] = useState(0);\r\n  const handleScroll = () => {\r\n      const position = window.pageYOffset;\r\n      setSrollPosition(position);\r\n  };\r\n\r\n  useEffect(() => {\r\n      window.addEventListener('scroll', handleScroll);\r\n      return () => {\r\n          window.removeEventListener('scroll', handleScroll);\r\n      };\r\n  }, []);\r\n\r\nreturn scrollPosition;\r\n}\r\n\r\nfunction useResizeWidth(): number {\r\n\r\n  const [width, setWidth] = useState(window.innerWidth)\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n    let handleResize;\r\n\r\n    if(mounted){\r\n      handleResize = () => {\r\n        setWidth(window.innerWidth)\r\n      }\r\n      window.addEventListener('resize', handleResize)\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n      window.removeEventListener('resize', handleResize)\r\n    }\r\n\r\n  })\r\n\r\n  return width;\r\n}\r\n\r\nfunction ScreenWidth ({ listen, children }) {\r\n  const screenWidth: number = useScreenWidth();\r\n  // console.log(screenWidth);\r\n  return children(screenWidth);\r\n\r\n};\r\n\r\nfunction ScreenResize ({listen, children }) {\r\n  const resize: number = useResizeWidth();\r\n  // console.log(screenWidth);\r\n  return children(resize);\r\n};\r\n\r\nfunction ScreenScroll ({ listen, children }) {\r\n  const scroll: number = useScroll();\r\n  // console.log(scroll);\r\n  return children(scroll);\r\n\r\n};\r\n\r\n\r\nclass Homepage extends React.Component {\r\n  constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        Visible: false\r\n      }\r\n\r\n      // this.handleMouseEnter = this.handleMouseEnter.bind(this, this.props.handleMouseEnter)\r\n      // this.handleMouseMove = this.handleMouseMove.bind(this, this.props.handleMouseMove)\r\n      // this.handleMouseLeave = this.handleMouseLeave.bind(this, this.props.handleMouseLeave)\r\n\r\n  }\r\n\r\n  goToStore() {\r\n    this.props.history.push({\r\n      pathname: '/store/signup'\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    // console.log(this.state.Visible)\r\n    return (\r\n      <Container fluid style={{backgroundColor: '#c0cbcf'}}>\r\n        <div>\r\n          <ScreenWidth>\r\n            {(position) =>\r\n            <img src={paint} alt=\"paint\" style={{top: 80, left: 0, position: 'absolute', height: '700px', width:'100%', transform: `perspective(600px) rotateX(${position.xys[0]/10}deg) rotateY(${position.xys[1]/10}deg) scale(${position.xys[2]})` }}\r\n              // onMouseMove={({ clientX: x, clientY: y }) => set({ xys: calc(x, y) })}\r\n              // onMouseLeave={() => set({ xys: [0, 0, 1] })}\r\n            />\r\n            }\r\n          </ScreenWidth>\r\n        </div>\r\n            <Row style={{marginTop: 120, height: 500, marginLeft: '10%'}}>\r\n            <ScreenResize>\r\n            {(width) => {\r\n              if(width > 1000) {\r\n                return (\r\n                <AdvancedSearch/>)\r\n              }\r\n              else {\r\n                return null;\r\n              }\r\n            }}\r\n            </ScreenResize>\r\n            <Col style={{margin:'10%', marginTop: '0%'}}>\r\n              <Row style={{marginLeft:'10%', marginTop: '2%'}}>\r\n                <p className=\"welcome\"> Welcome to </p>\r\n                <p className=\"bloom\"> Bloom </p>\r\n              </Row>\r\n              <p className=\"subtitle\"> A platform that helps you find\r\n              salons, beauty experts and stylists that are located near your house\r\n              and will soon become your favorite salons. ETC ETC We can change that later. </p>\r\n\r\n            </Col>\r\n          </Row>\r\n\r\n          <Col className=\"type_container\">\r\n            <VizSensor\r\n             onChange={(isVisible) => {\r\n               this.setState({Visible: isVisible})\r\n             }}\r\n             active={!this.state.Visible}>\r\n\r\n           <p style={{fontSize: 25, fontFamily: 'Bellota, cursive', fontWeight: 'bold'}}> At Bloom </p>\r\n           </VizSensor>\r\n\r\n           <Col>\r\n            {(this.state.Visible) ?\r\n              <Typist\r\n                className=\"typist\"\r\n                avgTypingDelay={100}\r\n                startDelay={10}\r\n                cursor={{\r\n                  show: true,\r\n                  blink: true,\r\n                  element: '|',\r\n                }}\r\n              >\r\n                You can find hair salons.\r\n\r\n                <Typist.Backspace count={12} delay={200} />\r\n                  <span> nail salons.</span>\r\n                <Typist.Backspace count={12} delay={200} />\r\n                  <span> beauty salons and more.</span>\r\n\r\n\r\n            </Typist>\r\n           : null}\r\n          </Col>\r\n        </Col>\r\n\r\n          <Col style={{marginLeft: '2%', marginTop: '3%'}}>\r\n            <Row>\r\n            <Category history={this.props.history} id={\"hair\"}  img={hair} text={\"Hair Salons\"}/>\r\n            <Category history={this.props.history} id={\"makeup\"} img={lipstics} text={\"Makeup Artists\"}/>\r\n            <Category history={this.props.history} id={\"barber\"} img={barber} text={\"Barber Shops\"}/>\r\n            </Row>\r\n            <Row>\r\n            <Category history={this.props.history} id={\"nails\"} img={nails} text={\"Nail Salons\"}/>\r\n            <Category history={this.props.history} id={\"facials\"} img={facials} text={\"Facials\"}/>\r\n            <Category history={this.props.history} id={\"spa\"} img={massage} text={\"Spa\"}/>\r\n            </Row>\r\n          </Col>\r\n\r\n          <Col style={{ marginTop: '8%', backgroundColor: '#e8e3d8'}}>\r\n          <Row>\r\n          <Col style={{margin: '5%', marginTop: '10%'}}>\r\n          <p className=\"header\"> Are you a salon owner? </p>\r\n          <p style={{fontSize: 20}}> Join our community by signing up your salon today! Join our community by signing up your salon today. Join our community by signing up your salon today.\r\n          Join our community by signing up your salon today. Join our community by signing up your salon today. </p>\r\n          <Button onClick={() =>  this.goToStore()} style={{marginTop: '5%', backgroundColor: '#354B74', border: 0}}> Learn More </Button>\r\n          </Col>\r\n          <img src={salon} className=\"salon\" alt=\"paint\"/>\r\n          </Row>\r\n          </Col>\r\n\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Homepage;\r\n","import React from 'react';\r\nimport './StaticPage.css';\r\nimport {Container, Col, Row} from 'react-bootstrap'\r\nimport paint from '../../assets/abstract-painting.jpg';\r\n\r\nclass StaticPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n\r\n          <img src={paint} alt=\"paint\" style={{top: 0, left: 0, position: 'absolute', height: '100%', width:'100%', filter: 'grayscale(0.4)'}}/>\r\n          <Row className=\"justify-content-center\">\r\n            <Col xs={12} sm={11} md={10} lg={9}>\r\n              <div className=\"container_about\">\r\n                <h1 className=\"about\">~ About Us ~</h1>\r\n                    <p style={{fontSize: 22, marginTop: '5%'}}>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n                    Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,\r\n                    when an unknown printer took a galley of type and scrambled it to make a type\r\n                    specimen book. It has survived not only five centuries, but also the leap into\r\n                    electronic typesetting, remaining essentially unchanged. It was popularised in\r\n                    the 1960s with the release of Letraset sheets containing Lorem Ipsum passages,\r\n                    and more recently with desktop publishing software like Aldus PageMaker including\r\n                    versions of Lorem Ipsum\r\n                    </p>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StaticPage;\r\n","import React from 'react';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport './LargeCarousel.css'\r\n\r\n\r\nclass LargeCarousel extends React.Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <Carousel style={this.props.style} interval=\"\">\r\n        {this.props.pictures.map((picture, index) => (\r\n          <Carousel.Item key={\"pic-\" + index}>\r\n            <img style={this.props.img} src={picture.url} alt={\"Slide \" + index} />\r\n          </Carousel.Item>\r\n        ))}\r\n      </Carousel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LargeCarousel;\r\n","import React from 'react';\r\nimport LargeCarousel from '../LargeCarousel';\r\nimport Card from 'react-bootstrap/Card'\r\nimport { Button, Carousel, Image, Col } from 'react-bootstrap';\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nclass SearchCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pictures: []\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Col xs={12} className=\"my-3 px-0 h-100\">\r\n        <Card style={{height: '100%'}}>\r\n          <Row style={{height: '100%'}}>\r\n            <Col md={6} className=\"vertical-align-contents px-0 h-100 w-100\">\r\n              <Carousel interval=\"\">\r\n                {this.props.store.pictures.map((picture, index) => (\r\n                  <Carousel.Item key={\"pic-\" + index}>\r\n                    <Image fluid src={picture.url} alt={\"Slide \" + index} />\r\n                  </Carousel.Item>\r\n                ))}\r\n              </Carousel>\r\n            </Col>\r\n            <Col md={6} className=\"vertical-align-contents px-0 h-100\">\r\n              <Card.Body >\r\n                <div>\r\n                  <Card.Title onClick={() => this.props.onClickFunctionStore(this.props.store.id)} style={{cursor: 'pointer'}} >{this.props.store.name}</Card.Title>\r\n                  <Card.Text className=\"mb-3\">{this.props.store.description}</Card.Text>\r\n                </div>\r\n                <Button style={{backgroundColor: '#8CAFCA', border: 0}} onClick={() => this.props.onClickFunctionBook(this.props.store.id)}>Book Now</Button>\r\n              </Card.Body>\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchCard;\r\n","import React, { Component } from 'react';\r\nimport { Map, InfoWindow, Marker } from 'google-maps-react';\r\nimport SearchCard from '../Search/SearchCard';\r\n\r\nclass MapContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showingInfoWindow: false,  //Hides or the shows the infoWindow\r\n      activeMarker: {},          //Shows the active marker upon click\r\n      selectedPlace: {},          //Shows the infoWindow to the selected place upon a marker\r\n      activeMarkerIndex: 0\r\n    };\r\n\r\n    this.onMarkerClick = this.onMarkerClick.bind(this);\r\n    this.onClose = this.onClose.bind(this);\r\n  }\r\n\r\n  displayMarkers() { \r\n    if(this.props.stores) {\r\n      return this.props.stores.map((store, index) => { \r\n        return <Marker key={\"store-\" + index} id={index} position={{ \r\n                       lat: store.lat, \r\n                       lng: store.lng }} \r\n                       onClick={this.onMarkerClick}\r\n                       name={store.name} /> \r\n      }) \r\n    } else {\r\n      return null\r\n    }\r\n  } \r\n\r\n  onMarkerClick = (props, marker, e) =>\r\n  this.setState({\r\n    selectedPlace: props,\r\n    activeMarker: marker,\r\n    showingInfoWindow: true,\r\n    activeMarkerIndex: marker.id\r\n  });\r\n\r\n  onClose = props => {\r\n    if (this.state.showingInfoWindow) {\r\n      this.setState({\r\n        showingInfoWindow: false,\r\n        activeMarker: null\r\n      });\r\n    }\r\n  };\r\n\r\n  onClickFunction (id) {\r\n    console.log(\"Here1\")\r\n    // Currently not working...\r\n    // window.location.href='/book/' + id\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(prevProps != this.props){\r\n      // console.log(\"BEFORE\", prevProps, \"AFTER\", this.props)\r\n      // for some reason, center is not updating, the value changes but visually it does not\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n  const DisplayInfoWindowContents = (props) => {\r\n    if(this.props.stores) {\r\n      return <h4 className=\"mb-0\">{this.props.stores[this.state.activeMarkerIndex].name}</h4>\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n    return (\r\n      <Map\r\n        google={this.props.google}\r\n        zoom={this.props.zoom}\r\n        style={this.props.mapStyles}\r\n        initialCenter={this.props.center}\r\n      >\r\n        {this.displayMarkers()}\r\n        <InfoWindow\r\n        marker={this.state.activeMarker}\r\n        visible={this.state.showingInfoWindow}\r\n        onClose={this.onClose}\r\n        >\r\n          <DisplayInfoWindowContents/>\r\n        </InfoWindow>\r\n      </Map>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapContainer;\r\n\r\n\r\n// for fixing clicking within infowindow, some resources: https://stackoverflow.com/questions/60426907/reactjs-onclick-not-triggered-on-click-of-button-inside-google-maps-marker-inf\r\n// https://github.com/fullstackreact/google-maps-react/issues/70\r\n// https://www.google.com/search?q=onclick+within+infowindow+not+working+react&rlz=1C5CHFA_enUS821US821&oq=onclick+within+infowindow+not+working+react&aqs=chrome..69i57.7600j0j7&sourceid=chrome&ie=UTF-8","import React from 'react'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst SearchDisplayLoader = props => (\r\n  <ContentLoader\r\n    speed={2}\r\n    width={600}\r\n    height={700}\r\n    viewBox=\"0 0 700 750\"\r\n    backgroundColor=\"#f5f5f5\"\r\n    foregroundColor=\"#dbdbdb\"\r\n    {...props}\r\n  >\r\n\r\n    <rect x=\"4\" y=\"0\" rx=\"3\" ry=\"3\" width=\"122\" height=\"26\" />\r\n    <rect x=\"4\" y=\"68\" rx=\"3\" ry=\"3\" width=\"7\" height=\"330\" />\r\n    <rect x=\"6\" y=\"390\" rx=\"3\" ry=\"3\" width=\"639\" height=\"8\" />\r\n    <rect x=\"640\" y=\"68\" rx=\"3\" ry=\"3\" width=\"6\" height=\"330\" />\r\n    <rect x=\"4\" y=\"70\" rx=\"3\" ry=\"3\" width=\"295\" height=\"325\" />\r\n    <rect x=\"346\" y=\"101\" rx=\"3\" ry=\"3\" width=\"231\" height=\"29\" />\r\n    <rect x=\"382\" y=\"183\" rx=\"3\" ry=\"3\" width=\"102\" height=\"7\" />\r\n    <rect x=\"372\" y=\"151\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"375\" y=\"199\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"386\" y=\"222\" rx=\"3\" ry=\"3\" width=\"102\" height=\"7\" />\r\n    <rect x=\"375\" y=\"249\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"386\" y=\"273\" rx=\"3\" ry=\"3\" width=\"102\" height=\"7\" />\r\n    <rect x=\"375\" y=\"300\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"5\" y=\"68\" rx=\"3\" ry=\"3\" width=\"639\" height=\"7\" />\r\n\r\n    <rect x=\"4\" y=\"350\" rx=\"3\" ry=\"3\" width=\"122\" height=\"26\" />\r\n    <rect x=\"4\" y=\"418\" rx=\"3\" ry=\"3\" width=\"7\" height=\"330\" />\r\n    <rect x=\"6\" y=\"740\" rx=\"3\" ry=\"3\" width=\"639\" height=\"8\" />\r\n    <rect x=\"640\" y=\"418\" rx=\"3\" ry=\"3\" width=\"6\" height=\"330\" />\r\n    <rect x=\"4\" y=\"420\" rx=\"3\" ry=\"3\" width=\"295\" height=\"325\" />\r\n    <rect x=\"346\" y=\"451\" rx=\"3\" ry=\"3\" width=\"231\" height=\"29\" />\r\n    <rect x=\"382\" y=\"533\" rx=\"3\" ry=\"3\" width=\"102\" height=\"7\" />\r\n    <rect x=\"372\" y=\"501\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"375\" y=\"549\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"386\" y=\"572\" rx=\"3\" ry=\"3\" width=\"102\" height=\"7\" />\r\n    <rect x=\"375\" y=\"599\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"386\" y=\"623\" rx=\"3\" ry=\"3\" width=\"102\" height=\"7\" />\r\n    <rect x=\"375\" y=\"650\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\r\n    <rect x=\"5\" y=\"418\" rx=\"3\" ry=\"3\" width=\"639\" height=\"7\" />\r\n    \r\n  </ContentLoader>\r\n)\r\n\r\nexport default SearchDisplayLoader","import React from \"react\"\r\nimport ContentLoader from \"react-content-loader\" \r\n\r\nconst SearchDisplayMobileLoader = props => (\r\n  <ContentLoader \r\n    speed={2}\r\n    width={'100%'}\r\n    height={'100%'}\r\n    viewBox=\"0 0 600 1300\"\r\n    backgroundColor=\"#f3f3f3\"\r\n    foregroundColor=\"#ecebeb\"\r\n    {...props}\r\n  >\r\n    <rect x=\"5\" y=\"20\" rx=\"0\" ry=\"0\" width=\"222\" height=\"50\" /> \r\n    <rect x=\"5\" y=\"103\" rx=\"0\" ry=\"0\" width=\"5\" height=\"800\" /> \r\n    <rect x=\"5\" y=\"103\" rx=\"0\" ry=\"0\" width=\"580\" height=\"5\" /> \r\n    <rect x=\"585\" y=\"103\" rx=\"0\" ry=\"0\" width=\"5\" height=\"800\" /> \r\n    <rect x=\"5\" y=\"900\" rx=\"0\" ry=\"0\" width=\"580\" height=\"5\" /> \r\n    <rect x=\"5\" y=\"103\" rx=\"0\" ry=\"0\" width=\"580\" height=\"450\" /> \r\n    <rect x=\"55\" y=\"603\" rx=\"0\" ry=\"0\" width=\"480\" height=\"40\" /> \r\n    <rect x=\"55\" y=\"663\" rx=\"0\" ry=\"0\" width=\"480\" height=\"20\" /> \r\n    <rect x=\"70\" y=\"703\" rx=\"0\" ry=\"0\" width=\"450\" height=\"20\" /> \r\n    <rect x=\"55\" y=\"743\" rx=\"0\" ry=\"0\" width=\"480\" height=\"20\" /> \r\n    <rect x=\"250\" y=\"803\" rx=\"0\" ry=\"0\" width=\"100\" height=\"50\" /> \r\n\r\n  </ContentLoader>\r\n)\r\n\r\nexport default SearchDisplayMobileLoader","import React from 'react';\r\nimport { Row } from 'react-bootstrap';\r\nimport Col from 'react-bootstrap/Col'\r\nimport SearchCard from './SearchCard'\r\nimport './SearchDisplay.css'\r\nimport MapContainer from '../Map/MapContainer'\r\nimport SearchDisplayLoader from './SearchDisplayLoader'\r\nimport SearchDisplayLoaderMobile from './SearchDisplayLoaderMobile'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\n\r\nclass SearchDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stores: [],\r\n      // center: {\r\n      //   lat: 0.0,\r\n      //   lng: 0.0\r\n      // },\r\n      zoom: 11,\r\n      mapStyles: {\r\n        width: '100%',\r\n        height: '100%'\r\n      },\r\n      center: {\r\n        lat: '',\r\n        lng: ''\r\n      },\r\n\r\n      loading: true,\r\n      query: this.props.location.search,\r\n      ownUpdate: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.state && this.props.location.state.stores && this.props.location.state.center) {\r\n      this.setState({\r\n        stores: this.props.location.state.stores,\r\n        center: this.props.location.state.center,\r\n        loading: false\r\n      })\r\n    }\r\n    else {\r\n      let link = window.location.href.split(\"search\")\r\n      let query = \"\"\r\n\r\n      if (link.length > 1) {\r\n        query = link[1]\r\n      }\r\n\r\n      this.getResults(false, query);\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, preState) {\r\n    if (preState.ownUpdate) {\r\n      return null\r\n    }\r\n    else {\r\n      if(nextProps.location.search !== preState.query) {\r\n        return {\r\n          loading: true\r\n        }\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location) {\r\n      if (this.props.location.search !== prevProps.location.search) {\r\n        this.getResults(true, this.props.location.search);\r\n      }\r\n    }\r\n  }\r\n\r\n  getResults(update, query) {\r\n    fetch(fetchDomain + '/stores' + query, {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n      .then(function (response) {\r\n        if (response.status !== 200) {\r\n          // should throw an error here\r\n          console.log(\"ERROR!\")\r\n        }\r\n        else {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if (data) {\r\n          this.setState({\r\n            stores: data,\r\n            center: {\r\n              lat: data[0].lat,\r\n              lng: data[0].lng,\r\n            },\r\n            loading: false,\r\n            ownUpdate: update\r\n          })\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const RenderStoreCards = (props) => {\r\n      return this.state.stores.map(store => (\r\n          <SearchCard key={\"store-\" + store.id} store={store}\r\n            onClickFunctionBook={() => window.location.href = '/book/' + store.id}\r\n            onClickFunctionStore={() => window.location.href = '/stores/' + store.id}\r\n          />\r\n      ))\r\n    }\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row>\r\n            <Col xs=\"12\">\r\n              <SearchDisplayLoader className={'d-none d-xl-block'}/>\r\n              <SearchDisplayLoaderMobile className={'d-block d-xl-none'}/>\r\n            </Col>\r\n          </Row>\r\n      } else if(this.state.stores.length > 0) {\r\n        return(<div>\r\n          <h3 className=\"text-left\"> {this.state.stores.length} results </h3>\r\n          <Row className=\"mx-0 justify-content-center search-cards-row\">\r\n            <RenderStoreCards/>\r\n          </Row>\r\n        </div>\r\n        )\r\n      } else {\r\n        return <Row>\r\n            <Col xs=\"12\">\r\n              <h5>No results!</h5>\r\n            </Col>\r\n          </Row>\r\n      }\r\n    }\r\n\r\n    const DisplayMapDynamic = (props) => {\r\n        return <MapContainer google={window.google}\r\n        stores={this.state.stores}\r\n        center={this.state.center}\r\n        zoom={this.state.zoom}\r\n        mapStyles={this.state.mapStyles} />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Row className=\"restrict-viewport mx-0\">\r\n          <Col xs={12} xl={6} className=\"px-5 my-3 h-100\">\r\n            <DisplayWithLoading/>\r\n          </Col>\r\n          <Col id=\"map\" xs={12} xl={6}>\r\n            <div className=\"position-fixed h-100 w-50 d-none d-xl-block\">\r\n              <DisplayMapDynamic/>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchDisplay;\r\n","import React from 'react';\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Card from 'react-bootstrap/Card'\r\nimport './ServiceSelection.css'\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nclass ServiceSelection extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      categories: ['Nails', 'Hair', 'Makeup', 'Eyelashes', 'Eyebrows', 'Facials', 'Skin Care']\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    let currService = this.props.services.find(x => x.name === event.target.id)\r\n    if (this.props.selectedServices.find(x => x.name === currService.name)) {\r\n      this.props.updateReservation(true, currService)\r\n    }\r\n    else {\r\n      this.props.updateReservation(false, currService);\r\n    }\r\n    this.setState({ [event.target.id]: !this.state[event.target.id] })\r\n  }\r\n\r\n  render() {\r\n    let that = this;\r\n    const ServiceCheckBoxes = (props) => {\r\n      if (props.services) {\r\n        const categories = props.categories.map((category) => {\r\n          return <div id={category} key={category} className=\"pl-4\">\r\n              <h4>{category}</h4>\r\n              {\r\n                props.services.map((service) => {\r\n                  if(service.category == category) {\r\n                    return <div key={service.name}>\r\n                      <Row>\r\n                        <Col xs='8' sm='10'>\r\n                          <Form.Check\r\n                            custom\r\n                            type=\"checkbox\" \r\n                            id={service.name}\r\n                            label={service.name} \r\n                            checked={this.props.selectedServices.find(x => x.name === service.name)}\r\n                            onChange={this.handleChange}\r\n                            className='formCustom'\r\n                          />\r\n                        </Col>\r\n                        <Col xs='4' sm='2'>\r\n                          <h5 className=\"pt-2 text-center\">${service.cost.toFixed(2)}</h5>\r\n                        </Col>\r\n                      </Row>\r\n                    </div>\r\n                  }\r\n                })\r\n              }\r\n            </div>\r\n        })\r\n        return categories\r\n      }\r\n      return null\r\n    }\r\n    return (\r\n      <Card className='py-3'>\r\n        <h3>Select Services</h3>\r\n          <Row className=\"text-left\">\r\n            <Col>\r\n              <ServiceCheckBoxes categories={this.state.categories} services={this.props.services} />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-center\">\r\n            <Col md=\"3\">\r\n            <Button block onClick={this.props.handleSubmit}>Next</Button>\r\n            </Col>\r\n          </Row>\r\n        \r\n      </Card>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default ServiceSelection;\r\n","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './DateSelection.css';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport store from '../../reduxFolder/store';\r\nimport { addAlert } from '../../reduxFolder/actions/alert'\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport { css } from '@emotion/core'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\nclass DateSelection extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      startDate: new Date(),\r\n      currDate: new Date(),\r\n      selectedTime: 540,\r\n      loading: true,\r\n      appointments: []\r\n    };\r\n  }\r\n\r\n  handleDateChange = date => {\r\n    if (date.getMonth() != this.state.startDate.getMonth()) {\r\n      this.setState({\r\n        loading: true\r\n      })\r\n      fetch(fetchDomain + '/stores/' + this.props.store_id + '/appointments/month/' + (parseInt(date.getMonth()) + 1), {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n        .then(function (response) {\r\n          if (response.status !== 200) {\r\n            store.dispatch(addAlert(response))\r\n          }\r\n          else {\r\n            return response.json()\r\n          }\r\n        })\r\n        .then(data => {\r\n          let parsedData = data.map(appointment => {\r\n            appointment.date = new Date(appointment.date)\r\n            return appointment\r\n          })\r\n          this.setState({\r\n            appointments: parsedData,\r\n            currDate: date,\r\n            startDate: date,\r\n            loading: false\r\n          })\r\n        });\r\n    }\r\n    this.setState({\r\n      currDate: date\r\n    });\r\n  };\r\n\r\n  handleSelectChange = (event) => {\r\n    this.setState({\r\n      selectedTime: parseInt(event.target.value)\r\n    });\r\n  };\r\n\r\n  handleSlotClick = (schedule) => {\r\n    this.props.updateAppointments(schedule)\r\n    this.props.handleSubmit()\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"startdate is: \", this.state.startDate)\r\n    fetch(fetchDomain + '/stores/' + this.props.store_id + '/appointments/month/' + (parseInt(this.state.startDate.getMonth()) + 1), {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n      .then(function (response) {\r\n        if (response.status !== 200) {\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else {\r\n          return response.json()\r\n        }\r\n      })\r\n      .then(data => {\r\n        let parsedData = data.map(appointment => {\r\n          appointment.date = new Date(appointment.date + ' UTC')\r\n          return appointment\r\n        })\r\n        console.log(\"received these appointments: \", parsedData)\r\n        this.setState({\r\n          appointments: parsedData,\r\n          loading: false\r\n        })\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const CreateTimeSelects = (props) => {\r\n      let items = [];\r\n      for (let i = this.props.storeHours[this.state.startDate.getDay()].open_time; i + this.props.time <= this.props.storeHours[this.state.startDate.getDay()].close_time; i += 60) {\r\n        items.push(<option key={i} value={i}>{this.convertMinsToHrsMins(i)}</option>);\r\n      }\r\n      return items;\r\n    }\r\n\r\n    const SlotsAtSelectedTime = () => {\r\n      let slots = []\r\n      let schedules = []\r\n      // Loop through different appointment start times for the day\r\n      for (let i = this.state.selectedTime; (i < this.state.selectedTime + 120 && i + this.props.time <= this.props.storeHours[this.state.currDate.getDay()].close_time); i += 15) {\r\n        let currTime = i\r\n        let foundSchedule = false\r\n        let currSchedule = []\r\n        let currDaySchedules = this.props.workersSchedules.filter(element => element.day_of_the_week == this.state.currDate.getDay());\r\n        let scheduleStillWorks = true\r\n        // We're going to increment through the workers that are scheduled for today and build a schedule bit by bit until we finish or realize there are no more appointments for the day\r\n        // Don't want to lose the original values of currTime, currService, and k when we continue ahead in our schedule\r\n        let currScheduleCurrTime = currTime\r\n        let currScheduleCurrWorkerIndex = 0\r\n        let currScheduleServiceIndex = 0\r\n        // console.log(\"current time is: \", this.convertMinsToHrsMins(currTime))\r\n        // Start building our schedule\r\n        while (scheduleStillWorks && !foundSchedule) {\r\n          let available = true\r\n          let currScheduleCurrService = this.props.selectedServices[currScheduleServiceIndex]\r\n          let currScheduleCurrWorker = currDaySchedules[currScheduleCurrWorkerIndex].worker_id\r\n          // console.log(\"checking if appointment is in worker's hours: \")\r\n          // console.log(\"currworker works from: \", currDaySchedules[currScheduleCurrWorkerIndex].start_time, \"-\",  currDaySchedules[currScheduleCurrWorkerIndex].end_time)\r\n          // console.log(\"trying to match with appointment from: \", this.convertMinsToHrsMins(currScheduleCurrTime), \"-\", this.convertMinsToHrsMins(currScheduleCurrTime + currScheduleCurrService.duration))\r\n          // Check if appointment is within worker's hours\r\n          if (currDaySchedules[currScheduleCurrWorkerIndex].start_time > currScheduleCurrTime || currDaySchedules[currScheduleCurrWorkerIndex].end_time < (currScheduleCurrTime + currScheduleCurrService.duration)) {\r\n            available = false\r\n          } else {\r\n            let currWorkerAppointments = this.state.appointments.filter((appointment) => {\r\n              return appointment.worker_id == currScheduleCurrWorker && appointment.date.setHours(0, 0, 0, 0) == this.state.currDate.setHours(0, 0, 0, 0)\r\n            })\r\n            // console.log(\"Within bounds, checking for conflicts. \")\r\n            // Check for conflicts via worker's existing appointments for the day\r\n            // console.log(\"currWorkers appointments: \", currWorkerAppointments)\r\n            for (let m = 0; m < currWorkerAppointments.length; m++) {\r\n              if ((currScheduleCurrTime >= currWorkerAppointments[m].start_time && currScheduleCurrTime <= currWorkerAppointments[m].end_time) || (currScheduleCurrTime + currScheduleCurrService.duration >= currWorkerAppointments[m].start_time && currScheduleCurrTime + currScheduleCurrService.duration <= currWorkerAppointments[m].end_time)) {\r\n                // console.log(\"conflict found with because of slot from: \", this.convertMinsToHrsMins(currWorkerAppointments[m].start_time), \"-\", this.convertMinsToHrsMins(currWorkerAppointments[m].end_time))\r\n                // Worker is unavailable\r\n                available = false\r\n                break\r\n              }\r\n            }\r\n          }\r\n\r\n          if (available) {\r\n            // Add slot to the schedule we are building\r\n            currSchedule.push({ worker_id: currScheduleCurrWorker, service_id: currScheduleCurrService.id, start_time: currScheduleCurrTime, end_time: currScheduleCurrTime + currScheduleCurrService.duration, price: currScheduleCurrService.cost, date: this.state.startDate })\r\n            currScheduleCurrTime += currScheduleCurrService.duration\r\n            currScheduleServiceIndex += 1\r\n            //NOTE, will always cycle to first worker. What if we want to maintain worker for entire appointment duration? May be worth refactoring for continuity. \r\n            currScheduleCurrWorkerIndex = 0\r\n            if (currScheduleServiceIndex == this.props.selectedServices.length) {\r\n              //We've found a worker for each service in the appointment. We're done. \r\n              foundSchedule = true\r\n            }\r\n          } else if (currScheduleCurrWorkerIndex + 1 < currDaySchedules.length) {\r\n            // continue checking if there's another worker available for this service\r\n            currScheduleCurrWorkerIndex += 1\r\n          } else {\r\n            // no workers were available for this appointment. \r\n            // NOTE: it may be possible, in the case where there are multiple services selected for the appointment, that there is still some combination of worker slots to make this appointment work. I'm only checking linearly. This may be worth refactoring for better scheduling, but the tradeoff is increased complexity in scheduling. \r\n            scheduleStillWorks = false\r\n          }\r\n        }\r\n\r\n        if (foundSchedule) {\r\n          schedules.push(currSchedule)\r\n          slots.push(<Button className=\"mt-3 mx-2\" key={i} onClick={() => this.handleSlotClick(currSchedule)}>{this.convertMinsToHrsMins(i)}</Button>)\r\n        }\r\n      }\r\n      if (slots.length == 0) {\r\n        return <h1>No available appointments</h1>\r\n      }\r\n      return slots\r\n    }\r\n\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"vertical-center\">\r\n          <Col>\r\n            <GridLoader\r\n              css={override}\r\n              size={20}\r\n              color={\"#2196f3\"}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      } else {\r\n        return <Row className=\"justify-content-center text-xs-center text-sm-left pl-2\">\r\n          <Col xs=\"12\" md=\"11\" className=\"px-1\">\r\n            {/* Maybe want to have this with multiple rows, each row belongs to technician. One last row is technician mix to make the appointment work out */}\r\n            <SlotsAtSelectedTime />\r\n          </Col>\r\n        </Row>\r\n\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Card\r\n        text='dark'\r\n        className='mt-0 py-3'\r\n        style={{overflow: 'visible'}}\r\n      >\r\n        <div id=\"date-selection-form\">\r\n          <h3>Select Appointment Time</h3>\r\n          <Card.Body className='pt-0'>\r\n            <Row className='justify-content-center'>\r\n              <Col xs=\"11\" md=\"6\" className=\"mt-3\">\r\n                <div className=\"customDatePickerWidth\">\r\n                  <DatePicker\r\n                    className=\"form-control\"\r\n                    selected={this.state.currDate}\r\n                    onChange={this.handleDateChange}\r\n                    minDate={new Date()}\r\n                    popperModifiers={{\r\n                      flip: {\r\n                          behavior: [\"bottom\"] // don't allow it to flip to be above\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col xs=\"11\" md=\"6\" className=\"mt-3\">\r\n                <Form>\r\n                  <Form.Control as=\"select\" value={this.state.selectedTime} onChange={this.handleSelectChange.bind(this)}>\r\n                    <CreateTimeSelects date={this.state.startDate} />\r\n                  </Form.Control>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n            <DisplayWithLoading />\r\n          </Card.Body>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateSelection;","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport './BookingPage.css';\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaEnvelope, FaUser, FaPhone } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport store from '../../reduxFolder/store';\r\nimport { addAlert } from '../../reduxFolder/actions/alert'\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport { css } from '@emotion/core'\r\nimport Cookies from 'js-cookie';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\nclass BookingPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstName: '',\r\n      lastName: '',\r\n      phone: '',\r\n      email: '',\r\n      user_id: -1,\r\n    };\r\n    this.triggerAppointmentDisplay = this.triggerAppointmentDisplay.bind(this);\r\n  }\r\n\r\n  // redirect to the appointment display page and pass the new store data\r\n  triggerAppointmentDisplay(returnedAppointment) {\r\n    this.props.history.push({\r\n      pathname: '/appointments/' + returnedAppointment,\r\n      state: {\r\n        appointmentGroupId: returnedAppointment\r\n      }\r\n    })\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount () {\r\n    if(Cookies.get('user')){\r\n      let user = JSON.parse(Cookies.get('user').substring(2))\r\n      this.setState({\r\n        firstName: user.first_name,\r\n        lastName: user.last_name,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        user_id: user.id\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Card\r\n        text='dark'\r\n        className='mt-0 py-3'\r\n      >\r\n        <Card.Body className='pt-0'>\r\n          <Row className=\"vertical-center\">\r\n            <Col>\r\n              <GridLoader\r\n                css={override}\r\n                size={20}\r\n                color={\"#2196f3\"}\r\n                loading={this.state.isLoading}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n      } else {\r\n        return <Card text='dark'\r\n        className='mt-0 py-3' id=\"date-selection-form\">\r\n          <Card.Title>Book Appointment</Card.Title>\r\n          <Card.Body className='pt-0'>\r\n            <Row className='justify-content-center'>\r\n              <Formik\r\n                initialValues={{\r\n                  firstName: this.state.firstName,\r\n                  lastName: this.state.lastName,\r\n                  phone: this.state.phone,\r\n                  email: this.state.email,\r\n                  user_id: this.state.user_id\r\n                }}\r\n                onSubmit={(values) => {\r\n                  values.appointments = this.props.appointments\r\n                  let triggerAppointmentDisplay = this.triggerAppointmentDisplay\r\n\r\n                  fetch(fetchDomain + '/stores/' + this.props.store_id + '/appointments/new', {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                      'Content-type': 'application/json',\r\n                      'Accept': 'application/json'\r\n                    },\r\n                    credentials: 'include',\r\n                    body: JSON.stringify(values)\r\n                  })\r\n                    .then(function (response) {\r\n                      if (response.status !== 200) {\r\n                        // throw an error alert\r\n                        store.dispatch(addAlert(response))\r\n                      }\r\n                      else {\r\n                        return response.json();\r\n                      }\r\n                    })\r\n                    .then(async data => {\r\n                      if (data) {\r\n                        triggerAppointmentDisplay(data)\r\n                      }\r\n                    });\r\n                }}\r\n              >\r\n                {({ values,\r\n                  errors,\r\n                  touched,\r\n                  handleChange,\r\n                  handleBlur,\r\n                  handleSubmit,\r\n                  setFieldValue\r\n                }) => (\r\n                    <Form className=\"form-style\">\r\n\r\n                      <Form.Group controlId=\"formFirstName\">\r\n                        <InputGroup>\r\n                          <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                              <FaUser />\r\n                            </InputGroup.Text>\r\n                          </InputGroup.Prepend>\r\n                          <Form.Control\r\n                            type=\"text\"\r\n                            name=\"firstName\"\r\n                            value={values.firstName}\r\n                            placeholder=\"First Name\"\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            className={touched.firstName && errors.firstName ? \"error\" : null} />\r\n                        </InputGroup>\r\n                        {touched.firstName && errors.firstName ? (\r\n                          <div className=\"error-message\">{errors.firstName}</div>\r\n                        ) : null}\r\n                      </Form.Group>\r\n\r\n                      <Form.Group controlId=\"formLastName\">\r\n                        <InputGroup>\r\n                          <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                              <FaUser />\r\n                            </InputGroup.Text>\r\n                          </InputGroup.Prepend>\r\n                          <Form.Control\r\n                            type=\"text\"\r\n                            name=\"lastName\"\r\n                            value={values.lastName}\r\n                            placeholder=\"Last Name\"\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            className={touched.lastName && errors.lastName ? \"error\" : null} />\r\n                        </InputGroup>\r\n                        {touched.lastName && errors.lastName ? (\r\n                          <div className=\"error-message\">{errors.lastName}</div>\r\n                        ) : null}\r\n                      </Form.Group>\r\n\r\n                      <Form.Group controlId=\"formPhone\">\r\n                        <InputGroup>\r\n                          <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                              <FaPhone />\r\n                            </InputGroup.Text>\r\n                          </InputGroup.Prepend>\r\n                          <Form.Control type=\"text\"\r\n                            value={values.phone}\r\n                            placeholder=\"Phone Number\"\r\n                            name=\"phone\"\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            className={touched.phone && errors.phone ? \"error\" : null} />\r\n                        </InputGroup>\r\n                        {touched.phone && errors.phone ? (\r\n                          <div className=\"error-message\">{errors.phone}</div>\r\n                        ) : null}\r\n                      </Form.Group>\r\n\r\n                      <Form.Group controlId=\"formEmail\">\r\n                        <InputGroup>\r\n                          <InputGroup.Prepend>\r\n                            <InputGroup.Text>\r\n                              <FaEnvelope />\r\n                            </InputGroup.Text>\r\n                          </InputGroup.Prepend>\r\n                          <Form.Control\r\n                            type=\"email\"\r\n                            value={values.email}\r\n                            placeholder=\"Email\"\r\n                            name=\"email\"\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            className={touched.email && errors.email ? \"error\" : null} />\r\n                        </InputGroup>\r\n                        {touched.email && errors.email ? (\r\n                          <div className=\"error-message\">{errors.email}</div>\r\n                        ) : null}\r\n                      </Form.Group>\r\n\r\n                      <Button onClick={handleSubmit}>Submit</Button>\r\n                    </Form>\r\n                  )}\r\n              </Formik>\r\n            </Row>\r\n          </Card.Body>\r\n        </Card>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <DisplayWithLoading />\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookingPage;","import React from 'react';\r\nimport './BookingPage.css';\r\nimport LoginForm from '../User/LoginForm';\r\nimport SignupForm from '../User/SignupForm';\r\n\r\nclass RedirectToLogin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayLogin: true\r\n    };\r\n    this.toggleLogin = this.toggleLogin.bind(this);\r\n    this.triggerSignInRedirect = this.triggerSignInRedirect.bind(this);\r\n  }\r\n\r\n  // redirect to the login page and pass the appointment data\r\n  triggerSignInRedirect() {\r\n    this.props.history.push({\r\n      pathname: '/login',\r\n      state: {\r\n        appointments: this.props.appointments\r\n      }\r\n    })\r\n  }\r\n\r\n  // redirect to the login page and pass the appointment data\r\n  triggerSignUpRedirect() {\r\n    this.props.history.push({\r\n      pathname: '/signup',\r\n      state: {\r\n        appointments: this.props.appointments\r\n      }\r\n    })\r\n  }\r\n\r\n  toggleLogin(newValue) {\r\n    this.setState({\r\n      displayLogin: newValue\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const RenderLoginOrSignup = (props) => {\r\n      if(this.state.displayLogin) {\r\n        return <LoginForm appointments={this.props.appointments} store_id={this.props.store_id} history={this.props.history} title=\"Login to continue.\" toggleLogin={this.toggleLogin}/>\r\n      } else {\r\n        return <SignupForm appointments={this.props.appointments} store_id={this.props.store_id} history={this.props.history} toggleLogin={this.toggleLogin}/>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <RenderLoginOrSignup/>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RedirectToLogin;","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport ServiceSelection from './ServiceSelection'\r\nimport './ReservationPage.css'\r\nimport { Row, Col, Card, ListGroup } from 'react-bootstrap'\r\nimport { FaArrowLeft } from 'react-icons/fa'\r\nimport DateSelection from './DateSelection'\r\nimport { css } from '@emotion/core'\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport BookingPage from './BookingPage';\r\nimport RedirectToLogin from './RedirectToLogin'\r\nimport Cookies from 'js-cookie';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\nclass ReservationPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      storeName: null,\r\n      total: 0,\r\n      time: 0,\r\n      currentStep: 1,\r\n      selectedServices: [],\r\n      services: [],\r\n      loading: true,\r\n      workers: [],\r\n      workersSchedules: [],\r\n      storeHours: [],\r\n      appointments: \"original value\"\r\n    };\r\n  }\r\n\r\n  updateReservation = (removal, currService) => {\r\n    if (removal) {\r\n      this.setState({ time: this.state.time - currService.duration })\r\n      this.setState({ total: this.state.total - currService.cost })\r\n      this.setState({\r\n        selectedServices: this.state.selectedServices.filter(function (selectedService) {\r\n          return currService.id !== selectedService.id;\r\n        }\r\n        )\r\n      })\r\n    } else {\r\n      this.setState({ time: this.state.time + currService.duration })\r\n      this.setState({ total: this.state.total + currService.cost })\r\n      this.setState({ selectedServices: [...this.state.selectedServices, currService] })\r\n    }\r\n  }\r\n\r\n  backStep = (event) => {\r\n    var newStep = this.state.currentStep - 1\r\n    this.setState({\r\n      currentStep: newStep\r\n    })\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    if (this.state.currentStep < 4) {\r\n      var newStep = this.state.currentStep + 1\r\n      this.setState({\r\n        currentStep: newStep\r\n      })\r\n    } else {\r\n      alert(JSON.stringify(this.state));\r\n    }\r\n  }\r\n\r\n  updateAppointments = (receivedAppointments) => {\r\n    this.setState({\r\n      appointments: receivedAppointments\r\n    })\r\n  }\r\n\r\n  pluralize = (val, word, plural = word + 's') => {\r\n    const _pluralize = (num, word, plural = word + 's') =>\r\n      [1, -1].includes(Number(num)) ? word : plural;\r\n    if (typeof val === 'object') return (num, word) => _pluralize(num, word, val[word]);\r\n    return _pluralize(val, word, plural);\r\n  };\r\n\r\n  timeConvert = (n) => {\r\n    var num = n;\r\n    var hours = (num / 60);\r\n    var rhours = Math.floor(hours);\r\n    var minutes = (hours - rhours) * 60;\r\n    var rminutes = Math.round(minutes);\r\n    return rhours + \" \" + this.pluralize(rhours, 'hour') + \" and \" + rminutes + \" \" + this.pluralize(rminutes, 'minute');\r\n  }\r\n\r\n  prefetchSchedules = () => {\r\n    Promise.all([\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers/schedules', {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(value => value.json()),\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/storeHours\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(value => value.json())\r\n    ]).then(allResponses => {\r\n      this.setState({\r\n        storeHours: allResponses[1],\r\n        workersSchedules: allResponses[0]\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    // need to get store category, fetch?\r\n    Promise.all([\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/services\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    }).then(value => value.json()),\r\n    fetch(fetchDomain + '/stores/' + this.props.match.params.store_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    }).then(value => value.json())\r\n    ]).then(allResponses => {\r\n      const response1 = allResponses[0]\r\n      const response2 = allResponses[1]\r\n      if(this.props.location.currentStep && this.props.location.appointments) {\r\n        this.setState({\r\n          appointments: this.props.appointments,\r\n          currentStep: this.props.currentStep\r\n        })\r\n      }\r\n      this.setState({\r\n        services: response1,\r\n        storeName: response2.name,\r\n        workers: response2.workers,\r\n        loading: false\r\n      })\r\n    })\r\n\r\n    this.prefetchSchedules()\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, preState) {\r\n    if(nextProps.location.appointments && nextProps.location.appointments !== preState.appointments) {\r\n      return {\r\n        appointments: nextProps.location.appointments,\r\n        currentStep: nextProps.location.currentStep\r\n      }\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    let that = this;\r\n    const DisplayByStep = (props) => {\r\n      if (this.state.loading) {\r\n        return <Card className=\"fullHeight\">\r\n          <Row className=\"vertical-center\">\r\n            <Col>\r\n              <GridLoader\r\n                css={override}\r\n                size={20}\r\n                color={\"#2196f3\"}\r\n                loading={this.state.loading}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n      } else {\r\n        if (this.state.currentStep == 1) {\r\n          return <ServiceSelection services={this.state.services} updateReservation={this.updateReservation} selectedServices={this.state.selectedServices} time={this.state.time} total={this.state.total} handleSubmit={this.handleSubmit} timeConvert={this.timeConvert} pluralize={this.pluralize} />\r\n        } else if(this.state.currentStep == 2) {\r\n          return <DateSelection time={this.state.time}  store_id={this.props.match.params.store_id} selectedServices={this.state.selectedServices} storeHours={this.state.storeHours} workersSchedules={this.state.workersSchedules} handleSubmit={this.handleSubmit} updateAppointments={this.updateAppointments}/>\r\n        } else {\r\n          if(Cookies.get('user')){\r\n            return <BookingPage appointments={this.state.appointments} store_id={this.props.match.params.store_id} history={this.props.history}/>\r\n          } else {\r\n            return <RedirectToLogin appointments={this.state.appointments} store_id={this.props.match.params.store_id} history={this.props.history}/>\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const DisplayBackButton = (props) => {\r\n      if (this.state.currentStep == 1) {\r\n        return null\r\n      } else {\r\n        return <FaArrowLeft size={'2em'} className=\"pt-2 pr-2\" onClick={this.backStep} />\r\n      }\r\n    }\r\n\r\n    function ServiceList(props) {\r\n      if (props.services) {\r\n        const servicesList = props.services.map((service) => {\r\n          return <ListGroup.Item variant=\"light\" key={service.name}>\r\n            <Row>\r\n              <Col lg={7}>\r\n                <Row>\r\n                  {service.name}\r\n                </Row>\r\n                <Row className=\"smallText\">\r\n                  {service.duration} {that.pluralize(service.duration, 'minute')}\r\n                </Row>\r\n              </Col>\r\n              <Col lg={5}>\r\n                <div className=\"float-right\">\r\n                  ${service.cost.toFixed(2)}\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </ListGroup.Item>;\r\n        });\r\n\r\n        return (\r\n          <ListGroup variant='flush'>{servicesList}</ListGroup>\r\n        );\r\n      }\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row noGutters className=\"pt-3 pb-0\">\r\n          <Col xs=\"1\">\r\n            <DisplayBackButton />\r\n          </Col>\r\n          <Col xs=\"11\" className=\"text-left\">\r\n            <h2>Step {this.state.currentStep}</h2>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col xs={12} lg={8} className=\"largeMarginBottom\">\r\n            <DisplayByStep />\r\n          </Col>\r\n          <Col xs={12} lg={4} className=\"d-none d-lg-block\">\r\n            <Card\r\n              text='dark'\r\n              className='shoppingCart mt-0'\r\n            >\r\n              <Card.Header>Shopping Cart</Card.Header>\r\n              <Card.Body className='pt-0'>\r\n                <Row className='text-left'>\r\n                  <Col>\r\n                    <ServiceList services={this.state.selectedServices} />\r\n                  </Col>\r\n                </Row>\r\n\r\n                <h2>Total: ${this.state.total.toFixed(2)}</h2>\r\n                <h2>Time: {this.state.time} minutes</h2>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n          <Col xs={12} className=\"d-lg-none shoppingCartSmall px-0\">\r\n            <Card\r\n              bg='light'\r\n              text='dark'\r\n            >\r\n              <Card.Header className='py-1'>Shopping Cart</Card.Header>\r\n              <Card.Body className=\"smallPadding\">\r\n                <h6>{this.state.selectedServices.length} Selected {this.pluralize(this.state.selectedServices.length, 'Service')}</h6>\r\n                <h6>Total: ${this.state.total.toFixed(2)}</h6>\r\n                <h6>Time: {this.timeConvert(this.state.time)}</h6>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ReservationPage;","const fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\n// export let getPictures = async(prefixPassed) => {\r\n// module.exports.getPictures = async function(prefixPassed) {\r\n//   await getPictures(prefixPassed);\r\n// }\r\n// var getPictures = async function(prefixPassed) {\r\n\r\n// getting an export error, going to leave it for now\r\n\r\nasync function getPictures(prefixPassed) {\r\n  const response = await fetch(fetchDomain + '/getImages', {\r\n      method: \"POST\",\r\n      headers: {\r\n          'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({prefix: prefixPassed})\r\n    })\r\n  const pictures = await response.json()\r\n\r\n  return pictures\r\n}\r\n\r\n// function for uploading all selected files to s3\r\nasync function uploadHandler(prefix, selectedFiles) {\r\n  // upload each image to s3\r\n  // have to get presigned url from server before uploading directly\r\n  for(let i = 0; i < selectedFiles.length; i++){\r\n    var tempDate = new Date();\r\n    var date = '_' + tempDate.getFullYear() + '-' + (tempDate.getMonth()+1) + '-' + tempDate.getDate() +' '+ tempDate.getHours()+':'+ tempDate.getMinutes()+':'+ tempDate.getSeconds();\r\n\r\n    let values = {\r\n      fileName: prefix + selectedFiles[i].name + date, // add the current time so its unique..\r\n      fileType: selectedFiles[i].type\r\n    }\r\n\r\n    const response = await fetch(fetchDomain + '/getPresignedUrl/', {\r\n      method: \"POST\",\r\n      headers: {\r\n          'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify(values)\r\n    })\r\n    const url = await response.json()\r\n\r\n    const responseS3 = await fetch(url, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            'Content-type': selectedFiles[i].type\r\n        },\r\n        body: selectedFiles[i]\r\n      })\r\n    \r\n    // if(responseS3.status!==200){\r\n    //   // throw an error alert\r\n    //   store.dispatch(addAlert(response))\r\n    // }\r\n  }\r\n}\r\n\r\n// function for uploading all selected files to s3\r\nasync function deleteHandler(keysPassed) {\r\n  // remove each image from s3\r\n  const response = await fetch(fetchDomain + '/deleteImages/', {\r\n    method: \"POST\",\r\n    headers: {\r\n        'Content-type': 'application/json'\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({keys: keysPassed})\r\n  })\r\n}\r\n\r\nexport { getPictures, uploadHandler, deleteHandler}","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaShoppingCart, FaRoad, FaBuilding, FaUniversity, FaGlobe, FaPen, FaPhone, FaMap } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Select from 'react-select';\r\nimport Cookies from 'js-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {updateRole} from '../../reduxFolder/actions/user.js'\r\nimport {addStore} from '../../reduxFolder/actions/stores.js'\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { uploadHandler } from '../s3';\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\n\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\nconst helper = require('../Search/helper.js');\r\n\r\n\r\nclass StoreSignupForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\r\n      category: helper.getCategories(),\r\n      categoryError: false,\r\n      selected: [],\r\n      selectedFiles: [],\r\n      storeHours: [{ open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 }],\r\n      address: []\r\n    }\r\n\r\n    // options for store categories\r\n    // this.options = [\r\n    //   { value: 'nails', label: 'Nails' },\r\n    //   { value: 'hair', label: 'Hair' },\r\n    //   { value: 'makeup', label: 'Makeup' },\r\n    //   { value: 'eyelashes', label: 'Eyelashes' },\r\n    //   { value: 'eyelash extensions', label: 'Eyelash Extensions' },\r\n    //   { value: 'eyebrows', label: 'Eyebrows' },\r\n    //   { value: 'facials', label: 'Facials' },\r\n    //   { value: 'skincare', label: 'Skin Care' },\r\n    //   { value: 'waxing', label: 'Waxing' },\r\n    //   { value: 'mens', label: 'Mens Services' }\r\n    // ];\r\n\r\n    // RegEx for phone number validation\r\n    this.phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/\r\n\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      name: Yup.string()\r\n        .min(2, \"Store name must have at least 2 characters\")\r\n        .max(100, \"Store name can't be longer than 100 characters\")\r\n        .required(\"Name is required\"),\r\n      description: Yup.string()\r\n        .min(20, \"Description must have at least 20 characters\")\r\n        .required(\"Description is required\"),\r\n      phone: Yup.string()\r\n        .matches(this.phoneRegExp, \"Phone number is not valid\")\r\n        .required(\"Phone number is required\"),\r\n      // category: Yup.array()\r\n      //   .required(\"Category is required\")\r\n      //   .nullable(),\r\n      address: Yup.string()\r\n        .required(\"Address is required\"),\r\n      pictureCount: Yup.number()\r\n      .required(\"Pictures are required\")\r\n      .min(1, \"Must have at least one picture\")\r\n    });\r\n\r\n    this.autocomplete = null\r\n    this.handlePlaceSelect = this.handlePlaceSelect.bind(this);\r\n\r\n    this.triggerStoreDisplay = this.triggerStoreDisplay.bind(this);\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.onRemove = this.onRemove.bind(this);\r\n    this.shorterVersion = this.shorterVersion.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const google = window.google;\r\n    this.autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'), { })\r\n\r\n    this.autocomplete.addListener(\"place_changed\", this.handlePlaceSelect)\r\n  }\r\n\r\n  handlePlaceSelect() {\r\n    let addressObject = this.autocomplete.getPlace()\r\n    let address = addressObject.address_components.map(function(elem){\r\n                      return elem.long_name;\r\n                  }).join(\", \");\r\n\r\n    this.setState({\r\n      address: address\r\n    })\r\n  }\r\n\r\n  // redirect to the store display page and pass the new store data\r\n  triggerStoreDisplay(returnedStore) {\r\n\r\n    this.props.history.push({\r\n      pathname: '/stores/' + returnedStore.id,\r\n      state: {\r\n        store: returnedStore\r\n      }\r\n    })\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  shorterVersion(name) {\r\n\r\n    if(name == \"Spa & Wellness\") {\r\n      return \"Spa\"\r\n    }\r\n    else if(name == \"Barbershops\") {\r\n      return \"Barber\"\r\n    }\r\n    else if(name == \"Nail Salon\") {\r\n      return \"Nails\"\r\n    }\r\n    else if(name == \"Hair Salon\") {\r\n      return \"Hair\"\r\n    }\r\n    return name;\r\n  }\r\n\r\n  onSelect(selectedList, selectedItem) {\r\n\r\n    this.setState({\r\n      selected: selectedList,\r\n      categoryError: false\r\n\r\n    })\r\n\r\n  }\r\n\r\n  onRemove(selectedList, removedItem, event) {\r\n\r\n    this.setState({\r\n      selected: selectedList\r\n    })\r\n\r\n  }\r\n\r\n\r\n  handleSelectChange = (event) => {\r\n    var days = ['formHoursMonday', 'formHoursTuesday', 'formHoursWednesday', 'formHoursThursday', 'formHoursFriday', 'formHoursSaturday', 'formHoursSunday']\r\n    var day = days.indexOf(event.target.id)\r\n    var newStoreHours = []\r\n\r\n    if (event.target.querySelector('option').value == \"0\") {\r\n      newStoreHours = [\r\n        ...this.state.storeHours.slice(0, day),\r\n        { open_time: parseInt(event.target.value), close_time: this.state.storeHours[day].close_time },\r\n        ...this.state.storeHours.slice(day + 1)\r\n      ]\r\n    } else {\r\n      newStoreHours = [\r\n        ...this.state.storeHours.slice(0, day),\r\n        { open_time: this.state.storeHours[day].open_time, close_time: parseInt(event.target.value) },\r\n        ...this.state.storeHours.slice(day + 1)\r\n      ]\r\n    }\r\n\r\n    this.setState({\r\n      storeHours: newStoreHours\r\n    })\r\n  };\r\n\r\n  fileChangedHandler = (event, setFieldValue) => {\r\n    setFieldValue('pictureCount', event.target.files.length)\r\n    this.setState({ selectedFiles: event.target.files })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          <Col xs={8} sm={7} md={6} lg={5}>\r\n            <Formik\r\n              initialValues={{\r\n                name: '',\r\n                description: '',\r\n                phone: '',\r\n                address: '',\r\n                category: [],\r\n                owner_id: \"\",\r\n                pictureCount: this.state.selectedFiles.length,\r\n              }}\r\n              validationSchema={this.yupValidationSchema}\r\n              onSubmit={(values) => {\r\n\r\n                let shorterVersion = this.shorterVersion\r\n\r\n                values.category = this.state.selected.map(function (val) {\r\n                  return shorterVersion(val.name)\r\n                })\r\n\r\n                if(values.category.length == 0) {\r\n\r\n                  this.setState({\r\n                    categoryError: true\r\n                  })\r\n                  return;\r\n                }\r\n\r\n                values.owner_id = JSON.parse(Cookies.get('user').substring(2)).id\r\n                values.storeHours = this.state.storeHours\r\n                values.address = this.state.address\r\n\r\n\r\n                let triggerStoreDisplay = this.triggerStoreDisplay\r\n\r\n                fetch(fetchDomain + '/addStore', {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    'Content-type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                  },\r\n                  credentials: 'include',\r\n                  body: JSON.stringify(values)\r\n                })\r\n                  .then(function (response) {\r\n                    if (response.status !== 200) {\r\n                      // throw an error alert\r\n                      store.dispatch(addAlert(response))\r\n                    }\r\n                    else {\r\n                      return response.json();\r\n                    }\r\n                  })\r\n                  .then(async data => {\r\n                    if (data) {\r\n                      let prefix = 'stores/' + data.id + '/images/'\r\n                      if (this.state.selectedFiles.length > 0) {\r\n                        await uploadHandler(prefix, this.state.selectedFiles)\r\n                      }\r\n                      this.props.updateRole(1)\r\n                      this.props.addStore(data)\r\n                      triggerStoreDisplay(data)\r\n                    }\r\n                  });\r\n              }}\r\n            >\r\n              {({ values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                setFieldValue\r\n              }) => (\r\n                  <Form className=\"formBody rounded\">\r\n                    <h3>Store Sign Up</h3>\r\n\r\n                    <Form.Group controlId=\"formName\">\r\n                      <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                          <InputGroup.Text>\r\n                            <FaShoppingCart />\r\n                          </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          name=\"name\"\r\n                          value={values.name}\r\n                          placeholder=\"Business Name\"\r\n                          onChange={handleChange}\r\n                          onBlur={handleBlur}\r\n                          className={touched.name && errors.name ? \"error\" : null} />\r\n                      </InputGroup>\r\n                      {touched.name && errors.name ? (\r\n                        <div className=\"error-message\">{errors.name}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formDescription\">\r\n                      <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                          <InputGroup.Text>\r\n                            <FaPen />\r\n                          </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                          as=\"textarea\"\r\n                          rows={3}\r\n                          name=\"description\"\r\n                          value={values.description}\r\n                          placeholder=\"Description\"\r\n                          onChange={handleChange}\r\n                          onBlur={handleBlur}\r\n                          className={touched.description && errors.description ? \"error\" : null} />\r\n                      </InputGroup>\r\n                      {touched.description && errors.description ? (\r\n                        <div className=\"error-message\">{errors.description}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formPhone\">\r\n                      <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                          <InputGroup.Text>\r\n                            <FaPhone />\r\n                          </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control type=\"text\"\r\n                          value={values.phone}\r\n                          placeholder=\"Phone Number\"\r\n                          name=\"phone\"\r\n                          onChange={handleChange}\r\n                          onBlur={handleBlur}\r\n                          className={touched.phone && errors.phone ? \"error\" : null} />\r\n                      </InputGroup>\r\n                      {touched.phone && errors.phone ? (\r\n                        <div className=\"error-message\">{errors.phone}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"autocomplete\">\r\n                      <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                          <InputGroup.Text>\r\n                            <FaMap />\r\n                          </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Address\"\r\n                          autoComplete=\"new-password\"\r\n                          onChange={event => setFieldValue(\"address\", event.target.value)}\r\n                          className={touched.address && errors.address ? \"error\" : null}\r\n                        />\r\n                      </InputGroup>\r\n                      {touched.address && errors.address ? (\r\n                        <div className=\"error-message\">{errors.address}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group controlId=\"formCategory\">\r\n                      <Multiselect\r\n                        options={this.state.category}\r\n                        onSelect={this.onSelect}\r\n                        onRemove={this.onRemove}\r\n                        placeholder=\"Category\"\r\n                        closeIcon=\"cancel\"\r\n                        displayValue=\"name\"\r\n                        avoidHighlightFirstOption={true}\r\n                        style={{multiselectContainer: { width: '100%'},  groupHeading:{width: 50, maxWidth: 50}, chips: { background: \"#587096\", height: 35 }, inputField: {color: 'black'}, searchBox: { minWidth: '100%', height: '30', backgroundColor: 'white', borderRadius: \"5px\" }} }\r\n                      />\r\n\r\n                      {(this.state.categoryError) ? (\r\n                        <div className=\"error-message\">Category is required</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                    <h4>Store Hours</h4>\r\n\r\n                    <Form.Group controlId=\"formHoursMonday\">\r\n                      <h5 className=\"text-left\">Monday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[0].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[0].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursTuesday\">\r\n                      <h5 className=\"text-left\">Tuesday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[1].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[1].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursWednesday\">\r\n                      <h5 className=\"text-left\">Wednesday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[2].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[2].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursThursday\">\r\n                      <h5 className=\"text-left\">Thursday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[3].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[3].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursFriday\">\r\n                      <h5 className=\"text-left\">Friday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[4].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[4].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursSaturday\">\r\n                      <h5 className=\"text-left\">Saturday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[5].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[5].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursSunday\">\r\n                      <h5 className=\"text-left\">Sunday</h5>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[6].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                            <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                            <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                            <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                            <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                            <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                            <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                            <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                            <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                            <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                            <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                            <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                            <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                            <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                            <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" value={this.state.storeHours[6].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                            <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                            <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                            <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                            <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                            <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                            <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                            <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                            <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                            <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formPictureCount\">\r\n                      <input\r\n                        onChange={event => this.fileChangedHandler(event, setFieldValue)}\r\n                        type=\"file\"\r\n                        multiple\r\n                        className={touched.pictureCount && errors.pictureCount ? \"error\" : null}\r\n                      />\r\n                      {touched.pictureCount && errors.pictureCount ? (\r\n                        <div className=\"error-message\">{errors.pictures}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n                    {touched.pictureCount && errors.pictureCount ? (\r\n                      <div className=\"error-message\">{errors.pictureCount}</div>\r\n                    ): null}\r\n\r\n                    <Button onClick={handleSubmit}>Submit</Button>\r\n                  </Form>\r\n                )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  updateRole: (role) => updateRole(role),\r\n  addStore: (store) => addStore(store),\r\n}, dispatch)\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(StoreSignupForm);\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport './CalendarPage.css';\r\nimport {  Resources, ConfirmationDialog, Scheduler, AppointmentForm, AppointmentTooltip, DateNavigator,TodayButton, DayView, WeekView, MonthView, Appointments, ViewSwitcher, Toolbar,  DragDropProvider} from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { ViewState, EditingState, IntegratedEditing } from '@devexpress/dx-react-scheduler';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport { FiSearch} from 'react-icons/fi';\r\nimport { withRouter } from \"react-router\"\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst today = new Date();\r\n\r\n//new Date(2018, 6, 1, 10, 0) start and end dates\r\n\r\nconst isWeekEnd = (date: Date): boolean => date.getDay() === 0 || date.getDay() === 6;\r\n\r\n\r\n\r\nconst Root = ({\r\n  children, style, ...restProps\r\n}) => (\r\n  <div\r\n    {...restProps}\r\n    style={{\r\n      ...style,\r\n      width: '1000px',\r\n    }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\n\r\nconst DayScaleCell = ({\r\n  startDate, classes, ...restProps\r\n}: DayScaleCellProps) => (\r\n  <MonthView.DayScaleCell\r\n    // className={classNames({\r\n    //   [classes.weekEndDayScaleCell]: isWeekEnd(startDate),\r\n    // })}\r\n    className={isWeekEnd(startDate) ? 'weekend' : null}\r\n\r\n    // style={isWeekEnd(startDate) ? 'background-color: grey' : 'background-color: white'}\r\n    startDate={startDate}\r\n    {...restProps}\r\n  />\r\n);\r\n\r\nconst TimeTableCell = (\r\n  { startDate, classes, ...restProps }: TimeTableCellProps,\r\n) => (\r\n  <MonthView.TimeTableCell\r\n    className={isWeekEnd(startDate) ? 'weekend' : null}\r\n\r\n    startDate={startDate}\r\n    {...restProps}\r\n  />\r\n);\r\nconst recurringIcon = () => <div />\r\n\r\nconst BasicLayout = ({ appointmentData, onFieldChange,\r\n   ...restProps }) => {\r\n\r\n   const onCustomFieldChange = (nextValue) => {\r\n     onFieldChange({ price: nextValue });\r\n   };\r\n\r\n  return (\r\n    <AppointmentForm.BasicLayout\r\n      onFieldChange={onFieldChange}\r\n      appointmentData={appointmentData}\r\n      {...restProps}\r\n    >\r\n\r\n    <AppointmentForm.Label\r\n       text=\"Price\"\r\n       type=\"title\"\r\n     />\r\n     <Row className=\"justify-content-center\">\r\n     <AppointmentForm.TextEditor\r\n      style={{width: '50%'}}\r\n       value={appointmentData.price}\r\n       onValueChange={onCustomFieldChange}\r\n       placeholder=\"Price\"\r\n     />\r\n     <AppointmentForm.Label\r\n        style={{marginTop: 15, marginLeft: 10, fontSize: 20}}\r\n        text=\"$\"\r\n        type=\"text\"\r\n      />\r\n      </Row>\r\n    </AppointmentForm.BasicLayout>\r\n  );\r\n};\r\n\r\nconst messages = {\r\n  allDayLabel : '',\r\n  repeatLabel : ''\r\n}\r\n\r\nconst BooleanEditor = ({\r\n...restProps }) => {\r\n  // eslint-disable-next-line react/destructuring-assignment\r\n  // console.log(restProps);\r\n\r\nreturn null;\r\n  // if (restProps.type === 'endRepeat') {\r\n  //   console.log(\"BO\");\r\n  //   return null;\r\n  //\r\n  // } else {console.log(\"HELO\"); return <AppointmentForm.WeeklyRecurrenceSelectorComponent readOnly={true} {...restProps} />};\r\n};\r\n\r\nconst ResourceSwitcher = ({ styles,\r\n    mainResourceName, onChange, classes, resources,\r\n  }) => (\r\n    <div >\r\n      <Row className=\"justify-content-center text-xs-center text-sm-left pl-2\">\r\n      <p style={{fontSize: 20, marginRight:10, marginTop:2}}>\r\n        Filter By:\r\n      </p>\r\n      <Select\r\n        value={mainResourceName}\r\n        onChange={e => onChange(e.target.value)}\r\n        style={{paddingLeft: 60, height: 35}}\r\n      >\r\n        {resources.map(resource => (\r\n          <MenuItem key={resource.fieldName} value={resource.fieldName}>\r\n            {resource.title}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      </Row>\r\n    </div>\r\n\r\n  );\r\n\r\n\r\nconst RecurrenceLayout = ({\r\n  appointmentData,\r\n  visible,\r\n  ...restProps }) => {\r\n\r\n  return  (\r\n    <AppointmentForm.RecurrenceLayout\r\n      appointmentData={appointmentData}\r\n      visible={false}\r\n      {...restProps}\r\n    >\r\n\r\n    </AppointmentForm.RecurrenceLayout>\r\n  );\r\n\r\n};\r\n\r\nconst Appointment = ({\r\n  children, style,\r\n  ...restProps\r\n}) => {\r\n  // console.log(restProps);\r\n  return (\r\n    <Appointments.Appointment\r\n      {...restProps}\r\n      style={{\r\n        ...style,\r\n        backgroundColor: '#597096',\r\n        borderRadius: '5px',\r\n\r\n      }}\r\n\r\n    >\r\n      {children}\r\n    </Appointments.Appointment>\r\n  );\r\n}\r\n\r\nclass Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n       this.state = {\r\n         services: [],\r\n         workers: [],\r\n         worker_map: {},\r\n         service_map: {},\r\n         selectedWorkers: [],\r\n         selectedServices: [],\r\n         selectedAppointments: [\r\n           // { id: '0', startDate: '2020-04-19 15:00', endDate: '2020-04-19 16:00', title: 'Manicure', workers: [2],\r\n           // services: [2], price: 50},\r\n           // { id: '1', startDate: '2020-04-21 09:00', endDate: '2020-04-21 11:00', title: 'Hair Blowout', workers: [0, 1],\r\n           // services: [1], price: 20},\r\n         ],\r\n         appointments: [\r\n           // { id: '0', startDate: '2020-04-19 15:00', endDate: '2020-04-19 16:00', title: 'Manicure', workers: [2],\r\n           // services: [2], price: 50},\r\n           // { id: '1', startDate: '2020-04-21 09:00', endDate: '2020-04-21 11:00', title: 'Hair Blowout', workers: [0, 1],\r\n           //  services: [1], price: 20},\r\n         ],\r\n         mainResourceName: 'workers',\r\n          resources: [\r\n            {\r\n              fieldName: 'services',\r\n              title: 'Services',\r\n              allowMultiple: true,\r\n              instances: [\r\n                // { id: 1, text: 'Haircut' },\r\n                // { id: 2, text: 'Manicure' },\r\n\r\n              ],\r\n            },\r\n            {\r\n              fieldName: 'workers',\r\n              title: 'Workers',\r\n              allowMultiple: true,\r\n              instances: [\r\n                // { id: 0, text: 'Artin Kasumyan' },\r\n                // { id: 1, text: 'Arthur Kasumyan' },\r\n                // { id: 2, text: 'Roula Sharqawe' },\r\n                // { id: 3, text: 'George Clooney' },\r\n                // { id: 4, text: 'Johnny Depp' },\r\n              ],\r\n            },\r\n          ],\r\n         currentDate: today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate()\r\n       }\r\n       this.commitChanges = this.commitChanges.bind(this);\r\n       this.changeMainResource = this.changeMainResource.bind(this);\r\n       this.onSelectWorker = this.onSelectWorker.bind(this);\r\n       this.onRemoveWorker = this.onRemoveWorker.bind(this);\r\n       this.onSelectService = this.onSelectService.bind(this);\r\n       this.onRemoveService = this.onRemoveService.bind(this);\r\n       this.onSearch = this.onSearch.bind(this);\r\n  }\r\n\r\n    getAppointments = () => {\r\n\r\n        fetch('fetchDomain/stores/' + this.props.match.params.store_id + '/appointments' , {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(value => value.json())\r\n        .then(data => {\r\n\r\n          let appointments = []\r\n\r\n          data.map((appointment, indx) => {\r\n\r\n              let date = new Date(appointment.date);\r\n              let startDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), appointment.start_time, 0);\r\n              let endDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), appointment.end_time, 0);\r\n\r\n              console.log(startDate)\r\n\r\n              appointments.push({\r\n                id: indx,\r\n                title: appointment.title,\r\n                workers: [this.state.worker_map[appointment.worker_id]],\r\n                services: [this.state.service_map[appointment.service_id]],\r\n                price: appointment.price,\r\n                startDate: startDate,\r\n                endDate: endDate\r\n              })\r\n\r\n              this.setState({\r\n                appointments: appointments,\r\n                selectedAppointments: appointments\r\n\r\n              })\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n    async componentDidMount() {\r\n      let store_id = this.props.match.params.store_id\r\n      let workers = []\r\n      let services = []\r\n      let new_workers = []\r\n      let new_services = []\r\n\r\n      //fetching  workers and services\r\n      if(this.props.location.state && this.props.location.state.services) {\r\n        let service_map = {}\r\n        let service_instances = []\r\n\r\n        this.props.location.state.services.map((service, indx) => {\r\n          service_instances.push({id: indx, text: service.name})\r\n          service_map[service.id] = service.name\r\n        })\r\n\r\n        this.setState({\r\n          services: this.props.location.state.store.services,\r\n          service_map: service_map\r\n        })\r\n      }\r\n      else {\r\n\r\n          await fetch('fetchDomain/stores/' + store_id + \"/services\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(function (response) {\r\n            if (response.status !== 200) {\r\n              // throw an error alert\r\n              console.log(\"error\")\r\n            }\r\n            else {\r\n              return response.json();\r\n            }\r\n          })\r\n          .then(async data => {\r\n            if (data) {\r\n              services = data;\r\n              let service_instances = []\r\n              let service_map = {}\r\n              console.log(\"here!!\", services);\r\n\r\n              services.map((service, indx) => {\r\n                    service_instances.push({id: indx, text: service.name})\r\n                    service_map[service.id] = service.name\r\n              })\r\n\r\n              this.setState({\r\n                  services: services,\r\n                  service_map: service_map\r\n              })\r\n\r\n              // return new_services;\r\n            }\r\n          });\r\n\r\n      }\r\n\r\n      if(this.props.location.state && this.props.location.state.workers){\r\n        let worker_instances = []\r\n        let worker_map = {}\r\n        this.props.location.state.workers.map((worker, indx) => {\r\n            worker_instances.push({id: indx, text: worker.first_name + ' ' + worker.last_name})\r\n            worker_map[worker.id] = worker.first_name + ' ' + worker.last_name\r\n        })\r\n        this.setState({\r\n          workers: worker_instances,\r\n          worker_map: worker_map\r\n        })\r\n      }\r\n      else{\r\n\r\n\r\n        await fetch('fetchDomain/stores/' + store_id + '/workers_list', {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(function (response) {\r\n            if (response.status !== 200) {\r\n              // throw an error alert\r\n              console.log(\"error\")\r\n            }\r\n            else {\r\n              return response.json();\r\n            }\r\n          })\r\n          .then(async data => {\r\n            if (data) {\r\n              workers = data;\r\n              console.log(\"here\", workers);\r\n              let worker_instances = []\r\n              let worker_map = {}\r\n              workers.map((worker, indx) => {\r\n                  worker_instances.push({id: indx, text: worker.first_name + ' ' + worker.last_name})\r\n                  worker_map[worker.id] = worker.first_name + ' ' + worker.last_name\r\n              })\r\n              this.setState({\r\n                workers: worker_instances,\r\n                worker_map: worker_map\r\n              })\r\n            }\r\n          });\r\n\r\n      }\r\n\r\n      new_services = this.state.resources[0]\r\n      new_services.instances = this.state.services;\r\n      new_workers = this.state.resources[1]\r\n      new_workers.instances = this.state.workers;\r\n\r\n      this.setState({\r\n        resources: [new_services, new_workers]\r\n      })\r\n\r\n      this.getAppointments();\r\n\r\n    }\r\n\r\n  changeMainResource(mainResourceName) {\r\n    this.setState({ mainResourceName });\r\n  }\r\n\r\n  onSelectWorker(selectedList, selectedItem) {\r\n    // console.log(selectedList, selectedItem)\r\n    this.setState({ selectedWorkers: selectedList });\r\n  }\r\n\r\n  onRemoveWorker(selectedList, removedItem) {\r\n    // console.log(\"remove\", selectedList, removedItem);\r\n    this.setState({ selectedWorkers: selectedList });\r\n  }\r\n\r\n  onSelectService(selectedList, selectedItem) {\r\n    this.setState({ selectedServices: selectedList });\r\n  }\r\n\r\n  onRemoveService(selectedList, removedItem) {\r\n    this.setState({ selectedServices: selectedList });\r\n  }\r\n\r\n  onSearch() {\r\n\r\n    let includeWorker;\r\n    let includeService;\r\n    let newSelected = [];\r\n\r\n    this.state.appointments.map(appointment => {\r\n      includeWorker = (this.state.selectedWorkers.length==0) ? true : false;\r\n      includeService= (this.state.selectedServices.length==0) ? true : false;\r\n\r\n      this.state.selectedWorkers.map(worker => {\r\n\r\n        if(appointment.workers.includes(worker.id)) {\r\n          includeWorker = true;\r\n        }\r\n      })\r\n      this.state.selectedServices.map(service => {\r\n\r\n        if(appointment.services.includes(service.id)) {\r\n          includeService = true;\r\n        }\r\n      })\r\n\r\n      if(includeService && includeWorker) {\r\n        newSelected.push(appointment);\r\n      }\r\n    })\r\n    this.setState({ selectedAppointments: newSelected });\r\n  }\r\n\r\n\r\n  commitChanges({ added, changed, deleted }) {\r\n    this.setState((state) => {\r\n      let { selectedAppointments } = state;\r\n      let appointments = selectedAppointments;\r\n      if (added) {\r\n        const startingAddedId = appointments.length > 0 ? appointments[appointments.length - 1].id + 1 : 0;\r\n        appointments = [...appointments, { id: startingAddedId, ...added }];\r\n      }\r\n      if (changed) {\r\n        appointments = appointments.map(appointment => (\r\n          changed[appointment.id] ? { ...appointment, ...changed[appointment.id] } : appointment));\r\n      }\r\n      if (deleted !== undefined) {\r\n        appointments = appointments.filter(appointment => appointment.id !== deleted);\r\n      }\r\n      return { appointments };\r\n    });\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    console.log(this.state.selectedAppointments);\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          <Col>\r\n            <p className=\"title\"> Manage Your Appointments </p>\r\n            <Row style={{marginBottom: 50, marginLeft: '22%', position: 'relative'}}>\r\n            <Multiselect\r\n              // isObject={false}\r\n              options={this.state.resources[0][\"instances\"]}\r\n              // selectedValues={this.state.selected}\r\n              onSelect={this.onSelectService}\r\n              onRemove={this.onRemoveService}\r\n              placeholder=\"Service\"\r\n              closeIcon=\"cancel\"\r\n              displayValue=\"text\"\r\n              style={{multiselectContainer: {marginLeft: '2%', width: '35%'},  groupHeading:{width: 50, maxWidth: 50}, chips: { background: \"#587096\", height: 35 }, inputField: {color: 'black'}, searchBox: { minWidth: 250, width: '100%', height: '30', backgroundColor: 'white', borderRadius: \"5px\" }} }\r\n              />\r\n            <Multiselect\r\n                // isObject={false}\r\n                options={this.state.resources[1][\"instances\"]}\r\n                // selectedValues={this.state.selected}\r\n                onSelect={this.onSelectWorker}\r\n                onRemove={this.onRemoveWorker}\r\n                placeholder=\"Workers\"\r\n                closeIcon=\"cancel\"\r\n                displayValue=\"text\"\r\n                style={{multiselectContainer: {marginLeft: '2%', width: '35%'},  optionContainer:{ zIndex: 10000000}, chips: { background: \"#587096\", height: 35 }, inputField: {color: 'black'}, searchBox: { minWidth: 250, width: '100%', height: '30', backgroundColor: 'white', borderRadius: \"5px\" }} }\r\n              />\r\n              <FiSearch onClick={this.onSearch} size={35} style={{cursor: \"pointer\", marginLeft: 10, paddingRight:\"10px\"}}/>\r\n            </Row>\r\n\r\n           <Paper className=\"react-calendar\">\r\n          <Scheduler\r\n            data={this.state.selectedAppointments}\r\n\r\n          >\r\n          <ViewState\r\n            defaultCurrentDate={this.state.currentDate}\r\n\r\n          />\r\n          <EditingState\r\n           onCommitChanges={this.commitChanges}\r\n         />\r\n         <IntegratedEditing />\r\n\r\n            <WeekView\r\n             startDayHour={8}\r\n             endDayHour={24}\r\n             cellDuration={60}\r\n           />\r\n           <MonthView\r\n             dayScaleCellComponent={DayScaleCell}\r\n             timeTableCellComponent={TimeTableCell}\r\n          />\r\n          <DayView\r\n            startDayHour={8}\r\n            endDayHour={24}\r\n            cellDuration={60}\r\n          />\r\n\r\n            <Toolbar />\r\n            <ViewSwitcher />\r\n            <DateNavigator/>\r\n            <TodayButton />\r\n            <ConfirmationDialog />\r\n            <Appointments\r\n            appointmentComponent={Appointment}/>\r\n            <AppointmentTooltip\r\n            showCloseButton\r\n            showOpenButton/>\r\n            <AppointmentForm\r\n            isRecurrence={false}\r\n            basicLayoutComponent={BasicLayout}\r\n            recurrenceLayoutComponent={RecurrenceLayout}\r\n            // textEditorComponent={TextEditor}\r\n            messages={messages}\r\n            booleanEditorComponent={BooleanEditor}\r\n            />\r\n            <Resources\r\n              data={this.state.resources}\r\n              // mainResourceName={this.state.mainResourceName}\r\n              />\r\n            <DragDropProvider/>\r\n          </Scheduler>\r\n          </Paper>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Calendar);\r\n\r\n// <ResourceSwitcher\r\n//  resources={this.state.resources}\r\n//  mainResourceName={this.state.mainResourceName}\r\n//  onChange={this.changeMainResource}\r\n// />\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport LargeCarousel from '../LargeCarousel';\r\nimport { Button } from 'react-bootstrap';\r\nimport Cookies from 'js-cookie';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport './StoreDisplay.css'\r\nimport { getPictures } from '../s3'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass StoreDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n      store: {\r\n        id: \"\",\r\n        name: \"\",\r\n        address: \"\",\r\n        created_at: \"\",\r\n        category: [],\r\n        services: [],\r\n        workers: [],\r\n        owners: [],\r\n        phone: \"\",\r\n        clients: [],\r\n        pictures: [],\r\n        description: \"\",\r\n        lat: \"\",\r\n        lng: \"\"\r\n      },\r\n      pictures: []\r\n    }\r\n  }\r\n\r\n  triggerStoreEdit() {\r\n    this.props.history.push({\r\n      pathname: '/stores/edit/' + this.props.match.params.store_id,\r\n      state: this.state\r\n    })\r\n  }\r\n\r\n  triggerBook() {\r\n    this.props.history.push({\r\n      pathname: '/book/' + this.props.match.params.store_id,\r\n      state: this.state\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    // if we were passed the store data from calling component\r\n    let pictures = await getPictures('stores/' + this.props.match.params.store_id + '/images/')\r\n    if(pictures.length == 0){\r\n      pictures = [\r\n        {\r\n          url: \"/hair.jpg\",\r\n          key: \"/hair.jpg\"\r\n        },\r\n        {\r\n          url: \"/nails.jpg\",\r\n          key: \"/nails.jpg\"\r\n        },\r\n        {\r\n          url: \"/salon.jpg\",\r\n          key: \"/salon.jpg\"\r\n        }\r\n      ]\r\n    }\r\n\r\n    if(this.props.location.state && this.props.location.state.store){\r\n      let convertedCategory = this.props.location.state.store.category.map((str) => ({ value: str.toLowerCase(), label: str }));\r\n      let appendedStore = this.props.location.state.store\r\n      appendedStore.pictures = pictures\r\n\r\n      this.setState({\r\n        store: appendedStore,\r\n        selectedOption: convertedCategory\r\n      })\r\n    }\r\n    else{\r\n      // retrieve the store data from the database\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id , {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if(data){\r\n          let convertedCategory = data.category.map((str) => ({ value: str.toLowerCase(), label: str }));\r\n          data.pictures = pictures\r\n\r\n          this.setState({\r\n            store: data,\r\n            selectedOption: convertedCategory\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let editButton;\r\n    if(Cookies.get('user') && this.state.store.owners.indexOf(JSON.parse(Cookies.get('user').substring(2)).id) > -1){\r\n      editButton = <Button className=\"float-left\" onClick={() =>  this.triggerStoreEdit()}>Edit Store</Button>\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-md-center\" style={{ marginTop: '15px', marginBottom: '15px'}}>\r\n          <Col lg={3}>\r\n            <h1>{this.state.store.name}</h1>\r\n            <h5 style={{color: \"gray\"}}>{this.state.store.address}</h5>\r\n            <hr/>\r\n            <p style={{fontSize: \"25px\"}}>{this.state.store.description}</p>\r\n            <ul>\r\n              {this.state.store.category.map((cat, index) => (\r\n                <li key={\"cat-\" + index}>{cat}</li>\r\n              ))}\r\n            </ul>\r\n            <div id=\"buttonGroup\">\r\n              {editButton}\r\n              <Button className=\"float-left\" onClick={() =>  this.triggerBook()}>Book Now</Button>\r\n            </div>\r\n          </Col>\r\n          <Col xs={10} sm={9} md={8} lg={7}>\r\n            <LargeCarousel className=\"carousel\" pictures={this.state.store.pictures}/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          {/* <WorkerDisplay/> */}\r\n        </Row>\r\n        <Row>\r\n          {/* <ServiceDisplay/> */}\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(StoreDisplay);","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport { FaShoppingCart, FaRoad, FaBuilding, FaUniversity, FaGlobe, FaPen, FaPhone, FaMap } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport { css } from '@emotion/core'\r\nimport * as Yup from 'yup';\r\nimport Select from 'react-select';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { getPictures, deleteHandler, uploadHandler } from '../s3'\r\nimport { Multiselect } from 'multiselect-react-dropdown';\r\nimport { withRouter } from \"react-router-dom\";\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\nconst helper = require('../Search/helper.js');\r\n\r\nclass StoreEditForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      store: {\r\n        name: \"\",\r\n        description: \"\",\r\n        phone: \"\",\r\n        id: \"\",\r\n        address: \"\",\r\n        category: []\r\n      },\r\n      address: \"\",\r\n      storeHours: [{ open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 },\r\n      { open_time: 540, close_time: 1020 }],\r\n      newHours: [],\r\n      // selectedOption: [],\r\n      loading: true,\r\n      pictures: [],\r\n      selectedFiles: [],\r\n      keys: [],\r\n      category: helper.getCategories(),\r\n      categoryError: false,\r\n      selected: [],\r\n\r\n    };\r\n\r\n    // options for the categories field\r\n    // this.options = [\r\n    //   { value: 'nails', label: 'Nails' },\r\n    //   { value: 'hair', label: 'Hair' },\r\n    // ];\r\n\r\n    // RegEx for phone number validation\r\n    this.phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/\r\n\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      name: Yup.string()\r\n        .min(2, \"Store name must have at least 2 characters\")\r\n        .max(100, \"Store name can't be longer than 100 characters\")\r\n        .required(\"Name is required\"),\r\n      description: Yup.string()\r\n        .min(20, \"Description must have at least 20 characters\")\r\n        .required(\"Description is required\"), // will make it required soon\r\n      phone: Yup.string()\r\n        .matches(this.phoneRegExp, \"Phone number is not valid\")\r\n        .required(\"Phone number is required\"),\r\n      address: Yup.string()\r\n        .required(\"Address is required\"),\r\n      category: Yup.array()\r\n        .required(\"Category is required\")\r\n        .nullable(),\r\n      pictureCount: Yup.number()\r\n        .required(\"Pictures are required\")\r\n        .min(1, \"Must have at least one picture\")\r\n    });\r\n\r\n    this.autocomplete = null\r\n    this.handlePlaceSelect = this.handlePlaceSelect.bind(this);\r\n\r\n    this.triggerStoreDisplay = this.triggerStoreDisplay.bind(this);\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.onRemove = this.onRemove.bind(this);\r\n    this.shorterVersion = this.shorterVersion.bind(this);\r\n    this.longerVersion = this.longerVersion.bind(this);\r\n    this.triggerStoreDisplayNoResp = this.triggerStoreDisplayNoResp.bind(this);\r\n    this.autocompleteChange = this.autocompleteChange.bind(this)\r\n  }\r\n\r\n  onSelect(selectedList, selectedItem) {\r\n\r\n    this.setState({\r\n      selected: selectedList,\r\n      categoryError: false\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n  onRemove(selectedList, removedItem, event) {\r\n\r\n    this.setState({\r\n      selected: selectedList\r\n    })\r\n\r\n  }\r\n\r\n  autocompleteChange(event, setFieldValue){\r\n    setFieldValue(\"address\", event.target.value)\r\n    this.setState({\r\n      address: event.target.value\r\n    })\r\n  }\r\n\r\n  handlePlaceSelect() {\r\n    let addressObject = this.autocomplete.getPlace()\r\n    let address = addressObject.address_components.map(function(elem){\r\n                      return elem.long_name;\r\n                  }).join(\", \");\r\n\r\n    this.setState({\r\n      address: address\r\n    })\r\n  }\r\n\r\n  // redirect to the store display page and pass the new store data\r\n  triggerStoreDisplay(returnedStore) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id,\r\n      state: {\r\n        store: returnedStore\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerStoreDisplayNoResp() {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id\r\n    })\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if(h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  shorterVersion(name) {\r\n\r\n    if(name == \"Spa & Wellness\") {\r\n      return \"Spa\"\r\n    }\r\n    else if(name == \"Barbershops\") {\r\n      return \"Barber\"\r\n    }\r\n    else if(name == \"Nail Salon\") {\r\n      return \"Nails\"\r\n    }\r\n    else if(name == \"Hair Salon\") {\r\n      return \"Hair\"\r\n    }\r\n    return name;\r\n  }\r\n\r\n  longerVersion(name) {\r\n\r\n    if(name == \"Spa\") {\r\n      return \"Spa & Wellness\"\r\n    }\r\n    else if(name == \"Barber\") {\r\n      return \"Barbershops\"\r\n    }\r\n    else if(name == \"Nails\") {\r\n      return \"Nail Salon\"\r\n    }\r\n    else if(name == \"Hair\") {\r\n      return \"Hair Salon\"\r\n    }\r\n    return name;\r\n  }\r\n\r\n  handleSelectChange = (event) => {\r\n    var days = ['formHoursMonday', 'formHoursTuesday', 'formHoursWednesday', 'formHoursThursday', 'formHoursFriday', 'formHoursSaturday', 'formHoursSunday']\r\n    var day = days.indexOf(event.target.id)\r\n    var updateNewHours = this.state.newHours\r\n    var old_open_time = 0\r\n    var old_close_time = 0\r\n    var newStoreHours = []\r\n    if(this.state.newHours[day]) {\r\n      old_open_time = this.state.newHours[day].open_time\r\n      old_close_time = this.state.newHours[day].close_time\r\n    } else {\r\n      old_open_time = this.state.storeHours[day].open_time\r\n      old_close_time = this.state.storeHours[day].close_time\r\n    }\r\n    if(parseInt(event.target.querySelector('option').value) <= 840) {\r\n      updateNewHours[day] = {open_time: parseInt(event.target.value), close_time: old_close_time}\r\n      newStoreHours = [\r\n        ...this.state.storeHours.slice(0, day),\r\n        {open_time: parseInt(event.target.value), close_time: old_close_time},\r\n        ...this.state.storeHours.slice(day + 1)\r\n      ]\r\n    } else {\r\n      updateNewHours[day] = {open_time: old_open_time, close_time: parseInt(event.target.value)}\r\n      newStoreHours = [\r\n        ...this.state.storeHours.slice(0, day),\r\n        {open_time: old_open_time, close_time: parseInt(event.target.value)},\r\n        ...this.state.storeHours.slice(day + 1)\r\n      ]\r\n    }\r\n\r\n    this.setState({\r\n      newHours: updateNewHours,\r\n      storeHours: newStoreHours\r\n    })\r\n  };\r\n\r\n  deleteFileChangeHandler = async (event, setFieldValue, newPictureLength) => {\r\n    if(event.target.checked){\r\n      await this.state.keys.push(event.target.id)\r\n      setFieldValue('pictureCount', this.state.pictures.length + newPictureLength - this.state.keys.length)\r\n    }\r\n    else{\r\n      await this.state.keys.pop(event.target.id)\r\n      setFieldValue('pictureCount', this.state.pictures.length + newPictureLength - this.state.keys.length)\r\n    }\r\n  }\r\n\r\n  fileChangedHandler = async (event, setFieldValue, pictures) => {\r\n    this.setState({ selectedFiles: event.target.files })\r\n    setFieldValue('pictureCount', this.state.pictures.length + event.target.files.length - this.state.keys.length)\r\n    setFieldValue('pictures', event.target.files)\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let picturesFetched = await getPictures('stores/' + this.props.match.params.store_id + '/images/')\r\n\r\n    // if we were given the existing data from calling component use that, else fetch\r\n    // check if categories are empty, if they are then cache/store needs to be updated.\r\n    if (this.props.location.state && this.props.location.state.store) {\r\n      let convertedCategory = this.props.location.state.store.category.map((str, indx) => ({ id: indx, name: this.longerVersion(str)}));\r\n\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/storeHours', {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        this.setState({\r\n          store: this.props.location.state.store,\r\n          selected: convertedCategory,\r\n          address: this.props.location.state.store.address,\r\n          storeHours: data,\r\n          loading: false,\r\n          pictures: picturesFetched\r\n        })\r\n      });\r\n    }\r\n    else {\r\n\r\n      Promise.all([\r\n        fetch(fetchDomain + '/stores/' + this.props.match.params.store_id, {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(value => value.json()),\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/storeHours', {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(value => value.json())\r\n      ]).then(allResponses => {\r\n        const response1 = allResponses[0]\r\n        const response2 = allResponses[1]\r\n\r\n        let convertedCategory = response1.category.map((str, indx) => ({ id: indx, name: this.longerVersion(str)}) );\r\n        this.setState({\r\n          store: response1,\r\n          selected: convertedCategory,\r\n          address: response1.address,\r\n          storeHours: response2,\r\n          loading: false,\r\n          pictures: picturesFetched\r\n        })\r\n      })\r\n    }\r\n\r\n    const google = window.google;\r\n    this.autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'), { })\r\n\r\n    this.autocomplete.addListener(\"place_changed\", this.handlePlaceSelect)\r\n  }\r\n\r\n  render() {\r\n        return <Row className=\"justify-content-center\" id=\"test\">\r\n        <Col xs={8} sm={7} md={6} lg={5}>\r\n          <Formik\r\n            enableReinitialize\r\n            initialValues={{\r\n              name: this.state.store.name,\r\n              description: this.state.store.description,\r\n              phone: this.state.store.phone,\r\n              address: this.state.store.address,\r\n              category: this.state.selected,\r\n              services: null,\r\n              owners: null,\r\n              pictures: [],\r\n              pictureCount: this.state.pictures.length - this.state.keys.length,\r\n              storeHours: this.state.storeHours\r\n            }}\r\n            validationSchema={this.yupValidationSchema}\r\n            onSubmit={async (values) => {\r\n              let shorterVersion = this.shorterVersion\r\n\r\n              values.category = this.state.selected.map(function (val) {\r\n                return shorterVersion(val.name)\r\n              })\r\n\r\n              if(values.category.length == 0) {\r\n\r\n                this.setState({\r\n                  categoryError: true\r\n                })\r\n                return;\r\n              }\r\n\r\n                let store_id = this.props.match.params.store_id\r\n                let triggerStoreDisplay = this.triggerStoreDisplay\r\n                let triggerStoreDisplayNoResp = this.triggerStoreDisplayNoResp\r\n\r\n                values.services = this.state.store.services\r\n                values.owners = this.state.store.owners\r\n                values.id = store_id\r\n                values.storeHours = this.state.newHours\r\n                values.address = this.state.address\r\n\r\n                // remove files from s3\r\n                if(this.state.keys.length > 0){\r\n                  await deleteHandler(this.state.keys)\r\n                }\r\n\r\n                // upload new images to s3 from client to avoid burdening back end\r\n                if(this.state.selectedFiles.length > 0){\r\n                  let prefix = 'stores/' + this.props.match.params.store_id + '/images/'\r\n                  await uploadHandler(prefix, this.state.selectedFiles)\r\n                }\r\n\r\n                fetch(fetchDomain + '/stores/edit/' + store_id , {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    'Content-type': 'application/json'\r\n                  },\r\n                  credentials: 'include',\r\n                  body: JSON.stringify(values)\r\n                })\r\n                .then(function(response){\r\n                  if(response.status!==200){\r\n                    store.dispatch(addAlert(response))\r\n                  }\r\n                  else {\r\n                    // redirect to home page signed in\r\n                    return response.json()\r\n                  }\r\n                })\r\n                .then(data => {\r\n                  if(data){\r\n                    triggerStoreDisplay(data)\r\n                  }\r\n                  else{\r\n                    console.log(\"should not be here, but going to redirect until this is fixed\")\r\n                    // this.triggerStoreDisplayNoResp()\r\n                  }\r\n                });\r\n            }}\r\n          >\r\n            {({ values,\r\n              errors,\r\n              touched,\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              setFieldValue }) => (\r\n                <Form className=\"formBody rounded\">\r\n                  <h3>Store Edit</h3>\r\n\r\n                  <Form.Group controlId=\"formName\">\r\n                    <InputGroup>\r\n                      <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                          <FaShoppingCart />\r\n                        </InputGroup.Text>\r\n                      </InputGroup.Prepend>\r\n                      <Form.Control\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={values.name}\r\n                        placeholder=\"Business Name\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        className={touched.name && errors.name ? \"error\" : null} />\r\n                    </InputGroup>\r\n                    {touched.name && errors.name ? (\r\n                      <div className=\"error-message\">{errors.name}</div>\r\n                    ) : null}\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"formDescription\">\r\n                    <InputGroup>\r\n                      <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                          <FaPen />\r\n                        </InputGroup.Text>\r\n                      </InputGroup.Prepend>\r\n                      <Form.Control\r\n                        as=\"textarea\"\r\n                        rows={3}\r\n                        name=\"description\"\r\n                        value={values.description}\r\n                        placeholder=\"Description\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        className={touched.description && errors.description ? \"error\" : null} />\r\n                    </InputGroup>\r\n                    {touched.description && errors.description ? (\r\n                      <div className=\"error-message\">{errors.description}</div>\r\n                    ) : null}\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"formPhone\">\r\n                    <InputGroup>\r\n                      <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                          <FaPhone />\r\n                        </InputGroup.Text>\r\n                      </InputGroup.Prepend>\r\n                      <Form.Control type=\"text\"\r\n                        value={values.phone}\r\n                        placeholder=\"Phone Number\"\r\n                        name=\"phone\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        className={touched.phone && errors.phone ? \"error\" : null} />\r\n                    </InputGroup>\r\n                    {touched.phone && errors.phone ? (\r\n                      <div className=\"error-message\">{errors.phone}</div>\r\n                    ) : null}\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"autocomplete\">\r\n                      <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                          <InputGroup.Text>\r\n                            <FaMap />\r\n                          </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          placeholder=\"Address\"\r\n                          autoComplete=\"new-password\"\r\n                          onChange={event => this.autocompleteChange(event, setFieldValue) }\r\n                          className={touched.address && errors.address ? \"error\" : null}\r\n                          value={this.state.address}\r\n                        />\r\n                      </InputGroup>\r\n                      {touched.address && errors.address ? (\r\n                        <div className=\"error-message\">{errors.address}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                  <Form.Group controlId=\"category\">\r\n\r\n\r\n                  <Multiselect\r\n                    selectedValues={this.state.selected}\r\n                    options={this.state.category}\r\n                    onSelect={this.onSelect}\r\n                    onRemove={this.onRemove}\r\n                    placeholder=\"Category\"\r\n                    closeIcon=\"cancel\"\r\n                    displayValue=\"name\"\r\n                    avoidHighlightFirstOption={true}\r\n                    style={{multiselectContainer: { width: '100%'},  groupHeading:{width: 50, maxWidth: 50}, chips: { background: \"#587096\", height: 35 }, inputField: {color: 'black'}, searchBox: { minWidth: '100%', height: '30', backgroundColor: 'white', borderRadius: \"5px\" }} }\r\n                    />\r\n\r\n                  {(this.state.categoryError) ? (\r\n                    <div className=\"error-message\">Category is required</div>\r\n                      ) : null}\r\n                </Form.Group>\r\n\r\n                  <h4>Store Hours</h4>\r\n\r\n                  <Form.Group controlId=\"formHoursMonday\">\r\n                    <h5 className=\"text-left\">Monday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[0].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[0].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"formHoursTuesday\">\r\n                    <h5 className=\"text-left\">Tuesday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[1].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[1].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n\r\n                  <Form.Group controlId=\"formHoursWednesday\">\r\n                    <h5 className=\"text-left\">Wednesday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[2].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[2].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"formHoursThursday\">\r\n                    <h5 className=\"text-left\">Thursday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[3].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[3].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n\r\n                  <Form.Group controlId=\"formHoursFriday\">\r\n                    <h5 className=\"text-left\">Friday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[4].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[4].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"formHoursSaturday\">\r\n                    <h5 className=\"text-left\">Saturday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[5].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[5].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n\r\n                  <Form.Group controlId=\"formHoursSunday\">\r\n                    <h5 className=\"text-left\">Sunday</h5>\r\n                    <Form.Row>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[6].open_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={0}>{this.convertMinsToHrsMins(0)}</option>\r\n                          <option value={60}>{this.convertMinsToHrsMins(60)}</option>\r\n                          <option value={120}>{this.convertMinsToHrsMins(120)}</option>\r\n                          <option value={180}>{this.convertMinsToHrsMins(180)}</option>\r\n                          <option value={240}>{this.convertMinsToHrsMins(240)}</option>\r\n                          <option value={300}>{this.convertMinsToHrsMins(300)}</option>\r\n                          <option value={360}>{this.convertMinsToHrsMins(360)}</option>\r\n                          <option value={420}>{this.convertMinsToHrsMins(420)}</option>\r\n                          <option value={480}>{this.convertMinsToHrsMins(480)}</option>\r\n                          <option value={540}>{this.convertMinsToHrsMins(540)}</option>\r\n                          <option value={600}>{this.convertMinsToHrsMins(600)}</option>\r\n                          <option value={660}>{this.convertMinsToHrsMins(660)}</option>\r\n                          <option value={720}>{this.convertMinsToHrsMins(720)}</option>\r\n                          <option value={780}>{this.convertMinsToHrsMins(780)}</option>\r\n                          <option value={840}>{this.convertMinsToHrsMins(840)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={this.state.storeHours[6].close_time} onChange={this.handleSelectChange.bind(this)}>\r\n                          <option value={900}>{this.convertMinsToHrsMins(900)}</option>\r\n                          <option value={960}>{this.convertMinsToHrsMins(960)}</option>\r\n                          <option value={1020}>{this.convertMinsToHrsMins(1020)}</option>\r\n                          <option value={1080}>{this.convertMinsToHrsMins(1080)}</option>\r\n                          <option value={1140}>{this.convertMinsToHrsMins(1140)}</option>\r\n                          <option value={1200}>{this.convertMinsToHrsMins(1200)}</option>\r\n                          <option value={1260}>{this.convertMinsToHrsMins(1260)}</option>\r\n                          <option value={1320}>{this.convertMinsToHrsMins(1320)}</option>\r\n                          <option value={1380}>{this.convertMinsToHrsMins(1380)}</option>\r\n                          <option value={1440}>{this.convertMinsToHrsMins(1440)}</option>\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Form.Row>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"pictures\">\r\n                    <Form.Label>Delete Images</Form.Label>\r\n                    {this.state.pictures.map((picture, index) => (\r\n                      <div key={\"pic-\" + index}>\r\n                        <img className=\"img-fluid\" src={picture.url} alt={\"Slide \" + index} />\r\n                        <Form.Check\r\n                          // style={{marginLeft: 30}}\r\n                          id={picture.key}\r\n                          label={picture.key.split('/').slice(-1)[0]}\r\n                          onChange={event => this.deleteFileChangeHandler(event, setFieldValue, values.pictures.length)}\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"pictureCount\">\r\n                    <Form.Label>Add Images</Form.Label>\r\n                    <br/>\r\n                    <input\r\n                      onChange={event => this.fileChangedHandler(event, setFieldValue, values.pictures)}\r\n                      type=\"file\"\r\n                      multiple\r\n                      className={touched.pictures && errors.pictures ? \"error\" : null}\r\n                    />\r\n                    {touched.pictureCount && errors.pictureCount ? (\r\n                      <div className=\"error-message\">{errors.pictureCount}</div>\r\n                    ): null}\r\n                  </Form.Group>\r\n\r\n                  <Button onClick={handleSubmit}>Submit</Button>\r\n                </Form>\r\n              )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n      }\r\n    }\r\n\r\nexport default withRouter(StoreEditForm);\r\n","//CITATION: https://medium.com/@faizanv/authentication-for-your-react-and-express-application-w-json-web-tokens-923515826e0\r\nimport React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nexport default function redirectWithoutAuth(ComponentToProtect) {\r\n  return class extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        loading: true,\r\n        redirect: false,\r\n      };\r\n    }\r\n    componentDidMount() {\r\n      // note, should you be allowed to edit serivces if you are a worker and not the owner?\r\n      if(this.props.match.params.store_id){\r\n        if(Cookies.get('token')){\r\n          fetch(fetchDomain + '/checkTokenAndPermissions' , {\r\n            method: \"POST\",\r\n            headers: {\r\n              'Content-type': 'application/json'\r\n            },\r\n            credentials: 'include',\r\n            body: JSON.stringify({store_id: this.props.match.params.store_id, worker_id: this.props.match.params.worker_id, user_id: JSON.parse(Cookies.get('user').substring(2)).id})\r\n          }).then(res => {\r\n            if (res.status === 200) {\r\n              this.setState({ loading: false });\r\n            } else {\r\n              const error = new Error(res.error);\r\n              throw error;\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.setState({ loading: false, redirect: true });\r\n          });\r\n        }\r\n        else{\r\n          this.setState({ loading: false, redirect: true})\r\n        }\r\n      }\r\n      else {\r\n        fetch(fetchDomain + '/checkToken' , {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(res => {\r\n            if (res.status === 200) {\r\n              // verified user is logged in and has a valid token\r\n              // if they are trying to access private data, make sure it is the correct user\r\n              if(this.props.match.params.user_id){\r\n                if (JSON.parse(Cookies.get('user').substring(2)).id == this.props.match.params.user_id) {\r\n                  this.setState({\r\n                    loading: false\r\n                  })\r\n                }\r\n                else{\r\n                  this.setState({\r\n                    loading: false,\r\n                    redirect: true\r\n                  })\r\n                }\r\n              }\r\n              this.setState({ loading: false });\r\n            } else {\r\n              const error = new Error(res.error);\r\n              throw error;\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.setState({ loading: false, redirect: true });\r\n          });\r\n      }\r\n    }\r\n    render() {\r\n      const { loading, redirect } = this.state;\r\n      if (loading) {\r\n        return null;\r\n      }\r\n      if (redirect) {\r\n        return <Redirect to=\"/login\" />;\r\n      }\r\n      else {\r\n        return <ComponentToProtect {...this.props} />;\r\n      }\r\n    }\r\n  }\r\n}","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaLockOpen, FaLock, FaUser, FaPhone } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {editUser} from '../../reduxFolder/redux.js'\r\n\r\nclass EditProfileForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {\r\n        first_name: '',\r\n        last_name: '',\r\n        phone: '',\r\n        password: '',\r\n        password_confirmation: '',\r\n        id: ''\r\n      }\r\n    }\r\n    // RegEx for phone number validation\r\n    this.phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/\r\n    // this.emailRegExp = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      first_name: Yup.string()\r\n      .min(2, \"First name must have at least 2 characters\")\r\n      .max(100, \"First name can't be longer than 100 characters\")\r\n      .required(\"First name is required\"),\r\n      last_name: Yup.string()\r\n      .min(2, \"Last name must have at least 2 characters\")\r\n      .max(100, \"Last name can't be longer than 100 characters\")\r\n      .required(\"Last name is required\"),\r\n      // email: Yup.string()\r\n      // .email(\"Must be a valid email address\")\r\n      // .max(100, \"Email must be less than 100 characters\")\r\n      // .required(\"Email is required\"),\r\n      phone: Yup.string()\r\n      .matches(this.phoneRegExp, \"Phone number is not valid\"),\r\n      password: Yup.string()\r\n      .min(6, \"Password must have at least 6 characters\")\r\n      .max(100, \"Password can't be longer than 100 characters\")\r\n      .required(\"Password is required\"),\r\n      password_confirmation: Yup.string()\r\n      .oneOf([Yup.ref('password')], 'Passwords do not match')\r\n      .required(\"Password confirmation is required\"),\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState)  {\r\n    if (prevProps.user !== this.props.user) {\r\n      this.props.history.push({\r\n        pathname: '/users/' + this.props.user.id,\r\n      })\r\n    }\r\n  }\r\n    \r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          <Col xs={8} sm={7} md={6} lg={5}>\r\n            <Formik\r\n              enableReinitialize\r\n              initialValues={{\r\n                first_name: this.props.user.first_name,\r\n                last_name: this.props.user.last_name,\r\n                phone: this.props.user.phone,\r\n                password: '',\r\n                password_confirmation: '',\r\n                id: 0\r\n              }}\r\n              validationSchema={this.yupValidationSchema}\r\n              onSubmit={(values) => {\r\n                values.id = this.props.match.params.user_id\r\n\r\n                this.props.editProfile(values)\r\n              }}\r\n            >\r\n            {( {values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit}) => (\r\n              <Form className=\"formBody rounded\">\r\n                <h3>Edit Profile</h3>\r\n\r\n                <Form.Group controlId=\"formFirstName\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaUser/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"text\" \r\n                      name=\"first_name\"\r\n                      value={values.first_name} \r\n                      placeholder=\"First Name\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.first_name && errors.first_name ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.first_name && errors.first_name ? (\r\n                    <div className=\"error-message\">{errors.first_name}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formLastName\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaUser/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control type=\"text\" \r\n                    value={values.last_name}\r\n                    placeholder=\"Last Name\" \r\n                    name=\"last_name\" \r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={touched.last_name && errors.last_name ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.last_name && errors.last_name ? (\r\n                    <div className=\"error-message\">{errors.last_name}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formPhone\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaPhone/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control type=\"text\" \r\n                      value={values.phone} \r\n                      placeholder=\"Phone Number\" \r\n                      name=\"phone\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.phone && errors.phone ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.phone && errors.phone ? (\r\n                    <div className=\"error-message\">{errors.phone}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formPassword\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaLockOpen/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"password\" \r\n                      value={values.password} \r\n                      placeholder=\"Password\" \r\n                      name=\"password\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.password && errors.password ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.password && errors.password ? (\r\n                    <div className=\"error-message\">{errors.password}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formPasswordConfirmation\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaLock/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"password\" \r\n                      value={values.password_confirmation}\r\n                      placeholder=\"Confirm Password\" \r\n                      name=\"password_confirmation\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.password_confirmation && errors.password_confirmation ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.password_confirmation && errors.password_confirmation ? (\r\n                    <div className=\"error-message\">{errors.password_confirmation}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n                <Button onClick={handleSubmit}>Submit</Button>\r\n              </Form>\r\n            )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.userReducer.user\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  editProfile: (email, password, auth_token) => editUser(email, password, auth_token)\r\n}, dispatch)\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProfileForm);\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { connect } from 'react-redux';\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    // fix later to render all users not just current one? this.props.match.params.user_id\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n            <Col>\r\n              <h1>{this.props.user.first_name} {this.props.user.last_name}</h1>\r\n              <h1>{this.props.user.phone}</h1>\r\n              <h1>{this.props.user.email}</h1>\r\n            </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.userReducer.user\r\n})\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n","import React from \"react\"\r\nimport ContentLoader from \"react-content-loader\" \r\n\r\nconst UserStoresDashboardLoader = () => (\r\n  <ContentLoader \r\n    speed={1}\r\n    style={{ width: '100%', height: '100%' }}\r\n    viewBox=\"0 0 1000 1500\"\r\n    backgroundColor=\"#f3f3f3\"\r\n    foregroundColor=\"#eae8e8\"\r\n  >\r\n    <rect className={'d-none d-md-block'} x=\"50\" y=\"30\" rx=\"0\" ry=\"0\" width=\"500\" height=\"250\" /> \r\n    <rect className={'d-none d-md-block'} x=\"630\" y=\"71\" rx=\"3\" ry=\"3\" width=\"200\" height=\"15\" /> \r\n    <rect className={'d-none d-md-block'} x=\"645\" y=\"105\" rx=\"3\" ry=\"3\" width=\"164\" height=\"6\" /> \r\n    <rect className={'d-none d-md-block'} x=\"630\" y=\"130\" rx=\"3\" ry=\"3\" width=\"200\" height=\"25\" /> \r\n    <rect className={'d-none d-md-block'} x=\"630\" y=\"170\" rx=\"3\" ry=\"3\" width=\"200\" height=\"25\" /> \r\n    <rect className={'d-none d-md-block'} x=\"630\" y=\"210\" rx=\"3\" ry=\"3\" width=\"200\" height=\"25\" /> \r\n    \r\n    <rect className={'d-block d-md-none'} x=\"66\" y=\"0\" rx=\"0\" ry=\"0\" width=\"858\" height=\"614\" /> \r\n    <rect className={'d-block d-md-none'}x=\"69\" y=\"689\" rx=\"3\" ry=\"3\" width=\"858\" height=\"115\" /> \r\n    <rect className={'d-block d-md-none'}x=\"104\" y=\"869\" rx=\"3\" ry=\"3\" width=\"788\" height=\"55\" /> \r\n    <rect className={'d-block d-md-none'}x=\"49\" y=\"999\" rx=\"3\" ry=\"3\" width=\"900\" height=\"115\" /> \r\n    <rect className={'d-block d-md-none'}x=\"49\" y=\"1169\" rx=\"3\" ry=\"3\" width=\"900\" height=\"115\" /> \r\n    <rect className={'d-block d-md-none'}x=\"49\" y=\"1339\" rx=\"3\" ry=\"3\" width=\"900\" height=\"115\" /> \r\n  </ContentLoader>\r\n)\r\n\r\nexport default UserStoresDashboardLoader","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Button, Image } from 'react-bootstrap';\r\n// import SearchCard from '../Search/SearchCard';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n// import salon from '../../assets/salon.jpg';\r\nimport salon2 from '../../assets/salon2.jpeg';\r\nimport hair from '../../assets/hair_salon.jpg';\r\nimport { FaEdit } from 'react-icons/fa';\r\nimport './UserStoresDashboard.css'\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n// import {addStore} from '../../reduxFolder/actions/stores.js'\r\nimport UserStoresDashboardLoader from './UserStoresDashboardLoader';\r\nimport { getPictures } from '../s3'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\n// ***** NOTE: fix to properly display all the stores\r\n\r\nclass UserStoresDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n      stores: [\r\n        {\r\n          id: \"\",\r\n          name: \"\",\r\n          address: \"\",\r\n          created_at: \"\",\r\n          category: [],\r\n          services: [],\r\n          workers: [],\r\n          owners: [],\r\n          phone: \"\",\r\n          clients: [],\r\n          description: \"\",\r\n          lat: \"\",\r\n          lng: \"\"\r\n        }\r\n      ],\r\n      redirectToWorkerForm: null,\r\n      store_id: null,\r\n      loading: true\r\n    }\r\n  }\r\n\r\n  triggerStoreEdit(passedStore) {\r\n    this.props.history.push({\r\n      pathname: '/stores/edit/' + passedStore.id,\r\n      state: {\r\n        store: passedStore\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerAddWorker(id) {\r\n    this.props.history.push({\r\n      pathname: '/stores/addWorker/' + id\r\n    })\r\n  }\r\n\r\n  triggerShowWorkers(id) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + id + '/workers'\r\n    })\r\n  }\r\n\r\n  triggerStoreShow(passedStore) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + passedStore.id,\r\n      state: {\r\n        store: passedStore\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerShowServices(id) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + id + '/services'\r\n    })\r\n  }\r\n\r\n  triggerAddService(id) {\r\n    this.props.history.push({\r\n      pathname: '/stores/addService/' + id,\r\n    })\r\n  }\r\n\r\n  triggerShowCalendar(store) {\r\n    this.props.history.push({\r\n      pathname: '/storeCalendar/' + store.id,\r\n      state: {\r\n        store: store\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(fetchDomain + '/stores/users/' + this.props.match.params.user_id , {\r\n      method: \"GET\",\r\n      headers: {\r\n          'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n    .then(function(response){\r\n      if(response.status!==200){\r\n        // throw an error alert\r\n        store.dispatch(addAlert(response))\r\n      }\r\n      else{\r\n        return response.json();\r\n      }\r\n    })\r\n    .then(async data => {\r\n      if(data){\r\n        // let convertedCategory = data.category.map((str) => ({ value: str.toLowerCase(), label: str }));\r\n\r\n        var appendedStores = await Promise.all(data.map(async (store): Promise<Object> => {\r\n          let pictures = await getPictures('stores/' + store.id + '/images/')\r\n\r\n          // once all data is clean and picture requirement is enforced we can remove this\r\n          if(pictures.length == 0){\r\n            pictures = [\r\n              {\r\n                url: \"/hair.jpg\",\r\n                key: \"/hair.jpg\"\r\n              },\r\n              {\r\n                url: \"/nails.jpg\",\r\n                key: \"/nails.jpg\"\r\n              },\r\n              {\r\n                url: \"/salon.jpg\",\r\n                key: \"/salon.jpg\"\r\n              }\r\n            ]\r\n          }\r\n\r\n          // we can use this for now to avoid s3 fetches\r\n          // let pictures = [\r\n          //     {\r\n          //       url: \"/hair.jpg\",\r\n          //       key: \"/hair.jpg\"\r\n          //     },\r\n          //     {\r\n          //       url: \"/nails.jpg\",\r\n          //       key: \"/nails.jpg\"\r\n          //     },\r\n          //     {\r\n          //       url: \"/salon.jpg\",\r\n          //       key: \"/salon.jpg\"\r\n          //     }\r\n          //   ]\r\n\r\n          var newstore = Object.assign({}, store);\r\n          newstore.pictures = pictures;\r\n          return newstore;\r\n        }));\r\n\r\n        this.setState({\r\n          stores: appendedStores,\r\n          loading: false\r\n        })\r\n      }\r\n      // this.props.addStore(data);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"mt-5\">\r\n            <Col xs=\"12\">\r\n              <UserStoresDashboardLoader/>\r\n            </Col>\r\n          </Row>\r\n      } else {\r\n        return(\r\n          <>{this.state.stores.map((store, index) => (\r\n            <div key={\"store\" + index}>\r\n              <Row className=\"justify-content-center align-content-center my-5\">\r\n                <Col md={6} className=\"vertical-align-contents\">\r\n                  <Carousel className=\"dashboard-carousel\" interval=\"\">\r\n                    {store.pictures.map((picture, index) => (\r\n                      <Carousel.Item key={\"pic-\" + index}>\r\n                        <Image fluid src={picture.url} alt={\"alt-\" + index}/>\r\n                        <img style={this.props.img} src={picture.url} alt={\"Slide \" + index} />\r\n                      </Carousel.Item>\r\n                    ))}\r\n                  </Carousel>\r\n                </Col>\r\n                <Col md={5} className=\"vertical-align-contents\">\r\n                  <Row className={\"justify-content-center\"}>\r\n                    <Col sm={12}>\r\n                      <span className=\"name\" onClick={() => this.triggerStoreShow(store)} style={{cursor: 'pointer'}}> {store.name} </span>\r\n                      <FaEdit className=\"edit mb-3\" size={25} onClick={() => this.triggerStoreEdit(store)}/>\r\n                    </Col>\r\n                    <Col sm={12}>\r\n                      <p className=\"address\">{store.address} </p>\r\n                    </Col>\r\n                    <Col sm={8} className={\"py-1\"}>\r\n                      <Button block className=\"update_button\"  onClick={() =>  this.triggerShowCalendar(store)}>Calendar</Button> &nbsp;\r\n                    </Col>\r\n                    <Col sm={8} className={\"py-1\"}>\r\n                      <Button block className=\"update_button\" onClick={() =>  this.triggerShowWorkers(store.id)}>Workers</Button> &nbsp;\r\n                    </Col>\r\n                    <Col sm={8} className={\"py-1\"}>\r\n                      <Button block className=\"update_button\" onClick={() =>  this.triggerShowServices(store.id)}>Services</Button> &nbsp;\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          ))}</>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <Container fluid>\r\n        <DisplayWithLoading/>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  // stores: state.storeReducer.stores,\r\n  user: state.userReducer.user\r\n})\r\n\r\n// const mapDispatchToProps = dispatch => bindActionCreators({\r\n//   addStore: (store) => addStore(store),\r\n// }, dispatch)\r\n\r\n\r\nexport default connect(mapStateToProps/*, mapDispatchToProps*/)(UserStoresDashboard);\r\n","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaEnvelope } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Select from 'react-select';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport { css } from '@emotion/core'\r\n\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\nclass AddWorkerForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      options: [\r\n        { value: 0, label: 'Brazilian Blowout' },\r\n        { value: 1, label: 'Manicure' },\r\n      ],\r\n      workerHours: [],\r\n      storeHours: [],\r\n      weekIsWorking: [true, true, true, true, true, true, true],\r\n      loading: true\r\n    };\r\n    this.emailRegExp = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      email: Yup.string()\r\n        .email(\"Must be a valid email address\")\r\n        .max(100, \"Email must be less than 100 characters\")\r\n        .required(\"Email is required\"),\r\n    });\r\n\r\n    this.triggerWorkerDisplay = this.triggerWorkerDisplay.bind(this);\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  handleSelectChange = (event) => {\r\n    var days = ['formHoursMonday', 'formHoursTuesday', 'formHoursWednesday', 'formHoursThursday', 'formHoursFriday', 'formHoursSaturday', 'formHoursSunday']\r\n    var day = days.indexOf(event.target.id)\r\n    var old_start_time = 0\r\n    var old_end_time = 0\r\n    var newWorkerHours = []\r\n    old_start_time = this.state.workerHours[day].start_time\r\n    old_end_time = this.state.workerHours[day].end_time\r\n    if (parseInt(event.target.querySelector('option').value) <= 840) {\r\n      newWorkerHours = [\r\n        ...this.state.workerHours.slice(0, day),\r\n        { start_time: parseInt(event.target.value), end_time: old_end_time },\r\n        ...this.state.workerHours.slice(day + 1)\r\n      ]\r\n    } else {\r\n      newWorkerHours = [\r\n        ...this.state.workerHours.slice(0, day),\r\n        { start_time: old_start_time, end_time: parseInt(event.target.value) },\r\n        ...this.state.workerHours.slice(day + 1)\r\n      ]\r\n    }\r\n\r\n    this.setState({\r\n      workerHours: newWorkerHours\r\n    })\r\n  };\r\n\r\n  handleDayStatusChange = (day) => {\r\n    var updateWeekIsWorking = [\r\n      ...this.state.weekIsWorking.slice(0, day),\r\n      !this.state.weekIsWorking[day],\r\n      ...this.state.weekIsWorking.slice(day + 1)\r\n    ]\r\n\r\n    this.setState({\r\n      weekIsWorking: updateWeekIsWorking\r\n    })\r\n  };\r\n\r\n  // redirect to the worker display page and pass the new worker data\r\n  triggerWorkerDisplay(returnedWorker) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + '/workers/' + returnedWorker.id,\r\n      state: {\r\n        worker: returnedWorker\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/storeHours\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n      .then(function (response) {\r\n        if (response.status !== 200) {\r\n          // throw an error alert\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if (data) {\r\n          let receivedWorkerHours = data.map((day) => ({ start_time: day.open_time, end_time: day.close_time }));\r\n          this.setState({\r\n            storeHours: data, \r\n            workerHours: receivedWorkerHours,\r\n            loading: false\r\n          })\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const CreateStartTimesForDay = (props) => {\r\n      let items = [];\r\n      for (let i = this.state.storeHours[props.day].open_time; i <= 840; i += 60) {\r\n        items.push(<option key={i} value={i}>{this.convertMinsToHrsMins(i)}</option>);\r\n      }\r\n      return items;\r\n    }\r\n    const CreateEndTimesForDay = (props) => {\r\n      let items = [];\r\n      for (let i = 900; i <= this.state.storeHours[props.day].close_time; i += 60) {\r\n        items.push(<option key={i} value={i}>{this.convertMinsToHrsMins(i)}</option>);\r\n      }\r\n      return items;\r\n    }\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"vertical-center\">\r\n          <Col>\r\n            <GridLoader\r\n              css={override}\r\n              size={20}\r\n              color={\"#2196f3\"}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      } else { \r\n        return <Row className=\"justify-content-center\">\r\n          <Col xs={8} sm={7} md={6} lg={5}>\r\n            <Formik\r\n              initialValues={{\r\n                email: '',\r\n                services: '',\r\n                workerHours: []\r\n              }}\r\n              validationSchema={this.yupValidationSchema}\r\n              onSubmit={(values) => {\r\n                let store_id = this.props.match.params.store_id\r\n                let triggerWorkerDisplay = this.triggerWorkerDisplay\r\n\r\n                values.workerHours = this.state.workerHours\r\n                values.services = values.services.map(function (val) {\r\n                  return val.value;\r\n                })\r\n\r\n                fetch(fetchDomain + '/stores/addWorker/' + store_id, {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    'Content-type': 'application/json'\r\n                  },\r\n                  credentials: 'include',\r\n                  body: JSON.stringify(values)\r\n                })\r\n                  .then(function (response) {\r\n                    if (response.status !== 200) {\r\n                      store.dispatch(addAlert(response))\r\n                    }\r\n                    else {\r\n                      return response.json();\r\n                    }\r\n                  })\r\n                  .then(function (data) {\r\n                    // redirect to home page signed in\r\n                    if (data) {\r\n                      triggerWorkerDisplay(data)\r\n                    }\r\n                  })\r\n              }}\r\n            >\r\n              {({ values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                setFieldValue }) => (\r\n                  <Form className=\"formBody rounded\">\r\n                    <h3>Add Worker</h3>\r\n\r\n                    <Form.Group controlId=\"formEmail\">\r\n                      <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                          <InputGroup.Text>\r\n                            <FaEnvelope />\r\n                          </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                          type=\"email\"\r\n                          value={values.email}\r\n                          placeholder=\"Email\"\r\n                          name=\"email\"\r\n                          onChange={handleChange}\r\n                          onBlur={handleBlur}\r\n                          className={touched.email && errors.email ? \"error\" : null} />\r\n                      </InputGroup>\r\n                      {touched.email && errors.email ? (\r\n                        <div className=\"error-message\">{errors.email}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formServices\">\r\n                      <Select\r\n                        value={values.services}\r\n                        onChange={option => setFieldValue(\"services\", option)}\r\n                        name=\"services\"\r\n                        options={this.state.options}\r\n                        isMulti={true}\r\n                        placeholder={\"Services\"}\r\n                        className={touched.services && errors.services ? \"error\" : null}\r\n                      />\r\n                      {touched.services && errors.services ? (\r\n                        <div className=\"error-message\">{errors.services}</div>\r\n                      ) : null}\r\n                    </Form.Group>\r\n\r\n                    {/* Later make this work with store hours*/}\r\n                    <h4>Worker Hours</h4>\r\n\r\n                    <Form.Group controlId=\"formHoursMonday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Monday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"monday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[0]}\r\n                            onChange={() => this.handleDayStatusChange(0)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[0]} value={this.state.workerHours[0].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={0} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[0]} value={this.state.workerHours[0].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={0} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursTuesday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Tuesday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"tuesday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[1]}\r\n                            onChange={() => this.handleDayStatusChange(1)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[1]} value={this.state.workerHours[1].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={1} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[1]} value={this.state.workerHours[1].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={1} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursWednesday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Wednesday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"wednesday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[2]}\r\n                            onChange={() => this.handleDayStatusChange(2)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[2]} value={this.state.workerHours[2].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={2} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[2]} value={this.state.workerHours[2].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={2} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursThursday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Thursday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"thursday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[3]}\r\n                            onChange={() => this.handleDayStatusChange(3)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[3]} value={this.state.workerHours[3].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={3} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[3]} value={this.state.workerHours[3].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={3} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursFriday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Friday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"friday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[4]}\r\n                            onChange={() => this.handleDayStatusChange(4)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[4]} value={this.state.workerHours[4].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={4} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[4]} value={this.state.workerHours[4].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={4} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursSaturday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Saturday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"saturday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[5]}\r\n                            onChange={() => this.handleDayStatusChange(5)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[5]} value={this.state.workerHours[5].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={5} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[5]} value={this.state.workerHours[5].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={5} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursSunday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Sunday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"sunday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[6]}\r\n                            onChange={() => this.handleDayStatusChange(6)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[6]} value={this.state.workerHours[6].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={6} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[6]} value={this.state.workerHours[6].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={6} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n                    <Button onClick={handleSubmit}>Submit</Button>\r\n                  </Form>\r\n                )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      } \r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <DisplayWithLoading/>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddWorkerForm;\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Button } from 'react-bootstrap';\r\nimport './Worker.css'\r\n// import {\r\n//   addAlert\r\n// } from '../../reduxFolder/actions'\r\n// import store from '../../reduxFolder/store';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass WorkerDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n      workers: [],\r\n      redirectToWorkerEditForm: null,\r\n      redirectToWorkerDisplay: null\r\n    }\r\n  }\r\n\r\n  triggerWorkerEditForm(workerPassed) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + '/workers/' + workerPassed.id + '/edit',\r\n      state: {\r\n        worker: workerPassed\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerWorkerDisplay(workerPassed) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + '/workers/' + workerPassed.id,\r\n      state: {\r\n        worker: workerPassed\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerAddWorker() {\r\n    this.props.history.push({\r\n      pathname: '/stores/addWorker/' + this.props.match.params.store_id\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.location.state && this.props.location.state.workers){\r\n      this.setState({\r\n        workers: this.props.location.state.workers\r\n      })\r\n    }\r\n    else{\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers', {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          // store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if(data){\r\n          this.setState({\r\n            workers: data\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let workers = null;\r\n    if(this.state.workers.length != 0){\r\n      workers = <div>\r\n                  {this.state.workers.map(worker => (\r\n                    <Col key={\"worker-\" + worker.id}>\r\n                      <Button onClick={() => this.triggerWorkerDisplay(worker)}>Show Worker</Button>\r\n                      <Button onClick={() => this.triggerWorkerEditForm(worker)}>Edit Worker</Button>\r\n                    </Col>\r\n                  ))}\r\n                </div>\r\n    }\r\n    else{\r\n      workers = <div>\r\n                  <p className=\"noResults\">No Workers!</p>\r\n                  <Button onClick={() => this.triggerAddWorker()}>Add Worker</Button>\r\n                </div>\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          {workers}\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WorkerDashboard;","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport Select from 'react-select';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport { css } from '@emotion/core'\r\nimport { withRouter } from \"react-router\"\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\n\r\nclass WorkerEditForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      worker: {\r\n        id: 0,\r\n        store_id: 0,\r\n        services: [],\r\n        user_id: 0,\r\n        created_at: \"\",\r\n        first_name: \"\",\r\n        last_name: \"\"\r\n      },\r\n      options: [\r\n        { value: 0, label: 'Brazilian Blowout' },\r\n        { value: 1, label: 'Manicure' },\r\n      ],\r\n      serviceMapping: {\r\n        0: \"Brazilian Blowout\",\r\n        1: \"Manicure\"\r\n      },\r\n      storeHours: [\r\n        { day_of_the_week: 0, start_time: 0, end_time: 0}, \r\n        { day_of_the_week: 1, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 2, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 3, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 4, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 5, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 6, start_time: 0, end_time: 0}\r\n      ],\r\n      workerHours: [\r\n        { day_of_the_week: 0, start_time: 0, end_time: 0}, \r\n        { day_of_the_week: 1, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 2, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 3, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 4, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 5, start_time: 0, end_time: 0},\r\n        { day_of_the_week: 6, start_time: 0, end_time: 0}\r\n      ],\r\n      loading: true,\r\n      newHours: [],\r\n      weekIsWorking: [true, true, true, true, true, true, true]\r\n    };\r\n\r\n    // Schema for yup\r\n    // this.yupValidationSchema = Yup.object().shape({\r\n    //   services: Yup.string()\r\n    //     .required(\"Service is required\")\r\n    //   // .nullable()\r\n    // });\r\n\r\n    this.triggerWorkerDisplay = this.triggerWorkerDisplay.bind(this);\r\n  }\r\n\r\n  // redirect to the store display page and pass the new store data\r\n  triggerWorkerDisplay(returnedWorker) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + '/workers/' + this.props.match.params.worker_id,\r\n      state: {\r\n        worker: returnedWorker\r\n      }\r\n    })\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  handleSelectChange = (event) => {\r\n    var days = ['formHoursMonday', 'formHoursTuesday', 'formHoursWednesday', 'formHoursThursday', 'formHoursFriday', 'formHoursSaturday', 'formHoursSunday']\r\n    var day = days.indexOf(event.target.id)\r\n    var updateNewHours = this.state.newHours\r\n    var old_start_time = 0\r\n    var old_end_time = 0\r\n    var newWorkerHours = []\r\n    if (this.state.newHours[day]) {\r\n      old_start_time = this.state.newHours[day].start_time\r\n      old_end_time = this.state.newHours[day].end_time\r\n    } else {\r\n      old_start_time = this.state.workerHours[day].start_time\r\n      old_end_time = this.state.workerHours[day].end_time\r\n    }\r\n\r\n    if (parseInt(event.target.querySelector('option').value) <= 840) {\r\n      updateNewHours[day] = { start_time: parseInt(event.target.value), end_time: old_end_time }\r\n      newWorkerHours = [\r\n        ...this.state.workerHours.slice(0, day),\r\n        { start_time: parseInt(event.target.value), end_time: old_end_time },\r\n        ...this.state.workerHours.slice(day + 1)\r\n      ]\r\n    } else {\r\n      updateNewHours[day] = { start_time: old_start_time, end_time: parseInt(event.target.value) }\r\n      newWorkerHours = [\r\n        ...this.state.workerHours.slice(0, day),\r\n        { start_time: old_start_time, end_time: parseInt(event.target.value) },\r\n        ...this.state.workerHours.slice(day + 1)\r\n      ]\r\n    }\r\n\r\n    this.setState({\r\n      newHours: updateNewHours,\r\n      workerHours: newWorkerHours\r\n    })\r\n  };\r\n\r\n  handleDayStatusChange = (day) => {\r\n    var updateWeekIsWorking = [\r\n      ...this.state.weekIsWorking.slice(0, day),\r\n      !this.state.weekIsWorking[day],\r\n      ...this.state.weekIsWorking.slice(day + 1)\r\n    ]\r\n\r\n    this.setState({\r\n      weekIsWorking: updateWeekIsWorking\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    if(this.props.location.state && this.props.location.state.worker){\r\n      this.setState({\r\n        worker: this.props.location.state.worker\r\n      })\r\n    }\r\n    else{\r\n      // first we fetch the service itself\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers/' + this.props.match.params.worker_id, {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if(data){\r\n          this.setState({\r\n            worker: data\r\n          })\r\n        }\r\n      });\r\n    }\r\n\r\n    Promise.all([\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers/' + this.props.match.params.worker_id + '/hours', {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(value => value.json()),\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/storeHours\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(value => value.json())\r\n    ]).then(allResponses => {\r\n      this.setState({\r\n        storeHours: allResponses[1],\r\n        workerHours: allResponses[0],\r\n        loading: false\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const CreateStartTimesForDay = (props) => {\r\n      let items = [];\r\n      for (let i = this.state.storeHours[props.day].open_time; i <= 840; i += 60) {\r\n        items.push(<option key={i} value={i}>{this.convertMinsToHrsMins(i)}</option>);\r\n      }\r\n      return items;\r\n    }\r\n    const CreateEndTimesForDay = (props) => {\r\n      let items = [];\r\n      for (let i = 900; i <= this.state.storeHours[props.day].close_time; i += 60) {\r\n        items.push(<option key={i} value={i}>{this.convertMinsToHrsMins(i)}</option>);\r\n      }\r\n      return items;\r\n    }\r\n\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"vertical-center\">\r\n          <Col>\r\n            <GridLoader\r\n              css={override}\r\n              size={20}\r\n              color={\"#2196f3\"}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      } else {\r\n        return <Row className=\"justify-content-center\">\r\n          <Col>\r\n            <Formik\r\n              enableReinitialize\r\n              initialValues={{\r\n                services: this.state.worker.services,\r\n                id: this.state.worker.id,\r\n                store_id: this.state.worker.store_id,\r\n                user_id: this.state.worker.user_id,\r\n                created_at: this.state.worker.created_at,\r\n                first_name: this.state.worker.first_name,\r\n                last_name: this.state.worker.last_name,\r\n                newHours: this.state.newHours,\r\n                noChange: false\r\n              }}\r\n              validationSchema={this.yupValidationSchema}\r\n              onSubmit={(values) => {\r\n\r\n                let store_id = this.props.match.params.store_id\r\n                let worker_id = this.props.match.params.worker_id\r\n                let triggerWorkerDisplay = this.triggerWorkerDisplay;\r\n                values.newHours.map((day, index) => {\r\n                  if(this.state.weekIsWorking[index]){\r\n                    return day\r\n                  } else {\r\n                    return {start_time: null, end_time: null}\r\n                  }\r\n                })\r\n                // not sure if we need this, commenting it out for now\r\n                // if(JSON.stringify(values.services)==JSON.stringify(this.state.receivedServices)) {\r\n                //   values.noChange = true\r\n                // }\r\n\r\n                fetch(fetchDomain + '/stores/' + store_id + '/workers/' + worker_id, {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    'Content-type': 'application/json'\r\n                  },\r\n                  credentials: 'include',\r\n                  body: JSON.stringify(values)\r\n                })\r\n                  .then(function (response) {\r\n                    if (response.status !== 200) {\r\n                      store.dispatch(addAlert(response))\r\n                    }\r\n                    else {\r\n                      // redirect to worker page\r\n                      return response.json()\r\n                    }\r\n                  })\r\n                  .then(data => {\r\n                    if (data) {\r\n                      // this.props.updateWorker(this.state.worker, this.state.newHours, values.services)\r\n                      triggerWorkerDisplay(data)\r\n                    }\r\n                  });\r\n              }}\r\n            >\r\n              {({ values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                setFieldValue }) => (\r\n                  <Form>\r\n                    <h3>Worker Edit</h3>\r\n\r\n                    {/* Later make this work with store hours*/}\r\n                    <h4>Worker Hours</h4>\r\n\r\n                    <Form.Group controlId=\"formHoursMonday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Monday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"monday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[0]}\r\n                            onChange={() => this.handleDayStatusChange(0)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[0]} value={this.state.workerHours[0].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={0} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[0]} value={this.state.workerHours[0].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={0} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursTuesday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Tuesday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"tuesday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[1]}\r\n                            onChange={() => this.handleDayStatusChange(1)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[1]} value={this.state.workerHours[1].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={1} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[1]} value={this.state.workerHours[1].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={1} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursWednesday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Wednesday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"wednesday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[2]}\r\n                            onChange={() => this.handleDayStatusChange(2)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[2]} value={this.state.workerHours[2].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={2} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[2]} value={this.state.workerHours[2].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={2} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursThursday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Thursday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"thursday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[3]}\r\n                            onChange={() => this.handleDayStatusChange(3)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[3]} value={this.state.workerHours[3].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={3} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[3]} value={this.state.workerHours[3].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={3} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursFriday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Friday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"friday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[4]}\r\n                            onChange={() => this.handleDayStatusChange(4)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[4]} value={this.state.workerHours[4].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={4} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[4]} value={this.state.workerHours[4].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={4} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formHoursSaturday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Saturday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"saturday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[5]}\r\n                            onChange={() => this.handleDayStatusChange(5)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[5]} value={this.state.workerHours[5].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={5} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[5]} value={this.state.workerHours[5].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={5} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n\r\n                    <Form.Group controlId=\"formHoursSunday\">\r\n                      <Form.Row className=\"text-left\">\r\n                        <Col>\r\n                          <h5>Sunday</h5>\r\n                          <Form.Check\r\n                            type=\"checkbox\"\r\n                            id=\"sunday-toggle\"\r\n                            label=\"Working Today?\"\r\n                            checked={this.state.weekIsWorking[6]}\r\n                            onChange={() => this.handleDayStatusChange(6)}\r\n                          />\r\n                        </Col>\r\n                      </Form.Row>\r\n                      <Form.Row>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[6]} value={this.state.workerHours[6].start_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateStartTimesForDay day={6} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control as=\"select\" disabled={!this.state.weekIsWorking[6]} value={this.state.workerHours[6].end_time} onChange={this.handleSelectChange.bind(this)}>\r\n                            <CreateEndTimesForDay day={6} />\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Form.Row>\r\n                    </Form.Group>\r\n\r\n                    <Button onClick={handleSubmit}>Submit</Button>\r\n                  </Form>\r\n                )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <DisplayWithLoading />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(WorkerEditForm);\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport './WorkerDisplay.css'\r\nimport Calendar from '../Calendar/CalendarPage'\r\nimport WorkerEditForm from './WorkerEditForm';\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nimport { css } from '@emotion/core'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n\r\nclass WorkerDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      worker: {\r\n        id: 0,\r\n        store_id: 0,\r\n        services: [],\r\n        user_id: 0,\r\n        created_at: \"\",\r\n        first_name: [],\r\n        last_name: \"\"\r\n      },\r\n      serviceMapping: {\r\n        0: \"Brazilian Blowout\",\r\n        1: \"Manicure\"\r\n      },\r\n      loading: true,\r\n      workerHours: [],\r\n      receivedServices: [],\r\n      selectedOption: [],\r\n      storeHours: [],\r\n      choice: 0,\r\n      daysOfWeek: [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\r\n    }\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  updateWorker = (worker, newHours, services) => {\r\n    let updateHours = this.state.workerHours.map((dayHours, index) =>{\r\n      if(newHours[index] != null) {\r\n        return newHours[index]\r\n      } else {\r\n        return dayHours\r\n      }\r\n    })\r\n    this.setState({\r\n      worker: worker,\r\n      workerHours: updateHours,\r\n      receivedServices: services\r\n    })\r\n  }\r\n\r\n  updateContent = (selectedChoice) => {\r\n    this.setState({\r\n      choice: selectedChoice\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.location && this.props.location.state && this.props.location.state.worker) {\r\n      let convertedServices = this.props.location.state.worker.services.map((service) => ({ value: service, label: this.state.serviceMapping[service] }));\r\n      Promise.all([\r\n        fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers/' + this.props.match.params.worker_id + '/hours', {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(value => value.json()),\r\n        fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/storeHours\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(value => value.json())\r\n      ]).then(allResponses => {\r\n        let receivedWorkerHours = allResponses[1].map((day) => ({ start_time: day.open_time, end_time: day.close_time }));\r\n        if (allResponses[0] && allResponses[0].length == 7) {\r\n          receivedWorkerHours = allResponses[0]\r\n        } else {\r\n          this.setState({\r\n            newHours: receivedWorkerHours\r\n          })\r\n        }\r\n        this.setState({\r\n          worker: this.props.location.state.worker,\r\n          receivedServices: this.props.location.state.worker.services,\r\n          storeHours: allResponses[1],\r\n          workerHours: receivedWorkerHours,\r\n          loading: false\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      Promise.all([\r\n        fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers/' + this.props.match.params.worker_id, {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(value => value.json()),\r\n        fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/storeHours\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(value => value.json()),\r\n        fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/workers/' + this.props.match.params.worker_id + '/hours', {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Content-type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).then(value => value.json())\r\n      ]).then(allResponses => {\r\n        let convertedServices = allResponses[0].services.map((service) => ({ value: service, label: this.state.serviceMapping[service] }));\r\n        let receivedWorkerHours = allResponses[1].map((day) => ({ start_time: day.open_time, end_time: day.close_time }));\r\n\r\n        // If worker hours are not complete, we default them to store hours. Worker hours should be complete though. \r\n        if (allResponses[2] && allResponses[2].length == 7) {\r\n          receivedWorkerHours = allResponses[2]\r\n        } else {\r\n          this.setState({\r\n            newHours: receivedWorkerHours\r\n          })\r\n        }\r\n        this.setState({\r\n          worker: allResponses[0],\r\n          receivedServices: allResponses[0].services,\r\n          selectedOption: convertedServices,\r\n          storeHours: allResponses[1],\r\n          workerHours: receivedWorkerHours,\r\n          loading: false\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const ListWorkingHours = () => {\r\n      let items = [];\r\n      for (let i = 0; i < this.state.workerHours.length; i++) {\r\n        if (this.state.workerHours[i].start_time != null) {\r\n          items.push(<Col sm=\"11\" md=\"10\" key={i}><ListGroup.Item>{this.state.daysOfWeek[i]}: {this.convertMinsToHrsMins(this.state.workerHours[i].start_time)}-{this.convertMinsToHrsMins(this.state.workerHours[i].end_time)}</ListGroup.Item></Col>);\r\n        }\r\n        else {\r\n          items.push(<Col sm=\"11\" md=\"10\" key={i}><ListGroup.Item>{this.state.daysOfWeek[i]}: Off</ListGroup.Item></Col>);\r\n        }\r\n      }\r\n      return items;\r\n    }\r\n\r\n    const RenderProfileContent = () => {\r\n      if(this.state.choice == 0) {\r\n        return <Calendar/>\r\n      } else if(this.state.choice == 1) {\r\n        return <WorkerEditForm worker={this.state.worker} receivedServices={this.state.receivedServices} selectedOption={this.state.selectedOption} storeHours={this.state.storeHours} workerHours={this.state.workerHours} updateWorker={this.updateWorker}/>\r\n      } else {\r\n        return <p>Past Appointments go here....</p>\r\n      }\r\n    }\r\n\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"vertical-center\">\r\n          <Col>\r\n            <GridLoader\r\n              css={override}\r\n              size={20}\r\n              color={\"#2196f3\"}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      } else {\r\n        {/* CITATION: https://bootsnipp.com/snippets/M48pA */}\r\n        return <Row className=\"profile\">\r\n        <Col xs=\"11\" md=\"3\">\r\n        <div className=\"profile-sidebar\">\r\n            {/* <!-- SIDEBAR USERPIC --> */}\r\n            <div className=\"profile-userpic\">\r\n              <Image src=\"https://i.redd.it/v0caqchbtn741.jpg\" className=\"img-responsive\" alt=\"\" rounded />\r\n            </div>\r\n            {/* <!-- END SIDEBAR USERPIC --> */}\r\n\r\n            {/* <!-- SIDEBAR USER TITLE --> */}\r\n            <div className=\"profile-usertitle\">\r\n              <div className=\"profile-usertitle-name\">\r\n                {this.state.worker.first_name + \" \" + this.state.worker.last_name}\r\n              </div>\r\n              <div className=\"profile-usertitle-job\">\r\n                Stylist\r\n              </div>\r\n            </div>\r\n            {/* <!-- END SIDEBAR USER TITLE --> */}\r\n\r\n            {/* <!-- SIDEBAR BUTTONS --> */}\r\n            <div className=\"profile-userbuttons\">\r\n              <button type=\"button\" className=\"btn btn-success btn-sm\">Give a Raise</button>\r\n              <button type=\"button\" className=\"btn btn-danger btn-sm\">Lay Off</button>\r\n            </div>\r\n            {/* <!-- END SIDEBAR BUTTONS --> */}\r\n\r\n            {/* WORKING HOURS */}\r\n            <ListGroup variant=\"flush\">\r\n              <Row className=\"justify-content-center mt-4\">\r\n                <h5>Working Hours</h5>\r\n                <ListWorkingHours/>\r\n              </Row>\r\n            </ListGroup>\r\n            {/* END WORKING HOURS */}\r\n\r\n            {/* <!-- SIDEBAR MENU --> */}\r\n            <div className=\"profile-usermenu\">\r\n              <Nav defaultActiveKey=\"link-0\" className=\"flex-column\" variant=\"pills\">\r\n                <Nav.Link eventKey=\"link-0\" active={this.state.choice == 0} onClick={() => this.updateContent(0)}>Calendar</Nav.Link>\r\n                <Nav.Link eventKey=\"link-1\" active={this.state.choice == 1}  onClick={() => this.updateContent(1)}>Edit Profile</Nav.Link>\r\n                <Nav.Link eventKey=\"link-2\" active={this.state.choice == 2} onClick={() => this.updateContent(2)}>Past Appointments</Nav.Link>\r\n              </Nav>\r\n            </div>\r\n            {/* <!-- END MENU --> */}\r\n\r\n          </div>\r\n        </Col>\r\n\r\n        <Col xs=\"11\" md=\"9\">\r\n        <div className=\"profile-content\">\r\n            <RenderProfileContent/>\r\n          </div>\r\n        </Col>\r\n          \r\n      </Row>\r\n      }\r\n    }\r\n    return (\r\n      <Container fluid>\r\n        {/* <Row className=\"justify-content-center\">\r\n          <Col>\r\n            <h1>{this.state.worker.first_name}</h1>\r\n            <p>{this.state.worker.last_name}</p>\r\n            <ul>\r\n                {this.state.worker.services.map((service, index) => (\r\n                  <li key={\"cat-\" + index}>{this.state.serviceMapping[service]}</li>\r\n                ))}\r\n              </ul>\r\n          </Col>\r\n        </Row> */}\r\n        <DisplayWithLoading/>\r\n        \r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WorkerDisplay;","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaDollarSign, FaHandshake, FaHourglassHalf, FaPen } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport Select from 'react-select';\r\nimport * as Yup from 'yup';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { uploadHandler } from '../s3';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass AddServiceForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '', // assuming this is a unique value for file upload\r\n      cost: '',\r\n      duration: '',\r\n      description: '',\r\n      workers: [],\r\n      category: [],\r\n      store_id: '',\r\n      categoryOptions: [\r\n        { value: 'nails', label: 'Nails' },\r\n        { value: 'hair', label: 'Hair' }\r\n      ],\r\n      workerOptions: [],\r\n      selectedOption: null,\r\n      selectedFiles: []\r\n    };\r\n\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      name: Yup.string()\r\n      .min(2, \"Name must have at least 2 characters\")\r\n      .max(100, \"Name can't be longer than 100 characters\")\r\n      .required(\"Name is required\"),\r\n      description: Yup.string()\r\n      .min(20, \"Description must have at least 20 characters\")\r\n      .required(\"Description is required\"),\r\n      cost: Yup.number()\r\n      .positive(\"Cost must be positive\")\r\n      .required(\"Cost is required\"),\r\n      duration: Yup.number()\r\n      .positive(\"Duration must be positive\")\r\n      .required(\"Duration is required\"),\r\n      workers: Yup.array()\r\n      .required(\"Worker is required\")\r\n      .nullable(),\r\n      category: Yup.array()\r\n      .required(\"Category is required\")\r\n      .nullable(),\r\n      pictureCount: Yup.number()\r\n      .required(\"Pictures are required\")\r\n      .min(1, \"Must have at least one picture\")\r\n    });\r\n\r\n    this.triggerServiceDisplay = this.triggerServiceDisplay.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // need to get store category, fetch?\r\n    fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/workers\" , {\r\n      method: \"GET\",\r\n      headers: {\r\n          'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n    .then(function(response){\r\n      if(response.status!==200){\r\n        // throw an error alert\r\n        store.dispatch(addAlert(response))\r\n      }\r\n      else{\r\n        return response.json();\r\n      }\r\n    })\r\n    .then(data => {\r\n      if(data){\r\n        let convertedWorkers = data.map((worker) => ({ value: worker.id, label: worker.first_name + \" \" + worker.last_name }));\r\n        this.setState({\r\n          workerOptions: convertedWorkers\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  // redirect to the worker display page\r\n  componentDidUpdate(prevProps, prevState)  {\r\n    if (prevProps.service !== this.props.service) {\r\n      this.props.history.push({\r\n        pathname: '/stores/' + this.props.service.store_id + '/services/' + this.props.service.id\r\n      })\r\n    }\r\n  }\r\n\r\n  // redirect to the worker display page and pass the new worker data\r\n  triggerServiceDisplay(service) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + service.store_id + '/services/' + service.id,\r\n      state: {\r\n        service: service\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  fileChangedHandler = (event, setFieldValue) => {\r\n    setFieldValue('pictureCount', event.target.files.length)\r\n    this.setState({ selectedFiles: event.target.files })\r\n  }\r\n    \r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          <Col xs={8} sm={7} md={6} lg={5}>\r\n            <Formik\r\n              enableReinitialize\r\n              initialValues={{\r\n                name: '',\r\n                cost: '',\r\n                duration: '',\r\n                description: '',\r\n                pictures: [],\r\n                workers: [],\r\n                category: [],\r\n                store_id: this.props.match.params.store_id,\r\n                pictureCount: this.state.selectedFiles.length\r\n              }}\r\n              validationSchema={this.yupValidationSchema}\r\n              onSubmit={async (values, {setSubmitting }) => {\r\n                let store_id = this.props.match.params.store_id\r\n                let selectedFiles = this.state.selectedFiles\r\n                let triggerServiceDisplay = this.triggerServiceDisplay\r\n\r\n                values.category = values.category.map(function(val){ \r\n                  return val.label; \r\n                })\r\n\r\n                values.workers = values.workers.map(function(val){ \r\n                  return val.value; \r\n                })\r\n\r\n                fetch(fetchDomain + '/stores/addService/' + store_id, {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    'Content-type': 'application/json'\r\n                  },\r\n                  credentials: 'include',\r\n                  body: JSON.stringify(values)\r\n                })\r\n                .then(function(response){\r\n                  if(response.status!==200){\r\n                    store.dispatch(addAlert(response))\r\n                  }\r\n                  else{\r\n                    return response.json();\r\n                  }\r\n                })\r\n                .then(async function(data){\r\n                  // redirect to home page signed in\r\n                  if(data){\r\n                    // upload to s3 from client to avoid burdening back end\r\n                  if(this.state.selectedFiles.length > 0){\r\n                    let prefix = 'stores/' + this.props.match.params.store_id + '/services/' + data.id + '/'\r\n                    await uploadHandler(prefix, selectedFiles)\r\n                  }\r\n                    triggerServiceDisplay(data)\r\n                  }\r\n                })\r\n\r\n                setSubmitting(false)\r\n              }}\r\n            >\r\n            {( {values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                setFieldValue}) => (\r\n              <Form className=\"formBody rounded\">\r\n                <h3>Add Service</h3>\r\n\r\n                <Form.Group controlId=\"formService\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaHandshake/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control type=\"text\" \r\n                      value={values.name} \r\n                      placeholder=\"Name of Service\" \r\n                      name=\"name\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.name && errors.name ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.name && errors.name ? (\r\n                    <div className=\"error-message\">{errors.name}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formCost\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaDollarSign/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control type=\"number\" \r\n                    value={values.cost}\r\n                    placeholder=\"Cost\" \r\n                    name=\"cost\" \r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={touched.cost && errors.cost ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.cost && errors.cost ? (\r\n                    <div className=\"error-message\">{errors.cost}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formDuration\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaHourglassHalf/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"number\"\r\n                      value={values.duration}\r\n                      placeholder=\"Duration (in min)\" \r\n                      name=\"duration\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.duration && errors.duration ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.duration && errors.duration ? (\r\n                    <div className=\"error-message\">{errors.duration}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formDescription\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                          <FaPen/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"textarea\"\r\n                      rows={3}\r\n                      value={values.description}\r\n                      placeholder=\"Description\" \r\n                      name=\"description\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.description && errors.description ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.description && errors.description ? (\r\n                    <div className=\"error-message\">{errors.description}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formWorkers\">\r\n                  <Select\r\n                    value={values.workers}\r\n                    onChange={option => setFieldValue(\"workers\", option)}\r\n                    name=\"workers\"\r\n                    options={this.state.workerOptions}\r\n                    isMulti={true}\r\n                    placeholder={\"Assigned Workers\"}\r\n                    className={touched.workers && errors.workers ? \"error\" : null}\r\n                  />\r\n                  {touched.workers && errors.workers ? (\r\n                    <div className=\"error-message\">{errors.workers}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formCategory\">\r\n                  <Select\r\n                    value={values.category}\r\n                    onChange={option => setFieldValue(\"category\", option)}\r\n                    name=\"category\"\r\n                    options={this.state.categoryOptions}\r\n                    isMulti={true}\r\n                    placeholder={\"Category\"}\r\n                    className={touched.category && errors.category ? \"error\" : null}\r\n                  />\r\n                  {touched.category && errors.category ? (\r\n                    <div className=\"error-message\">{errors.category}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formPictureCount\">\r\n                  <input \r\n                    onChange={event => this.fileChangedHandler(event, setFieldValue)}\r\n                    type=\"file\"\r\n                    multiple\r\n                    className={touched.pictureCount && errors.pictureCount ? \"error\" : null}\r\n                  />\r\n                  {touched.pictureCount && errors.pictureCount ? (\r\n                    <div className=\"error-message\">{errors.pictureCount}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Button onClick={handleSubmit}>Submit</Button>\r\n              </Form>\r\n            )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n//   service: state.serviceReducer.service,\r\n//   workerOptions: state.workerReducer.workerOptions\r\n// })\r\n\r\n// const mapDispatchToProps = dispatch => bindActionCreators({\r\n//   addService: (service, store_id) => addService(service, store_id),\r\n//   getWorkerOptions: (store_id) => getWorkerOptions(store_id)\r\n// }, dispatch)\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(AddServiceForm);\r\nexport default AddServiceForm;","// this component is ready to be reusable for WorkerDashboard.js, if we decide that it can have the same\r\n// view as this one... just need to rename to StoreserviceDashboard.js\r\n\r\nimport React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Button } from 'react-bootstrap';\r\n// import {\r\n//   addAlert\r\n// } from '../../reduxFolder/actions'\r\n// import store from '../../reduxFolder/store';\r\nimport './Services.css';\r\n// import eyelash from '../../assets/eyelash4.png';\r\n// import wedding from '../../assets/wedding.jpg';\r\n// import gel from '../../assets/gel.jpg';\r\nimport { FaEdit } from 'react-icons/fa';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nconst colors = ['#f0d1d9', '#f7e5e4', '#d6ced3'];\r\n\r\nclass ServiceDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n      services: [\r\n        // {\r\n        //   id: '0',\r\n        //   name: 'Eyelash Remove',\r\n        //   category: 'Eyelashes',\r\n        //   cost: '25',\r\n        //   duration: '20',\r\n        //   description: 'Remove your eyelashes or something like that',\r\n        //   workers: ['Tiffany', 'Yuki'],\r\n        //   // pictures: [eyelash]\r\n        // },\r\n        // {\r\n        //   id: '1',\r\n        //   name: 'Gel Manicure',\r\n        //   category: 'Nails',\r\n        //   cost: '30',\r\n        //   duration: '60',\r\n        //   description: 'Its like a regular manicure, with gel!',\r\n        //   workers: ['Tiffany', 'Yuki'],\r\n        //   // pictures: [gel]\r\n        // },\r\n        // {\r\n        //   id: '2',\r\n        //   name: 'Wedding Makeup',\r\n        //   category: 'Makeup',\r\n        //   cost: '200',\r\n        //   duration: '120',\r\n        //   description: 'Full face makeup or something for your big day',\r\n        //   workers: ['Tiffany', 'Yuki'],\r\n        //   // pictures: [wedding]\r\n        // },\r\n      ]\r\n    }\r\n  }\r\n\r\n  triggerServiceEdit(servicePassed) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + \"/services/\" + servicePassed.id + '/edit',\r\n      state: {\r\n        service: servicePassed\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerServiceDisplay(servicePassed) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + \"/services/\" + servicePassed.id,\r\n      state: {\r\n        service: servicePassed\r\n      }\r\n    })\r\n  }\r\n\r\n  triggerAddService() {\r\n    this.props.history.push({\r\n      pathname: '/stores/addService/' + this.props.match.params.store_id\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.location.state && this.props.location.state.services){\r\n      this.setState({\r\n        services: this.props.location.state.services\r\n      })\r\n    }\r\n    else{\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/services/\", {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          // store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if(data){\r\n          this.setState({\r\n            services: data\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // need to add getPictures****\r\n\r\n\r\n  render() {\r\n    let services = null;\r\n\r\n    if(this.state.services.length > 0){\r\n      services = <Col>\r\n                    <p className=\"services_title\">My Services </p>\r\n                    <Button className=\"buttons\" onClick={() => this.triggerAddService()}>Add Service</Button>\r\n                    {/* <Button className=\"buttons\" onClick={() => this.triggerServiceEditForm()}>Edit Services</Button> */}\r\n                    <div className=\"service_container\">\r\n                      {this.state.services.map((service, indx) => (\r\n                        <Col key={\"service-\" + service.id}>\r\n\r\n                          <div className=\"service_card\">\r\n\r\n                          {/* {((service.id % 2) == 0) ? (\r\n                            <div className=\"service_img\">\r\n                              <img src={service.pictures[0]} style={{height: '500px', width:'100%'}}/>\r\n                            </div>\r\n                          ) : null} */}\r\n\r\n                            <div className=\"service_text\" style={{backgroundColor: `${colors[indx % 3]}`}}>\r\n                              <div className=\"fun_style\"> </div>\r\n                              <Col>\r\n                              <div className=\"title_container\" style={{backgroundColor: `${colors[indx % 3]}`}}>\r\n                                <span className=\"service_title\" onClick={() => this.triggerServiceDisplay(service)}> {service.name} </span>\r\n                                <FaEdit className=\"edit\" size={15} onClick={() => this.triggerServiceEdit(service)}/>\r\n                              </div>\r\n                              <Row>\r\n                                <div className=\"service_subtitle\">\r\n                                  <p> Category </p>\r\n                                  <p> Cost </p>\r\n                                  <p> Duration </p>\r\n                                  <p> Associated Workers </p>\r\n                                  <p> Description </p>\r\n                                </div>\r\n                                <div className=\"subtitle_values\" >\r\n                                  <p>  {service.category}  </p>\r\n                                  <p> $ {service.cost}  </p>\r\n                                  <p>  {service.duration} Minutes  </p>\r\n                                  <p> {service.workers} </p>\r\n                                  <p> {service.description} </p>\r\n                                </div>\r\n                              </Row>\r\n                            </Col>\r\n                            </div>\r\n\r\n                            {/* {((service.id % 2) != 0) ? (\r\n                              <div className=\"service_img\">\r\n                                <img src={service.pictures[0]} style={{height: '500px', width:'100%'}}/>\r\n                              </div>\r\n                            ) : null} */}\r\n\r\n                          </div>\r\n\r\n                        </Col>\r\n                      ))}\r\n                    </div>\r\n                  </Col>\r\n    }\r\n    else{\r\n      services = <div>\r\n                  <p className=\"noResults\">No Services!</p>\r\n                  <Button onClick={() => this.triggerAddService()}>Add Service</Button>\r\n                </div>\r\n    }\r\n    return (\r\n      <Container>\r\n        {services}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ServiceDashboard;\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n// import {\r\n//   addAlert\r\n// } from '../../reduxFolder/actions'\r\n// import store from '../../reduxFolder/store';\r\nimport LargeCarousel from '../LargeCarousel';\r\nimport { getPictures } from '../s3'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass ServiceDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n      service: {\r\n        id: \"\",\r\n        name: \"\",\r\n        cost: \"\",\r\n        workers: [],\r\n        store_id: \"\",\r\n        category: \"\",\r\n        description: \"\"\r\n      },\r\n      pictures: []\r\n    }\r\n  }\r\n\r\n  async componentDidMount(): Promise<void> {\r\n    let picturesFetched = await getPictures('stores/' + this.props.match.params.store_id + '/services/' + this.props.match.params.service_id + '/')\r\n\r\n    // should remove when data is stable\r\n    if(picturesFetched.length == 0){\r\n      picturesFetched = [{ \r\n        url: \"/hair.jpg\",\r\n        key: \"/hair.jpg\"\r\n      },\r\n      {\r\n        url: \"/nails.jpg\",\r\n        key: \"/nails.jpg\"\r\n      },\r\n      {\r\n        url: \"/salon.jpg\",\r\n        key: \"/salon.jpg\"\r\n      }\r\n    ]\r\n    }\r\n\r\n    // can put this for now so we don't have to upload to s3\r\n    // let picturesFetched = [{ \r\n    //     url: \"/hair.jpg\",\r\n    //     key: \"/hair.jpg\"\r\n    //   },\r\n    //   {\r\n    //     url: \"/nails.jpg\",\r\n    //     key: \"/nails.jpg\"\r\n    //   },\r\n    //   {\r\n    //     url: \"/salon.jpg\",\r\n    //     key: \"/salon.jpg\"\r\n    //   }\r\n    // ]\r\n\r\n    if(this.props.location.state && this.props.location.state.service){\r\n      \r\n      this.setState({\r\n        service: this.props.location.state.service,\r\n        pictures: picturesFetched\r\n      })\r\n    }\r\n    else{\r\n      const response = await fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/services/' + this.props.match.params.service_id, {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n\r\n      const data = await response.json()\r\n      this.setState({\r\n        service: data,\r\n        pictures: picturesFetched\r\n      })\r\n    }\r\n\r\n    return Promise.resolve()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          <Col>\r\n            <h1>{this.state.service.name}</h1>\r\n            <p>{this.state.service.description}</p>\r\n          </Col>\r\n\r\n          <Col xs={10} sm={9} md={8} lg={7}>\r\n            <LargeCarousel className=\"carousel\" pictures={this.state.pictures}/>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ServiceDisplay;","import React from 'react';\r\nimport '../../App.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport { FaDollarSign, FaHandshake, FaHourglassHalf, FaPen } from 'react-icons/fa';\r\nimport { Formik } from 'formik';\r\nimport Select from 'react-select';\r\nimport * as Yup from 'yup';\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { getPictures, deleteHandler, uploadHandler } from '../s3'\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass ServiceEditForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      service: {\r\n        id: \"\",\r\n        name: \"\",\r\n        cost: \"\",\r\n        workers: [],\r\n        store_id: \"\",\r\n        category: \"\",\r\n        description: \"\"\r\n      },\r\n      categoryOptions: [\r\n        { value: 'nails', label: 'Nails' },\r\n        { value: 'hair', label: 'Hair' }\r\n      ],\r\n      convertedCategory: [],\r\n      workerOptions: [],\r\n      selectedOption: null,\r\n      pictures: [],\r\n      keys: [],\r\n      selectedFiles: []\r\n    };\r\n\r\n    // Schema for yup\r\n    this.yupValidationSchema = Yup.object().shape({\r\n      name: Yup.string()\r\n      .min(2, \"Name must have at least 2 characters\")\r\n      .max(100, \"Name can't be longer than 100 characters\")\r\n      .required(\"Name is required\"),\r\n      description: Yup.string()\r\n      .min(20, \"Description must have at least 20 characters\")\r\n      .required(\"Description is required\"), // will make it required soon,\r\n      cost: Yup.number()\r\n      .positive(\"Cost must be positive\")\r\n      .required(\"Cost is required\"),\r\n      duration: Yup.number()\r\n      .positive(\"Duration must be positive\")\r\n      .required(\"Duration is required\"),\r\n      workers: Yup.array()\r\n      .required(\"Worker is required\")\r\n      .nullable(),\r\n      category: Yup.array()\r\n      .required(\"Category is required\")\r\n      .nullable(),\r\n      pictureCount: Yup.number()\r\n      .required(\"Pictures are required\")\r\n      .min(1, \"Must have at least one picture\")\r\n    });\r\n\r\n    this.triggerServiceDisplay = this.triggerServiceDisplay.bind(this);\r\n  }\r\n\r\n  // redirect to the service display page and pass the new store data\r\n  triggerServiceDisplay(returnedService) {\r\n    this.props.history.push({\r\n      pathname: '/stores/' + this.props.match.params.store_id + '/services/' + this.props.match.params.service_id,\r\n      state: {\r\n        service: returnedService\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteFileChangeHandler = async (event, setFieldValue, newPictureLength) => {\r\n    if(event.target.checked){\r\n      await this.state.keys.push(event.target.id)\r\n      console.log(this.state.pictures.length, newPictureLength, this.state.keys.length)\r\n      setFieldValue('pictureCount', this.state.pictures.length + newPictureLength - this.state.keys.length)\r\n    }\r\n    else{\r\n      await this.state.keys.pop(event.target.id)\r\n      console.log(this.state.pictures.length, newPictureLength, this.state.keys.length)\r\n      setFieldValue('pictureCount', this.state.pictures.length + newPictureLength - this.state.keys.length)\r\n    }\r\n  }\r\n\r\n  fileChangedHandler = (event, setFieldValue, pictures) => {\r\n    this.setState({ selectedFiles: event.target.files })\r\n    setFieldValue('pictureCount', this.state.pictures.length + event.target.files.length - this.state.keys.length)\r\n    setFieldValue('pictures', event.target.files)\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let picturesFetched = await getPictures('stores/' + this.props.match.params.store_id + '/services/' + this.props.match.params.service_id)\r\n    console.log(picturesFetched)\r\n\r\n    if(this.props.location.state && this.props.location.state.service){\r\n      console.log(this.props.location.state.service)\r\n      let convertedCategoryData = this.props.location.state.service.category.map((str) => ({ value: str.toLowerCase(), label: str }));\r\n      // console.log(convertedCategoryData)\r\n      this.setState({\r\n        service: this.props.location.state.service,\r\n        pictures: picturesFetched,\r\n        convertedCategory: convertedCategoryData\r\n      })\r\n    }\r\n    else{\r\n      // first we fetch the service itself\r\n      fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + '/services/' + this.props.match.params.service_id, {\r\n        method: \"GET\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n      .then(function(response){\r\n        if(response.status!==200){\r\n          // throw an error alert\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else{\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        if(data){\r\n          let convertedCategoryData = data.category.map((str) => ({ value: str.toLowerCase(), label: str }));\r\n          this.setState({\r\n            service: data,\r\n            pictures: picturesFetched,\r\n            convertedCategory: convertedCategoryData\r\n          })\r\n        }\r\n      });\r\n\r\n\r\n\r\n      // // then we get the worker data to display for user\r\n      // // need to get store category, fetch?\r\n      // // refactor later to make it a get request\r\n      // // maybe have to refactor the whole table to keep track of names...?\r\n      // fetch(fetchDomain + '/stores/' + this.props.match.params.store_id + \"/workers\" , {\r\n      //   method: \"POST\",\r\n      //   headers: {\r\n      //       'Content-type': 'application/json'\r\n      //   },\r\n      //   credentials: 'include',\r\n      //   body: JSON.stringify(values)\r\n      // })\r\n      // .then(function(response){\r\n      //   console.log(response)\r\n      //   if(response.status!==200){\r\n      //     // should throw an error here\r\n      //     console.log(\"Error!\", response.status)\r\n      //     // throw new Error(response.status)\r\n      //     // window.location.href='/'\r\n      //   }\r\n      //   else{\r\n      //     return response.json();\r\n      //   }\r\n      // })\r\n      // .then(data => {\r\n      //   console.log(\"Limited store data from server:\", data)\r\n      //   let convertedWorkers = data.map((worker) => ({ value: worker.id, label: worker.first_name + \" \" + worker.last_name }));\r\n      //   this.setState({\r\n      //     workerOptions: convertedWorkers\r\n      //   })\r\n      // });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container fluid>\r\n        <Row className=\"justify-content-center\">\r\n          <Col xs={8} sm={7} md={6} lg={5}>\r\n          <Formik\r\n              enableReinitialize\r\n              initialValues={{\r\n                name: this.state.service.name,\r\n                cost: this.state.service.cost,\r\n                duration: this.state.service.duration,\r\n                description: this.state.service.description,\r\n                pictures: [],\r\n                pictureCount: this.state.pictures.length - this.state.keys.length,\r\n                workers: this.state.service.workers,\r\n                category: this.state.convertedCategory,\r\n                store_id: this.props.match.params.store_id\r\n              }}\r\n              validationSchema={this.yupValidationSchema}\r\n              onSubmit={async (values) => {\r\n                let store_id = this.props.match.params.store_id\r\n                let service_id = this.props.match.params.service_id\r\n                let triggerServiceDisplay = this.triggerServiceDisplay\r\n\r\n                values.category = values.category.map(function(val){ \r\n                  return val.label; \r\n                })\r\n\r\n                // remove files from s3\r\n                if(this.state.keys.length > 0){\r\n                  await deleteHandler(this.state.keys)\r\n                }\r\n\r\n                // upload new images to s3 from client to avoid burdening back end\r\n                if(this.state.selectedFiles.length > 0){\r\n                  let prefix = 'stores/' + this.props.match.params.store_id + '/services/' + this.props.match.params.service_id + '/'\r\n                  await uploadHandler(prefix, this.state.selectedFiles)\r\n                }\r\n\r\n                // need to figure out this...\r\n                // values.workers = values.workers.map(function(val){ \r\n                //   return val.value; \r\n                // })\r\n\r\n                fetch(fetchDomain + '/stores/' + store_id + \"/services/\" + service_id, {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                    'Content-type': 'application/json'\r\n                  },\r\n                  credentials: 'include',\r\n                  body: JSON.stringify(values)\r\n                })\r\n                .then(function(response){\r\n                  if(response.status!==200){\r\n                    store.dispatch(addAlert(response))\r\n                  }\r\n                  else{\r\n                    return response.json();\r\n                  }\r\n                })\r\n                .then(function(data){\r\n                  // redirect to home page signed in\r\n                  if(data){\r\n                    triggerServiceDisplay(data)\r\n                  }\r\n                })\r\n              }}\r\n            >\r\n            {( {values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                setFieldValue}) => (\r\n              <Form className=\"formBody rounded\">\r\n                <h3>Edit Service</h3>\r\n\r\n                <Form.Group controlId=\"formService\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaHandshake/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control type=\"text\" \r\n                      value={values.name} \r\n                      placeholder=\"Name of Service\" \r\n                      name=\"name\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.name && errors.name ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.name && errors.name ? (\r\n                    <div className=\"error-message\">{errors.name}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formCost\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaDollarSign/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control type=\"number\" \r\n                    value={values.cost}\r\n                    placeholder=\"Cost\" \r\n                    name=\"cost\" \r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    className={touched.cost && errors.cost ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.cost && errors.cost ? (\r\n                    <div className=\"error-message\">{errors.cost}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formDuration\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                            <FaHourglassHalf/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"number\"\r\n                      value={values.duration}\r\n                      placeholder=\"Duration (in min)\" \r\n                      name=\"duration\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.duration && errors.duration ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.duration && errors.duration ? (\r\n                    <div className=\"error-message\">{errors.duration}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formDescription\">\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                        <InputGroup.Text>\r\n                          <FaPen/>\r\n                        </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control \r\n                      type=\"textarea\"\r\n                      rows={3}\r\n                      value={values.description}\r\n                      placeholder=\"Description\" \r\n                      name=\"description\" \r\n                      onChange={handleChange} \r\n                      onBlur={handleBlur}\r\n                      className={touched.description && errors.description ? \"error\" : null}/>\r\n                  </InputGroup>\r\n                  {touched.description && errors.description ? (\r\n                    <div className=\"error-message\">{errors.description}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                {/* <Form.Group controlId=\"formWorkers\">\r\n                  <Select\r\n                    value={values.workers}\r\n                    onChange={option => setFieldValue(\"workers\", option)}\r\n                    name=\"workers\"\r\n                    options={this.state.workerOptions}\r\n                    isMulti={true}\r\n                    placeholder={\"Assigned Workers\"}\r\n                    className={touched.workers && errors.workers ? \"error\" : null}\r\n                  />\r\n                  {touched.workers && errors.workers ? (\r\n                    <div className=\"error-message\">{errors.workers}</div>\r\n                  ): null}\r\n                </Form.Group> */}\r\n\r\n                <Form.Group controlId=\"formCategory\">\r\n                  <Select\r\n                    value={values.category}\r\n                    onChange={option => setFieldValue(\"category\", option)}\r\n                    name=\"category\"\r\n                    options={this.state.categoryOptions}\r\n                    isMulti={true}\r\n                    placeholder={\"Category\"}\r\n                    className={touched.category && errors.category ? \"error\" : null}\r\n                  />\r\n                  {touched.category && errors.category ? (\r\n                    <div className=\"error-message\">{errors.category}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"pictureCount\">\r\n                  <Form.Label>Delete Images</Form.Label>\r\n                  {this.state.pictures.map((picture, index) => (\r\n                    <div key={\"pic-\" + index}>\r\n                      <img className=\"img-fluid\" src={picture.url} alt={\"Slide \" + index} />\r\n                      <Form.Check\r\n                        // style={{marginLeft: 30}}\r\n                        id={picture.key}\r\n                        label={picture.key.split('/').slice(-1)[0]}\r\n                        onChange={event => this.deleteFileChangeHandler(event, setFieldValue, values.pictures.length)}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"pictures\">\r\n                  <Form.Label>Add Images</Form.Label>\r\n                  <br/>\r\n                  <input \r\n                    onChange={event => this.fileChangedHandler(event, setFieldValue, values.pictures)}\r\n                    type=\"file\"\r\n                    multiple\r\n                    className={touched.pictures && errors.pictures ? \"error\" : null}\r\n                  />\r\n                  {touched.pictureCount && errors.pictureCount ? (\r\n                    <div className=\"error-message\">{errors.pictureCount}</div>\r\n                  ): null}\r\n                </Form.Group>\r\n\r\n                <Button onClick={handleSubmit}>Submit</Button>\r\n              </Form>\r\n            )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ServiceEditForm;\r\n","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Button, Card, ListGroup } from 'react-bootstrap';\r\nimport Cookies from 'js-cookie';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport { css } from '@emotion/core'\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass AppointmentDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      appointment: [],\r\n      start_time: 0,\r\n      user_id: 0,\r\n      end_time: 0,\r\n      store_name: '',\r\n      cost: 0,\r\n      service_names: [],\r\n      workers: [],\r\n      loading: true\r\n    }\r\n  }\r\n\r\n  deleteAppointment = () => {\r\n    fetch(fetchDomain + '/appointments/delete/' + this.props.match.params.group_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n      .then(function (response) {\r\n        if (response.status !== 200) {\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else {\r\n          return response.json()\r\n        }\r\n      })\r\n      .then(data => {\r\n        store.dispatch(addAlert('Deleted Appointment'))\r\n        this.props.history.push({\r\n          pathname: '/'\r\n        })\r\n      });\r\n  }\r\n\r\n  triggerAppointmentCancel = () => {\r\n    confirmAlert({\r\n      title: 'Are you sure?',\r\n      message: 'You will be charged a cancellation fee by this store.',\r\n      buttons: [\r\n        {\r\n          label: 'Yes',\r\n          onClick: () => this.deleteAppointment()\r\n        },\r\n        {\r\n          label: 'No'\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Refactor to optimize if we were passed the appointment data from calling component\r\n    // if (this.props.location && this.props.location.state && this.props.location.state.appointment) {\r\n    //   this.setState({\r\n    //     appointment: this.props.location.state.appointment,\r\n    //     user_id: this.props.location.state.user_id,\r\n    //     start_time: this.props.location.state.start_time,\r\n    //     end_time: this.props.location.state.end_time,\r\n    //     store_name: this.props.location.state.store_name,\r\n    //     cost: this.props.location.state.cost,\r\n    //     workers: this.props.location.state.workers,\r\n    //     loading: false\r\n    //   })\r\n    // }\r\n    // else {\r\n      // retrieve the appointment data from the database\r\n      fetch(fetchDomain + '/appointments/display/' + this.props.match.params.group_id, {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n        .then(function (response) {\r\n          if (response.status !== 200) {\r\n            // throw an error alert\r\n            store.dispatch(addAlert(response))\r\n          }\r\n          else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(data => {\r\n          if (data) {\r\n            this.setState({\r\n              appointment: data.appointment,\r\n              user_id: data.user_id,\r\n              start_time: data.start_time,\r\n              end_time: data.end_time,\r\n              store_name: data.store_name,\r\n              cost: data.cost,\r\n              service_names: data.service_names,\r\n              workers: data.workers,\r\n              loading: false\r\n            })\r\n          }\r\n        });\r\n    // }\r\n  }\r\n\r\n  render() {\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"vertical-center\">\r\n          <Col>\r\n            <GridLoader\r\n              css={override}\r\n              size={20}\r\n              color={\"#2196f3\"}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      } else {\r\n        let cancelButton;\r\n        if (Cookies.get('user') && this.state.user_id == JSON.parse(Cookies.get('user').substring(2)).id) {\r\n          cancelButton = <Button variant=\"danger\" className=\"float-left\" onClick={() => this.triggerAppointmentCancel()}>Cancel Appointment</Button>\r\n        }\r\n        return <Row className=\"justify-content-md-center\">\r\n          <Col lg={5}>\r\n            <Card className=\"mt-5\">\r\n              <Card.Header as=\"h5\">Your Appointment at: {this.state.store_name}</Card.Header>\r\n              <Card.Body>\r\n                <Card.Text as=\"div\">\r\n                  <ListGroup as=\"div\" variant=\"flush\">\r\n                    <ListGroup.Item>Appointment Start Time: {this.convertMinsToHrsMins(this.state.start_time)}</ListGroup.Item>\r\n                    <ListGroup.Item>Appointment End Time: {this.convertMinsToHrsMins(this.state.end_time)}</ListGroup.Item>\r\n                    <ListGroup.Item>Services: {this.state.service_names.toString()}</ListGroup.Item>\r\n                    <ListGroup.Item>Total Cost: {this.state.cost}</ListGroup.Item>\r\n                    <ListGroup.Item>Scheduled Technicians: {this.state.workers.toString()}</ListGroup.Item>\r\n                  </ListGroup>\r\n                </Card.Text>\r\n                {cancelButton}\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <DisplayWithLoading />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AppointmentDisplay);","import React from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Button, Card, ListGroup, Image } from 'react-bootstrap';\r\nimport Cookies from 'js-cookie';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  addAlert\r\n} from '../../reduxFolder/actions/alert'\r\nimport store from '../../reduxFolder/store';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport { css } from '@emotion/core'\r\nimport GridLoader from 'react-spinners/GridLoader'\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nclass AppointmentDisplay extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      appointment: [],\r\n      start_time: 0,\r\n      user_id: 0,\r\n      end_time: 0,\r\n      store_name_mappings: [],\r\n      store_ids: [],\r\n      cost: 0,\r\n      service_name_mappings: [],\r\n      grouped_service_ids: [],\r\n      workers: [],\r\n      loading: true\r\n    }\r\n  }\r\n\r\n  deleteAppointment = () => {\r\n    fetch(fetchDomain + '/appointments/delete/' + this.props.match.params.group_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      credentials: 'include'\r\n    })\r\n      .then(function (response) {\r\n        if (response.status !== 200) {\r\n          store.dispatch(addAlert(response))\r\n        }\r\n        else {\r\n          return response.json()\r\n        }\r\n      })\r\n      .then(data => {\r\n        store.dispatch(addAlert('Deleted Appointment'))\r\n        this.props.history.push({\r\n          pathname: '/'\r\n        })\r\n      });\r\n  }\r\n\r\n  triggerAppointmentCancel = () => {\r\n    confirmAlert({\r\n      title: 'Are you sure?',\r\n      message: 'You will be charged a cancellation fee by this store.',\r\n      buttons: [\r\n        {\r\n          label: 'Yes',\r\n          onClick: () => this.deleteAppointment()\r\n        },\r\n        {\r\n          label: 'No'\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  triggerAppointmentDisplay = (group_id) => {\r\n    this.props.history.push({\r\n      pathname: '/appointments/' + group_id\r\n    })\r\n  }\r\n\r\n  convertMinsToHrsMins(mins) {\r\n    let h = Math.floor(mins / 60);\r\n    let m = mins % 60;\r\n    let am = false\r\n    if (h == 24) {\r\n      am = true\r\n      h -= 12\r\n    }\r\n    else if (h < 12) {\r\n      am = true\r\n    } else if (h != 12) {\r\n      h -= 12\r\n    }\r\n    h = h < 10 ? '0' + h : h;\r\n    if (h == 0) {\r\n      h = '12'\r\n    }\r\n    m = m < 10 ? '0' + m : m;\r\n    if (am) {\r\n      return `${h}:${m}am`;\r\n    } else {\r\n      return `${h}:${m}pm`;\r\n    }\r\n\r\n  }\r\n\r\n  formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2) \r\n        month = '0' + month;\r\n    if (day.length < 2) \r\n        day = '0' + day;\r\n\r\n    return [month, day, year].join('-');\r\n}\r\n\r\n  componentDidMount() {\r\n    // Refactor to optimize if we were passed the appointment data from calling component\r\n    // if (this.props.location && this.props.location.state && this.props.location.state.appointment) {\r\n    //   this.setState({\r\n    //     appointment: this.props.location.state.appointment,\r\n    //     user_id: this.props.location.state.user_id,\r\n    //     start_time: this.props.location.state.start_time,\r\n    //     end_time: this.props.location.state.end_time,\r\n    //     store_name: this.props.location.state.store_name,\r\n    //     cost: this.props.location.state.cost,\r\n    //     workers: this.props.location.state.workers,\r\n    //     loading: false\r\n    //   })\r\n    // }\r\n    // else {\r\n      // retrieve the appointment data from the database\r\n      fetch(fetchDomain + '/appointments/' + JSON.parse(Cookies.get('user').substring(2)).id, {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      })\r\n        .then(function (response) {\r\n          if (response.status !== 200) {\r\n            // throw an error alert\r\n            store.dispatch(addAlert(response))\r\n          }\r\n          else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(data => {\r\n          if (data) {\r\n            if(Object.keys(data).length === 0 && data.constructor === Object) {\r\n              this.setState({\r\n                loading: false,\r\n                hasAppointments: false\r\n              })\r\n            } else {\r\n              this.setState({\r\n                store_ids: data.store_ids,\r\n                store_name_mappings: data.store_name_mappings,\r\n                dates: data.dates,\r\n                start_times: data.start_times, \r\n                end_times: data.end_times,\r\n                costs: data.costs,\r\n                group_ids: data.group_ids,\r\n                service_name_mappings: data.service_name_mappings,\r\n                grouped_service_ids: data.grouped_service_ids,\r\n                loading: false,\r\n                hasAppointments: true\r\n              })\r\n            }\r\n            \r\n          }\r\n        });\r\n    // }\r\n  }\r\n\r\n  render() {\r\n    //remove these props args if not needed\r\n    const ShowServices = (props) => {\r\n      let listGroupItems = [];\r\n      for (let i = 0; i < this.state.grouped_service_ids[props.index].length; i ++) {\r\n        listGroupItems.push(<ListGroup.Item key={this.state.grouped_service_ids[props.index][i]}>{this.state.service_name_mappings.find((element) => element.id == this.state.grouped_service_ids[props.index][i]).name}</ListGroup.Item>);\r\n      }\r\n      return listGroupItems;\r\n    }\r\n\r\n    const AppointmentList = (props) => {\r\n      let cards = [];\r\n      for (let i = 0; i < this.state.group_ids.length; i ++) {\r\n        cards.push(<Card style={{cursor: 'pointer'}} key={this.state.group_ids[i]}className=\"my-5\" onClick={() => this.triggerAppointmentDisplay(this.state.group_ids[i])}>\r\n          <Card.Header as=\"h4\">{this.state.store_name_mappings.find((element) => element.id == this.state.store_ids[i]).name} on {this.formatDate(this.state.dates[i])}</Card.Header>\r\n          <Card.Body>\r\n            <Card.Text as=\"div\">\r\n              <Row>\r\n                <Col>\r\n                  {this.convertMinsToHrsMins(this.state.start_times[i])} - {this.convertMinsToHrsMins(this.state.end_times[i])} ${this.state.costs[i]}\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <h5>Services Booked for Today</h5>\r\n                  <ListGroup as=\"div\" variant=\"flush\">\r\n                    <ShowServices index={i}/>\r\n                  </ListGroup>\r\n                </Col>\r\n              </Row>\r\n            </Card.Text>\r\n          </Card.Body>\r\n        </Card>);\r\n      }\r\n      return cards;\r\n    }\r\n\r\n    const DisplayWithLoading = (props) => {\r\n      if (this.state.loading) {\r\n        return <Row className=\"vertical-center\">\r\n          <Col>\r\n            <GridLoader\r\n              css={override}\r\n              size={20}\r\n              color={\"#2196f3\"}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      } else if (this.state.hasAppointments) {\r\n        let cancelButton;\r\n        if (Cookies.get('user') && this.state.user_id == JSON.parse(Cookies.get('user').substring(2)).id) {\r\n          cancelButton = <Button variant=\"danger\" className=\"float-left\" onClick={() => this.triggerAppointmentCancel()}>Cancel Appointment</Button>\r\n        }\r\n        return <Row className=\"justify-content-md-center\">\r\n          <Col lg={5}>\r\n            <AppointmentList/>\r\n          </Col>\r\n        </Row>\r\n      } else {\r\n        return <Row className=\"justify-content-center mt-5\">\r\n        <Col xs={11} lg={8}>\r\n          <Card className=\"w-70 h-60\">\r\n          <Card.Header as=\"h4\">My Appointments</Card.Header>\r\n            <Card.Body>\r\n              <Card.Text as=\"div\">\r\n                <h5>Whoops, looks like you need to book an appointment with us first. </h5>\r\n                <Image className=\"h-100 w-100\" src=\"https://s3.amazonaws.com/thumbnails.thecrimson.com/photos/2018/11/15/001152_1334195.jpg.1500x998_q95_crop-smart_upscale.jpg\"/>\r\n              </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n        </Col>\r\n        </Row>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Container fluid>\r\n        <DisplayWithLoading />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AppointmentDisplay);","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\nimport Registration from './components/User/Registration';\r\nimport SignupForm from './components/User/SignupForm';\r\nimport MainNavbar from './components/Navbar/MainNavbar';\r\nimport Homepage from './components/Home/Homepage';\r\nimport StaticPage from './components/StaticPages/StaticPage';\r\nimport SearchDisplay from './components/Search/SearchDisplay';\r\nimport ReservationPage from './components/Reservation/ReservationPage'\r\nimport './App.css';\r\nimport StoreSignupForm from './components/Store/StoreSignupForm';\r\nimport Calendar from './components/Calendar/CalendarPage';\r\nimport StoreDisplay from './components/Store/StoreDisplay';\r\nimport StoreEditForm from './components/Store/StoreEditForm';\r\nimport redirectWithoutAuth from './components/redirectWithoutAuth';\r\nimport redirectWithAuth from './components/redirectWithAuth';\r\nimport EditProfileForm from './components/User/EditProfileForm';\r\nimport Cookies from 'js-cookie';\r\nimport Profile from './components/User/Profile';\r\nimport UserStoresDashboard from './components/Store/UserStoresDashboard';\r\nimport AddWorkerForm from './components/Worker/AddWorkerForm';\r\nimport WorkerDashboard from './components/Worker/WorkerDashboard';\r\nimport WorkerDisplay from './components/Worker/WorkerDisplay';\r\nimport WorkerEditForm from './components/Worker/WorkerEditForm';\r\nimport AddServiceForm from './components/Service/AddServiceForm';\r\nimport ServiceDashboard from './components/Service/ServiceDashboard';\r\nimport ServiceDisplay from './components/Service/ServiceDisplay';\r\nimport ServiceEditForm from './components/Service/ServiceEditForm';\r\nimport AppointmentDisplay from './components/Appointments/AppointmentDisplay';\r\nimport {\r\n  userLogout\r\n} from './reduxFolder/actions/user'\r\nimport store from './reduxFolder/store';\r\nimport UserAppointments from './components/Appointments/UserAppointments';\r\n\r\nfunction App() {\r\n  function handleLogout() {\r\n    Cookies.remove(\"token\");\r\n    Cookies.remove(\"user\"); // don't think we need any cookies anymore now that redux persists to local storage for us...\r\n    store.dispatch(userLogout())\r\n    window.location.href='/'\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <MainNavbar/>\r\n        <div className=\"App-body\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Homepage} />\r\n            <Route exact path=\"/about\" component={StaticPage} />\r\n            <Route path=\"/search\" component={SearchDisplay} />\r\n\r\n            <Route exact path=\"/login\" component={redirectWithAuth(Registration)} />\r\n            <Route exact path=\"/logout\" component={handleLogout}/>\r\n            <Route exact path=\"/signup\" component={Registration} />\r\n            <Route path=\"/users/edit/:user_id\" component={redirectWithoutAuth(EditProfileForm)}/>\r\n            <Route path=\"/users/:user_id/stores\" component={redirectWithoutAuth(UserStoresDashboard)}/>\r\n            <Route path=\"/users/:user_id/appointments\" component={redirectWithoutAuth(UserAppointments)}/>\r\n            <Route path=\"/users/:user_id\" component={redirectWithoutAuth(Profile)}/>\r\n\r\n            <Route exact path=\"/storeCalendar/:store_id\" component={redirectWithoutAuth(Calendar)} />\r\n            <Route path=\"/book/:store_id\" component={ReservationPage} />\r\n            <Route exact path=\"/store/signup\" component={redirectWithoutAuth(StoreSignupForm)} />\r\n            <Route path=\"/stores/edit/:store_id\" component={redirectWithoutAuth(StoreEditForm)}/>\r\n\r\n            <Route path=\"/stores/addService/:store_id\" component={redirectWithoutAuth(AddServiceForm)}/>\r\n            <Route path=\"/stores/:store_id/services/:service_id/edit\" component={redirectWithoutAuth(ServiceEditForm)}/>\r\n            <Route path=\"/stores/:store_id/services/:service_id\" component={ServiceDisplay}/>\r\n            <Route path=\"/stores/:store_id/services\" component={redirectWithoutAuth(ServiceDashboard)}/>\r\n\r\n            <Route path=\"/stores/addWorker/:store_id\" component={redirectWithoutAuth(AddWorkerForm)}/>\r\n            <Route path=\"/stores/:store_id/workers/:worker_id/edit\" component={redirectWithoutAuth(WorkerEditForm)}/>\r\n            <Route path=\"/stores/:store_id/workers/:worker_id\" component={WorkerDisplay}/>\r\n            <Route path=\"/stores/:store_id/workers\" component={redirectWithoutAuth(WorkerDashboard)}/>\r\n            <Route path=\"/stores/:store_id\" component={StoreDisplay}/>\r\n\r\n            <Route path=\"/appointments/:group_id\" component={redirectWithoutAuth(AppointmentDisplay)}/>\r\n\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nconst fetchDomain = process.env.NODE_ENV === 'production' ? process.env.REACT_APP_FETCH_DOMAIN_PROD : process.env.REACT_APP_FETCH_DOMAIN_DEV;\r\n\r\nexport default function redirectWithAuth(ComponentToProtect, addAlert) {\r\n  return class extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        loading: true,\r\n        redirect: false,\r\n      };\r\n    }\r\n    componentDidMount() {\r\n      fetch(fetchDomain + '/checkToken' , {\r\n        method: \"GET\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      }).then(res => {\r\n          if (res.status === 200) {\r\n            this.setState({ loading: false, redirect: true });\r\n          } else {\r\n            this.setState({ loading: false, redirect: false });\r\n          }\r\n        })\r\n    }\r\n    render() {\r\n      const { loading, redirect } = this.state;\r\n      if (loading) {\r\n        return null;\r\n      }\r\n      if (redirect) {\r\n        return <Redirect to=\"/\"/>;\r\n      }\r\n      else {\r\n        return <ComponentToProtect addAlertPassed={addAlert} {...this.props}/>;\r\n      }\r\n    }\r\n  }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux'\r\nimport store from './reduxFolder/store';\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n    <App/>\r\n</Provider>,\r\ndocument.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}