(this.webpackJsonpbloom=this.webpackJsonpbloom||[]).push([[0],{104:function(e,t,a){},138:function(e,t,a){e.exports=a.p+"static/media/abstract-painting.4f80cf3e.jpg"},244:function(e,t){},265:function(e,t,a){},266:function(e,t){t.queryString=function(e){var t=Object.entries(e).filter((function(e){return void 0!==e[1]})).map((function(e){return e.filter((function(e){return null!==e})).map(encodeURIComponent).join("=")})).join("&");return t&&"?"+t}},267:function(e,t,a){},285:function(e,t,a){e.exports=a.p+"static/media/barber.d2f9dfa8.jpg"},286:function(e,t,a){e.exports=a.p+"static/media/facials.ed0b2cb9.jpg"},287:function(e,t,a){e.exports=a.p+"static/media/hair.d4215e0f.jpg"},288:function(e,t,a){e.exports=a.p+"static/media/lipstics2.6d47408d.jpg"},289:function(e,t,a){e.exports=a.p+"static/media/massage3.55e106f9.jpg"},290:function(e,t,a){e.exports=a.p+"static/media/nails3.81962b22.jpg"},291:function(e,t,a){e.exports=a.p+"static/media/salon.140a41f2.jpg"},292:function(e,t,a){e.exports=a.p+"static/media/paint_line.bb971069.png"},305:function(e,t,a){e.exports=a.p+"static/media/salon2.5edf0e42.jpeg"},306:function(e,t,a){e.exports=a.p+"static/media/hair_salon.5e677ff9.jpg"},322:function(e,t,a){e.exports=a(429)},327:function(e,t,a){},334:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){},359:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),o=a.n(s),l=(a(327),a(52)),i=a(99),c=a(51),u=a(21),m=a(22),p=a(32),d=a(24),h=a(23),v=(a(265),a(35)),E=a(26),g=a(11),f=a(6),y=a(47),b=a(12),M=a(29),k=a(275),C=a.n(k),H=a(276),S=a.n(H),w=a(245),T=a(138),j=a.n(T),N=a(67),_=a(72);var O=a(244);function x(e){return{type:"ADD_ALERT",message:e}}var I="http://bloom-490-dev.us-east-1.elasticbeanstalk.com";var D=function(e){console.log("Google Success: ",e.accessToken)},W=function(e){console.log("Google Failure:",e.error)},R=function(e){console.log("Facebook Success:",e.accessToken)},G=function(e){e.status&&console.log("Facebook Failure")},P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",message:{}},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.id,e.target.value))}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.props.history.push({pathname:"/"})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.loginUser(this.state.email,this.state.password,"")}},{key:"render",value:function(){return r.a.createElement(v.a,{fluid:!0},r.a.createElement("img",{src:j.a,alt:"paint",style:{top:0,left:0,position:"absolute",height:"100%",width:"100%",filter:"grayscale(0.4)"}}),r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(f.a,{className:"formBody rounded container",style:{marginTop:120}},r.a.createElement("h3",null,"Login"),r.a.createElement(f.a.Group,{style:{marginTop:40,width:"65%",marginLeft:"17%"}},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(f.a.Control,{id:"email",type:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement(f.a.Group,{style:{width:"65%",marginLeft:"17%"}},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.i,null))),r.a.createElement(f.a.Control,{id:"password",type:"password",placeholder:"Password",onChange:this.handleChange}))),r.a.createElement(g.a,{xs:8,sm:8,md:8,lg:8,style:{marginLeft:"17%"}},r.a.createElement(y.a,{className:"login",type:"submit",variant:"primary",onClick:this.handleSubmit},"Login"),r.a.createElement("p",null,r.a.createElement("b",null," OR ")),r.a.createElement(C.a,{clientId:"127645252410-8tui8lsltfpdnumb5s1ha0ft6q6rl8m1.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:D,onFailure:W,cookiePolicy:"single_host_origin",render:function(e){return r.a.createElement("button",{onClick:e.onClick,style:{width:"100%",backgroundColor:"#db4a39",color:"white",paddingRight:"30px",marginBottom:"10px",height:"48px",fontSize:"14px"}}," ",r.a.createElement(w.b,{size:45,style:{paddingRight:"15px"}}),"Login with Google")}}),r.a.createElement(S.a,{appId:"877662889336104",fields:"name,email,picture",onFailure:G,xfbml:!0,cssClass:"facebookButton",icon:r.a.createElement(w.a,{size:45,style:{paddingRight:"15px"}}),callback:R}),r.a.createElement("p",null," Don't have a Bloom account yet? ",r.a.createElement(l.b,{to:"/signup",style:{color:"black"}},r.a.createElement("b",null," Sign Up. "))))))))}}]),a}(r.a.Component),B=Object(N.b)((function(e){return{user:e.userReducer.user}}),(function(e){return Object(_.b)({loginUser:function(e,t,a){return function(e,t,a){return function(a){fetch(I+"/login",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({email:e,password:t})}).then((function(e){if(a(x(e)),200===e.status)return e.json();a({type:"USER_LOGIN_FAILURE",error:e})})).then((function(e){if(e)return a({type:"USER_LOGIN_SUCCESS",user:e.user}),e}))}}(e,t)}},e)}))(P),q=(a(104),a(55)),L=a(27),F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,n.emailRegExp=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/,n.yupValidationSchema=L.c().shape({first_name:L.e().min(2,"First name must have at least 2 characters").max(100,"First name can't be longer than 100 characters").required("First name is required"),last_name:L.e().min(2,"Last name must have at least 2 characters").max(100,"Last name can't be longer than 100 characters").required("Last name is required"),email:L.e().email("Must be a valid email address").max(100,"Email must be less than 100 characters").required("Email is required"),phone:L.e().matches(n.phoneRegExp,"Phone number is not valid"),password:L.e().min(6,"Password must have at least 6 characters").max(100,"Password can't be longer than 100 characters").required("Password required"),password_confirmation:L.e().oneOf([L.d("password")],"Passwords do not match").required("Password Confirmation required")}),n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{fluid:!0},r.a.createElement("img",{src:j.a,alt:"paint",style:{top:0,left:0,position:"absolute",height:"100%",width:"100%",filter:"grayscale(0.4)"}}),r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{initialValues:{first_name:"",last_name:"",email:"",role:"0",phone:"",password:"",password_confirmation:""},validationSchema:this.yupValidationSchema,onSubmit:function(t){e.props.signUpUser(t)}},(function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,o=e.handleBlur,i=e.handleSubmit;return r.a.createElement(f.a,{className:"formBody rounded",style:{marginTop:120}},r.a.createElement("h3",{style:{marginBottom:40}},"Sign Up"),r.a.createElement(f.a.Group,{controlId:"formFirstName",className:"form"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(f.a.Control,{type:"text",name:"first_name",value:t.first_name,placeholder:"First Name",onChange:s,onBlur:o,className:n.first_name&&a.first_name?"error":null})),n.first_name&&a.first_name?r.a.createElement("div",{className:"error-message"},a.first_name):null),r.a.createElement(f.a.Group,{controlId:"formLastName",className:"form"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(f.a.Control,{type:"text",value:t.last_name,placeholder:"Last Name",name:"last_name",onChange:s,onBlur:o,className:n.last_name&&a.last_name?"error":null})),n.last_name&&a.last_name?r.a.createElement("div",{className:"error-message"},a.last_name):null),r.a.createElement(f.a.Group,{controlId:"formPhone",className:"form"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(f.a.Control,{type:"text",value:t.phone,placeholder:"Phone Number",name:"phone",onChange:s,onBlur:o,className:n.phone&&a.phone?"error":null})),n.phone&&a.phone?r.a.createElement("div",{className:"error-message"},a.phone):null),r.a.createElement(f.a.Group,{controlId:"formEmail",className:"form"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(f.a.Control,{type:"email",value:t.email,placeholder:"Email",name:"email",onChange:s,onBlur:o,className:n.email&&a.email?"error":null})),n.email&&a.email?r.a.createElement("div",{className:"error-message"},a.email):null),r.a.createElement(f.a.Group,{controlId:"formPassword",className:"form"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.j,null))),r.a.createElement(f.a.Control,{type:"password",value:t.password,placeholder:"Password",name:"password",onChange:s,onBlur:o,className:n.password&&a.password?"error":null})),n.password&&a.password?r.a.createElement("div",{className:"error-message"},a.password):null),r.a.createElement(f.a.Group,{controlId:"formPasswordConfirmation",className:"form"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.i,null))),r.a.createElement(f.a.Control,{type:"password",value:t.password_confirmation,placeholder:"Confirm Password",name:"password_confirmation",onChange:s,onBlur:o,className:n.password_confirmation&&a.password_confirmation?"error":null})),n.password_confirmation&&a.password_confirmation?r.a.createElement("div",{className:"error-message"},a.password_confirmation):null),r.a.createElement(y.a,{className:"signup",onClick:i},"Sign Up"),r.a.createElement("p",null," Already have a Bloom account? ",r.a.createElement(l.b,{to:"/login",style:{color:"black"}},r.a.createElement("b",null," Login. "))))})))))}}]),a}(r.a.Component),A=Object(N.b)(null,(function(e){return Object(_.b)({signUpUser:function(e){return function(e){return function(t){fetch(I+"/signUp",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){t(x(e)),200!==e.status?t(Object(O.failure)(e)):window.location.href="/"}))}}(e)}},e)}))(F),z=a(175),V=a(484),U=a(486),J=(a(334),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){var e=null,t=null;return null==this.props.user||0===Object.keys(this.props.user).length&&this.props.user.constructor===Object?(console.log(this.props.user),e=r.a.createElement(z.a,{className:"left"},r.a.createElement(l.b,{to:"/login",className:"nav-link"},"Login"),r.a.createElement(l.b,{to:"/signup",className:"nav-link"},"Signup"))):(console.log(this.props.user),t="0"!=this.props.user.role?r.a.createElement(V.a,{title:"Manage Stores",id:"basic-nav-dropdown"},r.a.createElement(V.a.Item,{href:"/users/"+this.props.user.id+"/stores"},"Dashboard"),r.a.createElement(V.a.Item,{href:"/storeCalendar"},"Calendar"),r.a.createElement(V.a.Divider,null),r.a.createElement(V.a.Item,{href:"/store/signup"},"Create Store")):r.a.createElement(l.b,{to:"/store/signup",className:"nav-link"},"Create Store"),e=r.a.createElement(z.a,null,t,r.a.createElement(V.a,{title:"Profile",id:"basic-nav-dropdown"},r.a.createElement(V.a.Item,{href:"/users/"+this.props.user.id},"View"),r.a.createElement(V.a.Item,{href:"/users/edit/"+this.props.user.id},"Edit")),r.a.createElement(l.b,{to:"/logout",className:"nav-link"},"Logout"))),r.a.createElement(U.a,{collapseOnSelect:!0,expand:"sm",bg:"light",variant:"light",fixed:"top"},r.a.createElement(l.b,{to:"/",className:"navbar-brand",style:{fontFamily:"Megrim, cursive",fontSize:"35px"}},"Bloom"),r.a.createElement(U.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(U.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(z.a,{className:"left",style:{marginRight:"120px"}},r.a.createElement(l.b,{to:"/help",className:"nav-link"},"Help"),r.a.createElement(l.b,{to:"/about",className:"nav-link"},"About")),e))}}]),a}(r.a.Component)),Z=Object(N.b)((function(e){return{user:e.userReducer.user}}))(J),$=a(229),K=(a(336),{user:{},error:{}});var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_FAILURE":return Object.assign({},e,{error:t.error});case"USER_LOGIN_SUCCESS":case"EDIT_USER_SUCCESS":return Object.assign({},e,{user:t.user});case"USER_LOGOUT":return Object.assign({},e,{user:{}});default:return e}},X={alert:{}};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return Object.assign({},e,{alert:t.message});case"REMOVE_ALERT":return Object.assign({},e,{alert:{}});default:return e}},ee=Object(_.c)({userReducer:Y,alertReducer:Q}),te=a(284);var ae=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),ne=Object(_.d)(ee,ae,Object(_.a)(te.a));ne.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(ne.getState())}));var re=ne,se=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={address:"",distance:1,nails:!1,hair:!1,redirect:!1},a.autocomplete=null,a.redirect=!1,a.handlePlaceSelect=a.handlePlaceSelect.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=window.google;this.autocomplete=new e.maps.places.Autocomplete(document.getElementById("autocomplete"),{}),this.autocomplete.addListener("place_changed",this.handlePlaceSelect)}},{key:"handlePlaceSelect",value:function(){var e=this.autocomplete.getPlace().address_components.map((function(e){return e.long_name})).join(", ");this.setState({address:e})}},{key:"handleChange",value:function(e){"checkbox"===e.target.type?this.setState(Object(c.a)({},e.target.id,!this.state[e.target.id])):this.setState(Object(c.a)({},e.target.id,parseInt(e.target.value)||e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=(0,a(266).queryString)(this.state),r="http://bloom-490-dev.us-east-1.elasticbeanstalk.com";console.log("environment is: ","production"),console.log("fetch prod is: ","http://bloom-490-dev.us-east-1.elasticbeanstalk.com"),console.log("fetch dev is: ","http://localhost:8081"),console.log("fetch domain is: ",r),fetch(r+"/stores"+n,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(e){if(e){var a=t.state;a.stores=e,a.redirect=!0,a.center={lat:"34.277639",lng:"-118.3741806"},t.props.history.push({pathname:"/search",search:n,state:a})}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"book_window"},r.a.createElement(f.a,{className:"formBody rounded",onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Book Now"),r.a.createElement(f.a.Group,{controlId:"autocomplete"},r.a.createElement(E.a,null,r.a.createElement(f.a.Label,null,"Address"),r.a.createElement(f.a.Control,{type:"text",placeholder:"Try 'New Haven, CT'",autoComplete:"new-password"}))),r.a.createElement(f.a.Group,null,r.a.createElement(E.a,null,r.a.createElement(f.a.Label,null,"Distance"),r.a.createElement(f.a.Control,{as:"select",id:"distance",onChange:this.handleChange},r.a.createElement("option",null,"1 mile"),r.a.createElement("option",null,"5 miles"),r.a.createElement("option",null,"10 miles"),r.a.createElement("option",null,"25 miles"),r.a.createElement("option",null,"50 miles")))),r.a.createElement(f.a.Group,{controlId:"category"},r.a.createElement(E.a,null,r.a.createElement(f.a.Label,null,"Category"),r.a.createElement(f.a.Check,{style:{marginLeft:30},id:"nails",label:"Nails",onChange:this.handleChange}),r.a.createElement(f.a.Check,{style:{marginLeft:10},id:"hair",label:"Hair",onChange:this.handleChange}))),r.a.createElement(y.a,{style:{backgroundColor:"#8CAFCB",border:"0px"},type:"submit"},"Submit")))}}]),n}(r.a.Component),oe=Object(i.g)(se),le=(a(267),a(285)),ie=a.n(le),ce=a(286),ue=a.n(ce),me=a(287),pe=a.n(me),de=a(288),he=a.n(de),ve=a(289),Ee=a.n(ve),ge=a(290),fe=a.n(ge),ye=a(291),be=a.n(ye),Me=a(292),ke=a.n(Me),Ce=a(220),He=a.n(Ce),Se=a(293),we=a.n(Se),Te=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"image_container",style:this.props.style},r.a.createElement("img",{src:this.props.img,alt:"paint",className:"images"}),r.a.createElement("p",{className:"text"}," ",this.props.text," "))}}]),a}(r.a.Component);function je(e){e.listen;return(0,e.children)(function(){var e=Object(n.useState)({xys:[0,0,1]}),t=Object($.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){var e,t,a=!0;return a&&(e=function(e){return r({xys:(t=e.clientX,a=e.clientY,[-(a-window.innerHeight/2)/20,(t-window.innerWidth/2)/80,1.04])});var t,a},t=function(e){return r({xys:[0,0,1]})},window.addEventListener("mousemove",e)),function(){a=!1,window.removeEventListener("mousemove",t)}}),[]);var s=Object(n.useState)(window.innerWidth),o=Object($.a)(s,2),l=(o[0],o[1]);return Object(n.useEffect)((function(){var e,t=!0;return t&&(e=function(){l(window.innerWidth)},window.addEventListener("resize",e)),function(){t=!1,window.removeEventListener("resize",e)}})),a}())}var Ne=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={Visible:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(je,null,(function(e){return r.a.createElement("img",{src:j.a,alt:"paint",style:{top:0,left:0,position:"absolute",height:"700px",width:"100%",transform:"perspective(600px) rotateX(".concat(e.xys[0]/10,"deg) rotateY(").concat(e.xys[1]/10,"deg) scale(").concat(e.xys[2],")")}})}))),r.a.createElement("div",{className:"search"},r.a.createElement(E.a,null,r.a.createElement(oe,null),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("p",{className:"welcome"}," Welcome to "),r.a.createElement("p",{className:"bloom"}," Bloom ")),r.a.createElement("p",{className:"subtitle"}," A platform that helps you find salons, beauty experts and stylists that are located near your house and will soon become your favorite salons. ETC ETC We can change that later. ")))),r.a.createElement("div",{style:{position:"absolute",height:"1000px",marginTop:"80px",alignItem:"center"}},r.a.createElement("div",{className:"type_container"},r.a.createElement(we.a,{onChange:function(t){e.setState({Visible:t})},active:!this.state.Visible},r.a.createElement("p",{style:{fontSize:25,fontFamily:"Bellota, cursive",fontWeight:"bold"}}," At Bloom ")),r.a.createElement("div",null,this.state.Visible?r.a.createElement(He.a,{className:"typist",avgTypingDelay:100,startDelay:10,cursor:{show:!0,blink:!0,element:"|"}},"You can find hair salons.",r.a.createElement(He.a.Backspace,{count:12,delay:200}),r.a.createElement("span",null," nail salons."),r.a.createElement(He.a.Backspace,{count:12,delay:200}),r.a.createElement("span",null," beauty salons and more.")):null)),r.a.createElement("div",{className:"cards"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(Te,{style:{marginLeft:-105},img:pe.a,text:"Hair Salons"}),r.a.createElement(Te,{img:he.a,text:"Makeup Artists"}),r.a.createElement(Te,{img:ie.a,text:"Barber Shops"})),r.a.createElement(E.a,null,r.a.createElement(Te,{style:{marginLeft:-105},img:fe.a,text:"Nail Salons"}),r.a.createElement(Te,{img:ue.a,text:"Facials"}),r.a.createElement(Te,{img:Ee.a,text:"Spa"}))))),r.a.createElement("div",{className:"salon_container",style:{width:"1500px",height:"800px",marginLeft:-200,marginTop:"1400px",backgroundColor:"#bdcddb"}},r.a.createElement(E.a,null,r.a.createElement("img",{src:ke.a,className:"paint_line",alt:"paint"}),r.a.createElement(g.a,{className:"salon_text"},r.a.createElement("p",{className:"header"}," Are you a salon owner? "),r.a.createElement("p",{style:{fontSize:20}}," Join our community by signing up your salon today! Join our community by signing up your salon today. Join our community by signing up your salon today. Join our community by signing up your salon today. Join our community by signing up your salon today. ")),r.a.createElement("img",{src:be.a,className:"salon",alt:"paint"}))))}}]),a}(r.a.Component),_e=(a(337),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"backStuff"},r.a.createElement("br",null),r.a.createElement("div",{className:"body justify-content-center"},r.a.createElement("h1",null,"Help/About"),r.a.createElement("div",null,r.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum"))))}}]),a}(r.a.Component)),Oe=a(34),xe=a.n(Oe),Ie=a(41),De=a(135),We=(a(339),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(De.a,{style:this.props.style,interval:""},this.props.pictures.map((function(t,a){return r.a.createElement(De.a.Item,{key:"pic-"+a},r.a.createElement("img",{style:e.props.img,src:t.url,alt:"Slide "+a}))})))}}]),a}(r.a.Component)),Re=a(62),Ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={pictures:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Ie.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({pictures:[{url:"/hair.jpg",key:"/hair.jpg"},{url:"/nails.jpg",key:"/nails.jpg"},{url:"/salon.jpg",key:"/salon.jpg"}]});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n=this;return e=this.props.carousel?r.a.createElement(We,{img:{marginLeft:20,height:390,width:380},style:{width:380,height:400,zIndex:1},pictures:this.state.pictures}):r.a.createElement("img",{src:this.state.pictures[0],alt:"1"}),this.props.omitBookOption||(t=r.a.createElement(y.a,{style:{marginTop:170,backgroundColor:"#8CAFCA",border:0},onClick:function(){return n.props.onClickFunctionBook(n.props.store.id)}},"Book Now")),this.props.store&&(a=r.a.createElement("div",null,r.a.createElement(Re.a.Title,{onClick:function(){return n.props.onClickFunctionStore(n.props.store.id)},style:{cursor:"pointer",marginTop:30}},this.props.store.name),r.a.createElement(Re.a.Text,{style:{marginTop:30}},this.props.store.description))),r.a.createElement(Re.a,{style:this.props.styleVal},r.a.createElement(E.a,null,e,r.a.createElement(Re.a.Body,{style:{flexWrap:"wrap",width:"20%"}},a,t)))}}]),a}(r.a.Component),Pe=(a(340),a(221)),Be=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onMarkerClick=function(e,t,a){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,activeMarkerIndex:t.id})},n.onClose=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},activeMarkerIndex:-1},n.onMarkerClick=n.onMarkerClick.bind(Object(p.a)(n)),n.onClose=n.onClose.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"displayMarkers",value:function(){var e=this;return this.props.stores.map((function(t,a){return r.a.createElement(Pe.Marker,{key:"store-"+a,id:a,position:{lat:t.lat,lng:t.lng},onClick:e.onMarkerClick,name:t.name})}))}},{key:"onClickFunction",value:function(e){console.log("Here1")}},{key:"componentDidUpdate",value:function(e,t){this.props}},{key:"render",value:function(){return r.a.createElement(Pe.Map,{google:this.props.google,zoom:this.props.zoom,style:this.props.mapStyles,initialCenter:this.props.center},this.displayMarkers(),r.a.createElement(Pe.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement(Ge,{store:this.props.stores[this.state.activeMarkerIndex],styleVal:{width:"10rem",height:"10rem"},onClickFunction:this.onClickFunction})))}}]),a}(n.Component),qe=a(172),Le=a(200),Fe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a,r;return Object(u.a)(this,n),(r=t.call(this,e)).state=(a={stores:[],center:{lat:0,lng:0},zoom:12,mapStyles:{width:"100%",height:"100%"}},Object(c.a)(a,"center",{lat:"",lng:""}),Object(c.a)(a,"category",["Nail Salon","Hair Salon","Facials","Barbershops"]),Object(c.a)(a,"selected",[]),Object(c.a)(a,"address",""),Object(c.a)(a,"distance",1),Object(c.a)(a,"nails",!1),Object(c.a)(a,"hair",!1),Object(c.a)(a,"facials",!1),Object(c.a)(a,"barber",!1),a),r.autocomplete=null,r.handlePlaceSelect=r.handlePlaceSelect.bind(Object(p.a)(r)),r.onSelect=r.onSelect.bind(Object(p.a)(r)),r.onRemove=r.onRemove.bind(Object(p.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(p.a)(r)),r.handleChange=r.handleChange.bind(Object(p.a)(r)),r}return Object(m.a)(n,[{key:"onSelect",value:function(e,t){console.log(this.state.selected),this.setState({selected:e}),"Nail Salon"==t?this.setState({nails:!0}):"Hair Salon"==t?this.setState({hair:!0}):"Facials"==t?this.setState({facials:!0}):this.setState({barber:!0})}},{key:"onRemove",value:function(e,t){console.log(this.state.selected),this.setState({selected:e}),"Nail Salon"==t?this.setState({nails:!1}):"Hair Salon"==t?this.setState({hair:!1}):"Facials"==t?this.setState({facials:!1}):this.setState({barber:!1})}},{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.id,parseInt(e.target.value)||e.target.value))}},{key:"componentDidMount",value:function(){var e=window.google;if(this.autocomplete=new e.maps.places.Autocomplete(document.getElementById("autocomplete"),{}),this.autocomplete.addListener("place_changed",this.handlePlaceSelect),this.props.location.state&&this.props.location.state.stores&&this.props.location.state.center)this.setState({stores:this.props.location.state.stores,center:this.props.location.state.center});else{var t=window.location.href.split("search"),a="";t.length>1&&(a=t[1]),this.getResults(a)}}},{key:"handlePlaceSelect",value:function(){var e=this.autocomplete.getPlace().address_components.map((function(e){return e.long_name})).join(", ");this.setState({address:e})}},{key:"handleSubmit",value:function(){var e,t=(0,a(266).queryString)({address:(e=this.state).address,distance:e.distance,nails:e.nails,hair:e.hair});this.getResults(t)}},{key:"getResults",value:function(e){var t=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores"+e,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();console.log("ERROR!")})).then((function(e){e&&t.setState({stores:e,center:{lat:e[0].lat,lng:e[0].lng}})}))}},{key:"render",value:function(){var e=this.state.category,t=null,a=null;return this.state.stores.length>0?(t=this.state.stores.map((function(e){return r.a.createElement(E.a,{key:"store-"+e.id,style:{width:"100%",height:400,marginBottom:10}},r.a.createElement(Ge,{store:e,carousel:!0,styleVal:{width:"100%",height:"100%"},onClickFunctionBook:function(){return window.location.href="/book/"+e.id},onClickFunctionStore:function(){return window.location.href="/stores/"+e.id}}))})),a=r.a.createElement(g.a,{style:{position:"fixed",width:"50%",height:"100%",right:0,marginTop:-10}},r.a.createElement(Be,{google:window.google,stores:this.state.stores,center:this.state.center,zoom:this.state.zoom,mapStyles:this.state.mapStyles}))):t=r.a.createElement("h1",null,"No Results!"),r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,null,r.a.createElement("div",{style:{position:"fixed",marginTop:0,zIndex:5,backgroundColor:"#F0F0F0",width:"51.25%",height:230,paddingTop:40}},r.a.createElement("p",{className:"search_title"}," Search for salons... "),r.a.createElement("div",{style:{marginLeft:"15%",width:"100%",display:"flex",flexDirection:"row"}},r.a.createElement(f.a.Group,{controlId:"autocomplete"},r.a.createElement(f.a.Control,{type:"text",placeholder:"Try 'New Haven, CT'",autoComplete:"new-password",style:{width:500}})),r.a.createElement("button",{className:"btn btn-link",style:{paddingRight:"2px",paddingBottom:"20px"},onClick:this.handleSubmit,disabled:!this.state.address||0==this.state.selected.length},r.a.createElement(Le.a,null))),r.a.createElement(E.a,null,r.a.createElement(f.a.Control,{style:{marginLeft:"16.2%",width:"12%",height:40},as:"select",id:"distance",onChange:this.handleChange},r.a.createElement("option",null,"1 mile"),r.a.createElement("option",null,"5 miles"),r.a.createElement("option",null,"10 miles"),r.a.createElement("option",null,"25 miles"),r.a.createElement("option",null,"50 miles")),r.a.createElement(qe.Multiselect,{isObject:!1,options:e,onSelect:this.onSelect,onRemove:this.onRemove,placeholder:"Category",closeIcon:"cancel",style:{multiselectContainer:{marginLeft:"2%",width:"65%"},groupHeading:{width:50,maxWidth:50},chips:{background:"#587096",height:35},inputField:{color:"black"},searchBox:{minWidth:250,width:"100%",height:"30",backgroundColor:"white",borderRadius:"5px"}}}))),r.a.createElement("div",{style:{marginLeft:15,marginTop:280,position:"absolute"}},r.a.createElement("p",{style:{fontSize:16,marginLeft:"-80%"}}," ",this.state.stores.length," results found. "),t),a))}}]),n}(r.a.Component),Ae=a(39),ze=a(64),Ve=(a(356),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={categories:["Nails","Hair","Makeup","Eyelashes","Eyebrows","Facials","Skin Care"]},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=this.props.services.find((function(t){return t.name===e.target.id}));this.props.selectedServices.find((function(e){return e.name===t.name}))?this.props.updateReservation(!0,t):this.props.updateReservation(!1,t),this.setState(Object(c.a)({},e.target.id,!this.state[e.target.id]))}},{key:"render",value:function(){var e=this,t=function(t){return t.services?t.categories.map((function(a){return r.a.createElement("div",{id:a,key:a,className:"pl-4"},r.a.createElement("h4",null,a),t.services.map((function(t){if(t.category==a)return r.a.createElement("div",{key:t.name},r.a.createElement(E.a,null,r.a.createElement(g.a,{xs:"8",sm:"10"},r.a.createElement(f.a.Check,{custom:!0,type:"checkbox",id:t.name,label:t.name,checked:e.props.selectedServices.find((function(e){return e.name===t.name})),onChange:e.handleChange,className:"formCustom"})),r.a.createElement(g.a,{xs:"4",sm:"2"},r.a.createElement("h5",{className:"pt-2 text-center"},"$",t.cost.toFixed(2)))))})))})):null};return r.a.createElement(Re.a,{className:"py-3"},r.a.createElement("h3",null,"Select Services"),r.a.createElement(E.a,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement(t,{categories:this.state.categories,services:this.props.services}))),r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{md:"3"},r.a.createElement(y.a,{block:!0,onClick:this.props.handleSubmit},"Next"))))}}]),a}(r.a.Component)),Ue=(a(357),a(230)),Je=a(294),Ze=a.n(Je),$e=(a(358),a(359),a(65)),Ke=a.n($e),Ye=a(20);function Xe(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return Xe=function(){return e},e}var Qe=Object(Ye.css)(Xe()),et=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleDateChange=function(e){e.getMonth()!=n.state.startDate.getMonth()&&(n.setState({loading:!0}),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+n.props.store_id+"/appointments/month/"+(parseInt(e.getMonth())+1),{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){var a=t.map((function(e){return e.date=new Date(e.date),e}));n.setState({appointments:a,currDate:e,startDate:e,loading:!1})}))),n.setState({currDate:e})},n.handleSelectChange=function(e){n.setState({selectedTime:parseInt(e.target.value)})},n.handleSlotClick=function(e){n.props.updateAppointments(e),n.props.handleSubmit()},n.state={startDate:new Date,currDate:new Date,selectedTime:540,loading:!0,appointments:[]},n}return Object(m.a)(a,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.store_id+"/appointments/month/"+(parseInt(this.state.startDate.getMonth())+1),{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){var a=t.map((function(e){return e.date=new Date(e.date),e}));e.setState({appointments:a,loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(t){for(var a=[],n=e.props.storeHours[e.state.startDate.getDay()].open_time;n+e.props.time<=e.props.storeHours[e.state.startDate.getDay()].close_time;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},a=function(){for(var t=[],a=[],n=function(n){for(var s=n,o=!1,l=[],i=e.props.workersSchedules.filter((function(t){return t.day_of_the_week==e.state.currDate.getDay()})),c=!0,u=s,m=0,p=0,d=function(){var t=!0,a=e.props.selectedServices[p],n=i[m].worker_id;if(i[m].start_time>u||i[m].end_time<u+a.duration)t=!1;else for(var r=e.state.appointments.filter((function(t){return t.worker_id==n&&t.date.setHours(0,0,0,0)==e.state.currDate.setHours(0,0,0,0)})),s=0;s<r.length;s++)if(u>=r[s].start_time&&u<=r[s].end_time||u+a.duration>=r[s].start_time&&u+a.duration<=r[s].end_time){t=!1;break}t?(l.push({worker_id:n,service_id:a.id,start_time:u,end_time:u+a.duration,price:a.cost,date:e.state.startDate}),u+=a.duration,m=0,(p+=1)==e.props.selectedServices.length&&(o=!0)):m+1<i.length?m+=1:c=!1};c&&!o;)d();o&&(a.push(l),t.push(r.a.createElement(y.a,{className:"mt-3 mx-2",key:n,onClick:function(){return e.handleSlotClick(l)}},e.convertMinsToHrsMins(n))))},s=e.state.selectedTime;s<e.state.selectedTime+120&&s+e.props.time<=e.props.storeHours[e.state.currDate.getDay()].close_time;s+=15)n(s);return 0==t.length?r.a.createElement("h1",null,"No available appointments"):t},n=function(t){return e.state.loading?r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:Qe,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(E.a,{className:"justify-content-center text-xs-center text-sm-left pl-2"},r.a.createElement(g.a,{xs:"12",md:"11",className:"px-1"},r.a.createElement(a,null)))};return r.a.createElement(Re.a,{text:"dark",className:"mt-0 py-3"},r.a.createElement("div",{id:"date-selection-form"},r.a.createElement("h3",null,"Select Appointment Time"),r.a.createElement(Re.a.Body,{className:"pt-0"},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:"11",md:"6",className:"mt-3"},r.a.createElement("div",{className:"customDatePickerWidth"},r.a.createElement(Ze.a,{className:"form-control",selected:this.state.currDate,onChange:this.handleDateChange,minDate:new Date}))),r.a.createElement(g.a,{xs:"11",md:"6",className:"mt-3"},r.a.createElement(f.a,null,r.a.createElement(f.a.Control,{as:"select",value:this.state.selectedTime,onChange:this.handleSelectChange.bind(this)},r.a.createElement(t,{date:this.state.startDate}))))),r.a.createElement(n,null))))}}]),a}(r.a.Component),tt=(a(420),a(90)),at=a.n(tt);function nt(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return nt=function(){return e},e}var rt=Object(Ye.css)(nt()),st=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={firstName:"",lastName:"",phone:"",email:"",user_id:-1},n.triggerAppointmentDisplay=n.triggerAppointmentDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"triggerAppointmentDisplay",value:function(e){this.props.history.push({pathname:"/appointments/"+e,state:{appointmentGroupId:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){if(at.a.get("user")){var e=JSON.parse(at.a.get("user").substring(2));this.setState({firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,user_id:e.id})}}},{key:"render",value:function(){var e=this,t=function(t){return e.state.loading?r.a.createElement(Re.a,{text:"dark",className:"mt-0 py-3"},r.a.createElement(Re.a.Body,{className:"pt-0"},r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:rt,size:20,color:"#2196f3",loading:e.state.isLoading}))))):r.a.createElement(Re.a,{text:"dark",className:"mt-0 py-3",id:"date-selection-form"},r.a.createElement(Re.a.Title,null,"Book Appointment"),r.a.createElement(Re.a.Body,{className:"pt-0"},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(q.a,{initialValues:{firstName:e.state.firstName,lastName:e.state.lastName,phone:e.state.phone,email:e.state.email,user_id:e.state.user_id},onSubmit:function(t){t.appointments=e.props.appointments;var a=e.triggerAppointmentDisplay;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+e.props.store_id+"/appointments/new",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then(function(){var e=Object(Ie.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&a(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},(function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,o=e.handleBlur,l=e.handleSubmit;e.setFieldValue;return r.a.createElement(f.a,{className:"form-style"},r.a.createElement(f.a.Group,{controlId:"formFirstName"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(f.a.Control,{type:"text",name:"firstName",value:t.firstName,placeholder:"First Name",onChange:s,onBlur:o,className:n.firstName&&a.firstName?"error":null})),n.firstName&&a.firstName?r.a.createElement("div",{className:"error-message"},a.firstName):null),r.a.createElement(f.a.Group,{controlId:"formLastName"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(f.a.Control,{type:"text",name:"lastName",value:t.lastName,placeholder:"Last Name",onChange:s,onBlur:o,className:n.lastName&&a.lastName?"error":null})),n.lastName&&a.lastName?r.a.createElement("div",{className:"error-message"},a.lastName):null),r.a.createElement(f.a.Group,{controlId:"formPhone"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(f.a.Control,{type:"text",value:t.phone,placeholder:"Phone Number",name:"phone",onChange:s,onBlur:o,className:n.phone&&a.phone?"error":null})),n.phone&&a.phone?r.a.createElement("div",{className:"error-message"},a.phone):null),r.a.createElement(f.a.Group,{controlId:"formEmail"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(f.a.Control,{type:"email",value:t.email,placeholder:"Email",name:"email",onChange:s,onBlur:o,className:n.email&&a.email?"error":null})),n.email&&a.email?r.a.createElement("div",{className:"error-message"},a.email):null),r.a.createElement(y.a,{onClick:l},"Submit"))})))))};return r.a.createElement(t,null)}}]),a}(r.a.Component);function ot(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ot=function(){return e},e}var lt="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",it=Object(Ye.css)(ot()),ct=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateReservation=function(e,t){e?(n.setState({time:n.state.time-t.duration}),n.setState({total:n.state.total-t.cost}),n.setState({selectedServices:n.state.selectedServices.filter((function(e){return t.id!==e.id}))})):(n.setState({time:n.state.time+t.duration}),n.setState({total:n.state.total+t.cost}),n.setState({selectedServices:[].concat(Object(Ae.a)(n.state.selectedServices),[t])}))},n.backStep=function(e){var t=n.state.currentStep-1;n.setState({currentStep:t})},n.handleSubmit=function(){if(n.state.currentStep<4){var e=n.state.currentStep+1;n.setState({currentStep:e})}else alert(JSON.stringify(n.state))},n.updateAppointments=function(e){n.setState({appointments:e})},n.pluralize=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s",n=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s";return[1,-1].includes(Number(e))?t:a};return"object"===typeof e?function(t,a){return n(t,a,e[a])}:n(e,t,a)},n.timeConvert=function(e){var t=e/60,a=Math.floor(t),r=60*(t-a),s=Math.round(r);return a+" "+n.pluralize(a,"hour")+" and "+s+" "+n.pluralize(s,"minute")},n.prefetchSchedules=function(){Promise.all([fetch(lt+"/stores/"+n.props.match.params.store_id+"/workers/schedules",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(lt+"/stores/"+n.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(e){n.setState({storeHours:e[1],workersSchedules:e[0]})}))},n.state={storeName:null,total:0,time:0,currentStep:1,selectedServices:[],services:[],loading:!0,workers:[],workersSchedules:[],storeHours:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch(lt+"/stores/"+this.props.match.params.store_id+"/services",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(lt+"/stores/"+this.props.match.params.store_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[0],n=t[1];e.setState({services:a,storeName:n.name,workers:n.workers,loading:!1})})),this.prefetchSchedules()}},{key:"render",value:function(){var e=this,t=this,a=function(t){return e.state.loading?r.a.createElement(Re.a,{className:"fullHeight"},r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:it,size:20,color:"#2196f3",loading:e.state.loading})))):1==e.state.currentStep?r.a.createElement(Ve,{services:e.state.services,updateReservation:e.updateReservation,selectedServices:e.state.selectedServices,time:e.state.time,total:e.state.total,handleSubmit:e.handleSubmit,timeConvert:e.timeConvert,pluralize:e.pluralize}):2==e.state.currentStep?r.a.createElement(et,{time:e.state.time,store_id:e.props.match.params.store_id,selectedServices:e.state.selectedServices,storeHours:e.state.storeHours,workersSchedules:e.state.workersSchedules,handleSubmit:e.handleSubmit,updateAppointments:e.updateAppointments}):r.a.createElement(st,{appointments:e.state.appointments,store_id:e.props.match.params.store_id,history:e.props.history})},n=function(t){return 1==e.state.currentStep?null:r.a.createElement(M.a,{size:"2em",className:"pt-2 pr-2",onClick:e.backStep})};function s(e){if(e.services){var a=e.services.map((function(e){return r.a.createElement(Ue.a.Item,{variant:"light",key:e.name},r.a.createElement(E.a,null,r.a.createElement(g.a,{lg:7},r.a.createElement(E.a,null,e.name),r.a.createElement(E.a,{className:"smallText"},e.duration," ",t.pluralize(e.duration,"minute"))),r.a.createElement(g.a,{lg:5},r.a.createElement("div",{className:"float-right"},"$",e.cost.toFixed(2)))))}));return r.a.createElement(Ue.a,{variant:"flush"},a)}return null}return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{noGutters:!0,className:"pt-3 pb-0"},r.a.createElement(g.a,{xs:"1"},r.a.createElement(n,null)),r.a.createElement(g.a,{xs:"11",className:"text-left"},r.a.createElement("h2",null,"Step ",this.state.currentStep))),r.a.createElement(E.a,null,r.a.createElement(g.a,{xs:12,lg:8,className:"largeMarginBottom"},r.a.createElement(a,null)),r.a.createElement(g.a,{xs:12,lg:4,className:"d-none d-lg-block"},r.a.createElement(Re.a,{text:"dark",className:"shoppingCart mt-0"},r.a.createElement(Re.a.Header,null,"Shopping Cart"),r.a.createElement(Re.a.Body,{className:"pt-0"},r.a.createElement(E.a,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement(s,{services:this.state.selectedServices}))),r.a.createElement("h2",null,"Total: $",this.state.total.toFixed(2)),r.a.createElement("h2",null,"Time: ",this.state.time," minutes")))),r.a.createElement(g.a,{xs:12,className:"d-lg-none shoppingCartSmall px-0"},r.a.createElement(Re.a,{bg:"light",text:"dark"},r.a.createElement(Re.a.Header,{className:"py-1"},"Shopping Cart"),r.a.createElement(Re.a.Body,{className:"smallPadding"},r.a.createElement("h6",null,this.state.selectedServices.length," Selected ",this.pluralize(this.state.selectedServices.length,"Service")),r.a.createElement("h6",null,"Total: $",this.state.total.toFixed(2)),r.a.createElement("h6",null,"Time: ",this.timeConvert(this.state.time)))))))}}]),a}(r.a.Component),ut=a(74),mt="http://bloom-490-dev.us-east-1.elasticbeanstalk.com";function pt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(Ie.a)(xe.a.mark((function e(t){var a,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(mt+"/getImages",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({prefix:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(Ie.a)(xe.a.mark((function e(t,a){var n,r,s,o,l,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<a.length)){e.next=17;break}return r=new Date,s="_"+r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),o={fileName:t+a[n].name+s,fileType:a[n].type},e.next=7,fetch(mt+"/getPresignedUrl/",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(o)});case 7:return l=e.sent,e.next=10,l.json();case 10:return i=e.sent,e.next=13,fetch(i,{method:"PUT",headers:{"Content-type":a[n].type},body:a[n]});case 13:e.sent;case 14:n++,e.next=1;break;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(Ie.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(mt+"/deleteImages/",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({keys:t})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectChange=function(e){var t=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),a=[];a="0"==e.target.querySelector("option").value?[].concat(Object(Ae.a)(n.state.storeHours.slice(0,t)),[{open_time:parseInt(e.target.value),close_time:n.state.storeHours[t].close_time}],Object(Ae.a)(n.state.storeHours.slice(t+1))):[].concat(Object(Ae.a)(n.state.storeHours.slice(0,t)),[{open_time:n.state.storeHours[t].open_time,close_time:parseInt(e.target.value)}],Object(Ae.a)(n.state.storeHours.slice(t+1))),n.setState({storeHours:a})},n.fileChangedHandler=function(e){n.setState({selectedFiles:e.target.files})},n.state={selectedFiles:null,storeHours:[{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020}]},n.options=[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"},{value:"makeup",label:"Makeup"},{value:"eyelashes",label:"Eyelashes"},{value:"eyelash extensions",label:"Eyelash Extensions"},{value:"eyebrows",label:"Eyebrows"},{value:"facials",label:"Facials"},{value:"skincare",label:"Skin Care"},{value:"waxing",label:"Waxing"},{value:"mens",label:"Mens Services"}],n.phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,n.yupValidationSchema=L.c().shape({name:L.e().min(2,"Store name must have at least 2 characters").max(100,"Store name can't be longer than 100 characters").required("Name is required"),description:L.e().min(20,"Description must have at least 20 characters").required("Description is required"),phone:L.e().matches(n.phoneRegExp,"Phone number is not valid").required("Phone number is required"),street:L.e().min(6,"Street must have at least 6 characters").max(100,"Street can't be longer than 100 characters").required("Street is required"),city:L.e().min(2,"City must have at least 2 characters").max(40,"City can't be longer than 40 characters").required("City is required"),state:L.e().min(2,"State must have at least 2 characters").max(12,"State can't be longer than 12 characters").required("State is required"),zipcode:L.e().max(20,"Zipcode can't be longer than 100 characters").required("Zipcode is required"),category:L.a().required("Category is required").nullable()}),n.triggerStoreDisplay=n.triggerStoreDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"triggerStoreDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+e.id,state:{store:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{initialValues:{name:"",description:"",phone:"",street:"",city:"",state:"",zipcode:"",category:[],owner_id:""},validationSchema:this.yupValidationSchema,onSubmit:function(t){t.category=t.category.map((function(e){return e.label})),t.owner_id=JSON.parse(at.a.get("user").substring(2)).id,t.storeHours=e.state.storeHours;var a=e.triggerStoreDisplay;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/addStore",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then(function(){var t=Object(Ie.a)(xe.a.mark((function t(n){var r;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}if(r="stores/"+n.id+"/images/",!e.state.selectedFiles){t.next=5;break}return t.next=5,ht(r,e.state.selectedFiles);case 5:a(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(f.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Store Sign Up"),r.a.createElement(f.a.Group,{controlId:"formName"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.n,null))),r.a.createElement(f.a.Control,{type:"text",name:"name",value:a.name,placeholder:"Business Name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(f.a.Group,{controlId:"formDescription"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(f.a.Control,{as:"textarea",rows:3,name:"description",value:a.description,placeholder:"Description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(f.a.Group,{controlId:"formPhone"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(f.a.Control,{type:"text",value:a.phone,placeholder:"Phone Number",name:"phone",onChange:o,onBlur:l,className:s.phone&&n.phone?"error":null})),s.phone&&n.phone?r.a.createElement("div",{className:"error-message"},n.phone):null),r.a.createElement(f.a.Group,{controlId:"formStreet"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.m,null))),r.a.createElement(f.a.Control,{type:"text",value:a.street,placeholder:"Street",name:"street",onChange:o,onBlur:l,className:s.street&&n.street?"error":null})),s.street&&n.street?r.a.createElement("div",{className:"error-message"},n.street):null),r.a.createElement(f.a.Group,{controlId:"formCity"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.b,null))),r.a.createElement(f.a.Control,{type:"text",value:a.city,placeholder:"City",name:"city",onChange:o,onBlur:l,className:s.city&&n.city?"error":null})),s.city&&n.city?r.a.createElement("div",{className:"error-message"},n.city):null),r.a.createElement(f.a.Group,{controlId:"formState"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.o,null))),r.a.createElement(f.a.Control,{value:a.state,placeholder:"State",name:"state",onChange:o,onBlur:l,className:s.state&&n.state?"error":null})),s.state&&n.state?r.a.createElement("div",{className:"error-message"},n.state):null),r.a.createElement(f.a.Group,{controlId:"formZipcode"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.f,null))),r.a.createElement(f.a.Control,{value:a.zipcode,placeholder:"Zipcode",name:"zipcode",onChange:o,onBlur:l,className:s.zipcode&&n.zipcode?"error":null})),s.zipcode&&n.zipcode?r.a.createElement("div",{className:"error-message"},n.zipcode):null),r.a.createElement(f.a.Group,{controlId:"formCategory"},r.a.createElement(ut.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.options,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement("h4",null,"Store Hours"),r.a.createElement(f.a.Group,{controlId:"formHoursMonday"},r.a.createElement("h5",{className:"text-left"},"Monday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[0].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[0].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursTuesday"},r.a.createElement("h5",{className:"text-left"},"Tuesday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[1].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[1].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursWednesday"},r.a.createElement("h5",{className:"text-left"},"Wednesday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[2].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[2].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursThursday"},r.a.createElement("h5",{className:"text-left"},"Thursday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[3].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[3].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursFriday"},r.a.createElement("h5",{className:"text-left"},"Friday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[4].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[4].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursSaturday"},r.a.createElement("h5",{className:"text-left"},"Saturday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[5].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[5].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursSunday"},r.a.createElement("h5",{className:"text-left"},"Sunday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[6].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[6].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formPictures"},r.a.createElement("input",{onChange:e.fileChangedHandler,type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictures&&n.pictures?r.a.createElement("div",{className:"error-message"},n.pictures):null),r.a.createElement(y.a,{onClick:i},"Submit"))})))))}}]),a}(r.a.Component),yt=a(176),bt=a(137),Mt=(a(421),a(46)),kt=a(45),Ct=(a(423),a(480)),Ht=(a(485),a(489),new Date),St=function(e){return 0===e.getDay()||6===e.getDay()},wt=function(e){var t=e.startDate,a=(e.classes,Object(bt.a)(e,["startDate","classes"]));return r.a.createElement(Mt.h.DayScaleCell,Object.assign({className:St(t)?"weekend":null,startDate:t},a))},Tt=function(e){var t=e.startDate,a=(e.classes,Object(bt.a)(e,["startDate","classes"]));return r.a.createElement(Mt.h.TimeTableCell,Object.assign({className:St(t)?"weekend":null,startDate:t},a))},jt=function(e){var t=e.appointmentData,a=e.onFieldChange,n=Object(bt.a)(e,["appointmentData","onFieldChange"]);return r.a.createElement(Mt.a.BasicLayout,Object.assign({onFieldChange:a,appointmentData:t},n),r.a.createElement(Mt.a.Label,{text:"Price",type:"title"}),r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(Mt.a.TextEditor,{style:{width:"50%"},value:t.price,onValueChange:function(e){a({price:e})},placeholder:"Price"}),r.a.createElement(Mt.a.Label,{style:{marginTop:15,marginLeft:10,fontSize:20},text:"$",type:"text"})))},Nt={allDayLabel:"",repeatLabel:""},_t=function(e){Object.assign({},e);return null},Ot=function(e){var t=e.appointmentData,a=(e.visible,Object(bt.a)(e,["appointmentData","visible"]));return r.a.createElement(Mt.a.RecurrenceLayout,Object.assign({appointmentData:t,visible:!1},a))},xt=function(e){var t=e.children,a=e.style,n=Object(bt.a)(e,["children","style"]);return r.a.createElement(Mt.c.Appointment,Object.assign({},n,{style:Object(yt.a)({},a,{backgroundColor:"#597096",borderRadius:"5px"})}),t)},It=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={selectedWorkers:[],selectedServices:[],selectedAppointments:[{id:"0",startDate:"2020-04-19 15:00",endDate:"2020-04-19 16:00",title:"Manicure",workers:[2],services:[2],price:50},{id:"1",startDate:"2020-04-21 09:00",endDate:"2020-04-21 11:00",title:"Hair Blowout",workers:[0,1],services:[1],price:20}],appointments:[{id:"0",startDate:"2020-04-19 15:00",endDate:"2020-04-19 16:00",title:"Manicure",workers:[2],services:[2],price:50},{id:"1",startDate:"2020-04-21 09:00",endDate:"2020-04-21 11:00",title:"Hair Blowout",workers:[0,1],services:[1],price:20}],mainResourceName:"workers",resources:[{fieldName:"services",title:"Services",allowMultiple:!0,instances:[{id:1,text:"Haircut"},{id:2,text:"Manicure"}]},{fieldName:"workers",title:"Workers",allowMultiple:!0,instances:[{id:0,text:"Artin Kasumyan"},{id:1,text:"Arthur Kasumyan"},{id:2,text:"Roula Sharqawe"},{id:3,text:"George Clooney"},{id:4,text:"Johnny Depp"}]}],currentDate:Ht.getFullYear()+"-"+(Ht.getMonth()+1)+"-"+Ht.getDate()},n.commitChanges=n.commitChanges.bind(Object(p.a)(n)),n.changeMainResource=n.changeMainResource.bind(Object(p.a)(n)),n.onSelectWorker=n.onSelectWorker.bind(Object(p.a)(n)),n.onRemoveWorker=n.onRemoveWorker.bind(Object(p.a)(n)),n.onSelectService=n.onSelectService.bind(Object(p.a)(n)),n.onRemoveService=n.onRemoveService.bind(Object(p.a)(n)),n.onSearch=n.onSearch.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"changeMainResource",value:function(e){this.setState({mainResourceName:e})}},{key:"onSelectWorker",value:function(e,t){this.setState({selectedWorkers:e})}},{key:"onRemoveWorker",value:function(e,t){this.setState({selectedWorkers:e})}},{key:"onSelectService",value:function(e,t){this.setState({selectedServices:e})}},{key:"onRemoveService",value:function(e,t){this.setState({selectedServices:e})}},{key:"onSearch",value:function(){var e,t,a=this,n=[];this.state.appointments.map((function(r){e=0==a.state.selectedWorkers.length,t=0==a.state.selectedServices.length,a.state.selectedWorkers.map((function(t){r.workers.includes(t.id)&&(e=!0)})),a.state.selectedServices.map((function(e){r.services.includes(e.id)&&(t=!0)})),t&&e&&n.push(r)})),this.setState({selectedAppointments:n})}},{key:"commitChanges",value:function(e){var t=e.added,a=e.changed,n=e.deleted;this.setState((function(e){var r=e.appointments;if(t){var s=r.length>0?r[r.length-1].id+1:0;r=[].concat(Object(Ae.a)(r),[Object(yt.a)({id:s},t)])}return a&&(r=r.map((function(e){return a[e.id]?Object(yt.a)({},e,{},a[e.id]):e}))),void 0!==n&&(r=r.filter((function(e){return e.id!==n}))),{appointments:r}}))}},{key:"render",value:function(){return console.log(this.state.selectedAppointments),r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,null,r.a.createElement("p",{className:"title"}," Manage Your Appointments "),r.a.createElement(E.a,{style:{marginBottom:50,marginLeft:"22%",position:"relative"}},r.a.createElement(qe.Multiselect,{options:this.state.resources[0].instances,onSelect:this.onSelectService,onRemove:this.onRemoveService,placeholder:"Service",closeIcon:"cancel",displayValue:"text",style:{multiselectContainer:{marginLeft:"2%",width:"35%"},groupHeading:{width:50,maxWidth:50},chips:{background:"#587096",height:35},inputField:{color:"black"},searchBox:{minWidth:250,width:"100%",height:"30",backgroundColor:"white",borderRadius:"5px"}}}),r.a.createElement(qe.Multiselect,{options:this.state.resources[1].instances,onSelect:this.onSelectWorker,onRemove:this.onRemoveWorker,placeholder:"Workers",closeIcon:"cancel",displayValue:"text",style:{multiselectContainer:{marginLeft:"2%",width:"35%"},optionContainer:{zIndex:1e7},chips:{background:"#587096",height:35},inputField:{color:"black"},searchBox:{minWidth:250,width:"100%",height:"30",backgroundColor:"white",borderRadius:"5px"}}}),r.a.createElement(Le.a,{onClick:this.onSearch,size:35,style:{cursor:"pointer",marginLeft:10,paddingRight:"10px"}})),r.a.createElement(Ct.a,{className:"react-calendar"},r.a.createElement(Mt.j,{data:this.state.selectedAppointments},r.a.createElement(kt.s,{defaultCurrentDate:this.state.currentDate}),r.a.createElement(kt.k,{onCommitChanges:this.commitChanges}),r.a.createElement(kt.m,null),r.a.createElement(Mt.n,{startDayHour:8,endDayHour:24,cellDuration:60}),r.a.createElement(Mt.h,{dayScaleCellComponent:wt,timeTableCellComponent:Tt}),r.a.createElement(Mt.f,{startDayHour:8,endDayHour:24,cellDuration:60}),r.a.createElement(Mt.l,null),r.a.createElement(Mt.m,null),r.a.createElement(Mt.e,null),r.a.createElement(Mt.k,null),r.a.createElement(Mt.d,null),r.a.createElement(Mt.c,{appointmentComponent:xt}),r.a.createElement(Mt.b,{showCloseButton:!0,showOpenButton:!0}),r.a.createElement(Mt.a,{isRecurrence:!1,basicLayoutComponent:jt,recurrenceLayoutComponent:Ot,messages:Nt,booleanEditorComponent:_t}),r.a.createElement(Mt.i,{data:this.state.resources}),r.a.createElement(Mt.g,null))))))}}]),a}(r.a.Component),Dt=(a(424),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={store:{id:"",name:"",street:"",city:"",state:"",zipcode:"",created_at:"",category:[],services:[],workers:[],owners:[],phone:"",clients:[],description:"",lat:"",lng:""},pictures:[]},n}return Object(m.a)(a,[{key:"triggerStoreEdit",value:function(){this.props.history.push({pathname:"/stores/edit/"+this.props.match.params.store_id,state:this.state})}},{key:"triggerBook",value:function(){this.props.history.push({pathname:"/book/"+this.props.match.params.store_id,state:this.state})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state&&this.props.location.state.store){var t=this.props.location.state.store.category.map((function(e){return{value:e.toLowerCase(),label:e}}));this.setState({store:this.props.location.state.store,selectedOption:t})}else fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){if(t){var a=t.category.map((function(e){return{value:e.toLowerCase(),label:e}}));e.setState({store:t,selectedOption:a})}}))}},{key:"componentDidUpdate",value:function(){var e=Object(Ie.a)(xe.a.mark((function e(t,a){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.store!==this.state.store&&this.setState({pictures:[{url:"/hair.jpg",key:"/hair.jpg"},{url:"/nails.jpg",key:"/nails.jpg"},{url:"/salon.jpg",key:"/salon.jpg"}]});case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return at.a.get("user")&&this.state.store.owners.indexOf(JSON.parse(at.a.get("user").substring(2)).id)>-1&&(e=r.a.createElement(y.a,{className:"float-left",onClick:function(){return t.triggerStoreEdit()}},"Edit Store")),r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-md-center",style:{marginTop:"15px",marginBottom:"15px"}},r.a.createElement(g.a,{lg:3},r.a.createElement("h1",null,this.state.store.name),r.a.createElement("h5",{style:{color:"gray"}},this.state.store.street,", ",this.state.store.city,", ",this.state.store.state,", ",this.state.store.zipcode),r.a.createElement("hr",null),r.a.createElement("p",{style:{fontSize:"25px"}},this.state.store.description),r.a.createElement("ul",null,this.state.store.category.map((function(e,t){return r.a.createElement("li",{key:"cat-"+t},e)}))),r.a.createElement("div",{id:"buttonGroup"},e,r.a.createElement(y.a,{className:"float-left",onClick:function(){return t.triggerBook()}},"Book Now"))),r.a.createElement(g.a,{xs:10,sm:9,md:8,lg:7},r.a.createElement(We,{className:"carousel",pictures:this.state.pictures}))),r.a.createElement(E.a,null),r.a.createElement(E.a,null))}}]),a}(r.a.Component)),Wt=Object(i.g)(Dt);function Rt(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return Rt=function(){return e},e}var Gt="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",Pt=Object(Ye.css)(Rt()),Bt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectChange=function(e){var t=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),a=n.state.newHours,r=0,s=0,o=[];n.state.newHours[t]?(r=n.state.newHours[t].open_time,s=n.state.newHours[t].close_time):(r=n.state.storeHours[t].open_time,s=n.state.storeHours[t].close_time),parseInt(e.target.querySelector("option").value)<=840?(a[t]={open_time:parseInt(e.target.value),close_time:s},o=[].concat(Object(Ae.a)(n.state.storeHours.slice(0,t)),[{open_time:parseInt(e.target.value),close_time:s}],Object(Ae.a)(n.state.storeHours.slice(t+1)))):(a[t]={open_time:r,close_time:parseInt(e.target.value)},o=[].concat(Object(Ae.a)(n.state.storeHours.slice(0,t)),[{open_time:r,close_time:parseInt(e.target.value)}],Object(Ae.a)(n.state.storeHours.slice(t+1)))),n.setState({newHours:a,storeHours:o})},n.deleteFileChangeHandler=function(){var e=Object(Ie.a)(xe.a.mark((function e(t,a,r){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=7;break}return e.next=3,n.state.keys.push(t.target.id);case 3:console.log(n.state.pictures.length,r,n.state.keys.length),a("pictureCount",n.state.pictures.length+r-n.state.keys.length),e.next=11;break;case 7:return e.next=9,n.state.keys.pop(t.target.id);case 9:console.log(n.state.pictures.length,r,n.state.keys.length),a("pictureCount",n.state.pictures.length+r-n.state.keys.length);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.fileChangedHandler=function(e,t,a){n.setState({selectedFiles:e.target.files}),t("pictureCount",n.state.pictures.length+e.target.files.length-n.state.keys.length),t("pictures",e.target.files)},n.state={store:{name:"",description:"",phone:"",id:"",street:"",city:"",state:"",zipcode:"",category:[]},storeHours:[],newHours:[],selectedOption:null,loading:!0,pictures:[],selectedFiles:[],keys:[]},n.options=[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"}],n.phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,n.yupValidationSchema=L.c().shape({name:L.e().min(2,"Store name must have at least 2 characters").max(100,"Store name can't be longer than 100 characters").required("Name is required"),description:L.e().min(20,"Description must have at least 20 characters").required("Description is required"),phone:L.e().matches(n.phoneRegExp,"Phone number is not valid").required("Phone number is required"),street:L.e().min(6,"Street must have at least 6 characters").max(100,"Street can't be longer than 100 characters").required("Street is required"),city:L.e().min(2,"City must have at least 2 characters").max(40,"City can't be longer than 40 characters").required("City is required"),state:L.e().min(2,"State must have at least 2 characters").max(12,"State can't be longer than 12 characters").required("State is required"),zipcode:L.e().max(20,"Zipcode can't be longer than 100 characters").required("Zipcode is required"),category:L.a().required("Category is required").nullable(),pictureCount:L.b().required("Pictures are required").min(1,"Must have at least one picture")}),n.triggerStoreDisplay=n.triggerStoreDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"triggerStoreDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id,state:{store:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidUpdate",value:function(){var e=Object(Ie.a)(xe.a.mark((function e(t,a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.store===this.state.store){e.next=5;break}return e.next=3,pt("stores/"+this.state.store.id+"/images/");case 3:n=e.sent,this.setState({pictures:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state&&this.props.location.state.store){var t=this.props.location.state.store.category.map((function(e){return{value:e.toLowerCase(),label:e}}));fetch(Gt+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(a){e.setState({store:e.props.location.state.store,selectedOption:t,storeHours:a,loading:!1})}))}else Promise.all([fetch(Gt+"/stores/"+this.props.match.params.store_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(Gt+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[0],n=t[1],r=a.category.map((function(e){return{value:e.toLowerCase(),label:e}}));e.setState({store:a,selectedOption:r,storeHours:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(t){return e.state.loading?r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:Pt,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{name:e.state.store.name,description:e.state.store.description,phone:e.state.store.phone,street:e.state.store.street,city:e.state.store.city,state:e.state.store.state,zipcode:e.state.store.zipcode,category:e.state.selectedOption,services:null,owners:null,pictures:e.state.pictures,pictureCount:e.state.pictures.length-e.state.keys.length,storeHours:e.state.storeHours},validationSchema:e.yupValidationSchema,onSubmit:function(){var t=Object(Ie.a)(xe.a.mark((function t(a){var n,r,s;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.category=a.category.map((function(e){return e.label})),n=e.props.match.params.store_id,r=e.triggerStoreDisplay,a.services=e.state.store.services,a.owners=e.state.store.owners,a.id=n,a.storeHours=e.state.newHours,t.next=9,Et(e.state.keys);case 9:return s="stores/"+e.props.match.params.store_id+"/services/"+a.name+"/",t.next=12,ht(s,e.state.selectedFiles);case 12:fetch(Gt+"/stores/edit/"+n,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(e){e&&r(e)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(f.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Store Edit"),r.a.createElement(f.a.Group,{controlId:"formName"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.n,null))),r.a.createElement(f.a.Control,{type:"text",name:"name",value:a.name,placeholder:"Business Name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(f.a.Group,{controlId:"formDescription"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(f.a.Control,{as:"textarea",rows:3,name:"description",value:a.description,placeholder:"Description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(f.a.Group,{controlId:"formPhone"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(f.a.Control,{type:"text",value:a.phone,placeholder:"Phone Number",name:"phone",onChange:o,onBlur:l,className:s.phone&&n.phone?"error":null})),s.phone&&n.phone?r.a.createElement("div",{className:"error-message"},n.phone):null),r.a.createElement(f.a.Group,{controlId:"formStreet"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.m,null))),r.a.createElement(f.a.Control,{type:"text",value:a.street,placeholder:"Street",name:"street",onChange:o,onBlur:l,className:s.street&&n.street?"error":null})),s.street&&n.street?r.a.createElement("div",{className:"error-message"},n.street):null),r.a.createElement(f.a.Group,{controlId:"formCity"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.b,null))),r.a.createElement(f.a.Control,{type:"text",value:a.city,placeholder:"City",name:"city",onChange:o,onBlur:l,className:s.city&&n.city?"error":null})),s.city&&n.city?r.a.createElement("div",{className:"error-message"},n.city):null),r.a.createElement(f.a.Group,{controlId:"formState"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.o,null))),r.a.createElement(f.a.Control,{value:a.state,placeholder:"State",name:"state",onChange:o,onBlur:l,className:s.state&&n.state?"error":null})),s.state&&n.state?r.a.createElement("div",{className:"error-message"},n.state):null),r.a.createElement(f.a.Group,{controlId:"formZipcode"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.f,null))),r.a.createElement(f.a.Control,{value:a.zipcode,placeholder:"Zipcode",name:"zipcode",onChange:o,onBlur:l,className:s.zipcode&&n.zipcode?"error":null})),s.zipcode&&n.zipcode?r.a.createElement("div",{className:"error-message"},n.zipcode):null),r.a.createElement(f.a.Group,{controlId:"formCategory"},r.a.createElement(ut.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.options,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement("h4",null,"Store Hours"),r.a.createElement(f.a.Group,{controlId:"formHoursMonday"},r.a.createElement("h5",{className:"text-left"},"Monday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[0].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[0].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursTuesday"},r.a.createElement("h5",{className:"text-left"},"Tuesday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[1].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[1].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursWednesday"},r.a.createElement("h5",{className:"text-left"},"Wednesday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[2].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[2].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursThursday"},r.a.createElement("h5",{className:"text-left"},"Thursday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[3].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[3].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursFriday"},r.a.createElement("h5",{className:"text-left"},"Friday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[4].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[4].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursSaturday"},r.a.createElement("h5",{className:"text-left"},"Saturday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[5].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[5].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"formHoursSunday"},r.a.createElement("h5",{className:"text-left"},"Sunday"),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[6].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",value:e.state.storeHours[6].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(f.a.Group,{controlId:"pictureCount"},r.a.createElement(f.a.Label,null,"Delete Images"),e.state.pictures.map((function(t,n){return r.a.createElement("div",{key:"pic-"+n},r.a.createElement("img",{className:"img-fluid",src:t.url,alt:"Slide "+n}),r.a.createElement(f.a.Check,{id:t.key,label:t.key.split("/").slice(-1)[0],onChange:function(t){return e.deleteFileChangeHandler(t,c,a.pictures.length)}}))}))),r.a.createElement(f.a.Group,{controlId:"pictures"},r.a.createElement(f.a.Label,null,"Add Images"),r.a.createElement("br",null),r.a.createElement("input",{onChange:function(t){return e.fileChangedHandler(t,c,a.pictures)},type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictureCount&&n.pictureCount?r.a.createElement("div",{className:"error-message"},n.pictureCount):null),r.a.createElement(y.a,{onClick:i},"Submit"))}))))};return r.a.createElement(v.a,{fluid:!0},r.a.createElement(t,null))}}]),a}(r.a.Component);function qt(e){return function(t){Object(d.a)(n,t);var a=Object(h.a)(n);function n(e){var t;return Object(u.a)(this,n),(t=a.call(this,e)).state={loading:!0,redirect:!1},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/checkToken",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(i.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),n}(n.Component)}var Lt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={user:{first_name:"",last_name:"",phone:"",password:"",password_confirmation:"",id:""}},n.phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,n.yupValidationSchema=L.c().shape({first_name:L.e().min(2,"First name must have at least 2 characters").max(100,"First name can't be longer than 100 characters").required("First name is required"),last_name:L.e().min(2,"Last name must have at least 2 characters").max(100,"Last name can't be longer than 100 characters").required("Last name is required"),phone:L.e().matches(n.phoneRegExp,"Phone number is not valid"),password:L.e().min(6,"Password must have at least 6 characters").max(100,"Password can't be longer than 100 characters").required("Password is required"),password_confirmation:L.e().oneOf([L.d("password")],"Passwords do not match").required("Password confirmation is required")}),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.props.history.push({pathname:"/users/"+this.props.user.id})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{first_name:this.props.user.first_name,last_name:this.props.user.last_name,phone:this.props.user.phone,password:"",password_confirmation:"",id:0},validationSchema:this.yupValidationSchema,onSubmit:function(t){t.id=e.props.match.params.user_id,e.props.editProfile(t)}},(function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,o=e.handleBlur,l=e.handleSubmit;return r.a.createElement(f.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Edit Profile"),r.a.createElement(f.a.Group,{controlId:"formFirstName"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(f.a.Control,{type:"text",name:"first_name",value:t.first_name,placeholder:"First Name",onChange:s,onBlur:o,className:n.first_name&&a.first_name?"error":null})),n.first_name&&a.first_name?r.a.createElement("div",{className:"error-message"},a.first_name):null),r.a.createElement(f.a.Group,{controlId:"formLastName"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(f.a.Control,{type:"text",value:t.last_name,placeholder:"Last Name",name:"last_name",onChange:s,onBlur:o,className:n.last_name&&a.last_name?"error":null})),n.last_name&&a.last_name?r.a.createElement("div",{className:"error-message"},a.last_name):null),r.a.createElement(f.a.Group,{controlId:"formPhone"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(f.a.Control,{type:"text",value:t.phone,placeholder:"Phone Number",name:"phone",onChange:s,onBlur:o,className:n.phone&&a.phone?"error":null})),n.phone&&a.phone?r.a.createElement("div",{className:"error-message"},a.phone):null),r.a.createElement(f.a.Group,{controlId:"formPassword"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.j,null))),r.a.createElement(f.a.Control,{type:"password",value:t.password,placeholder:"Password",name:"password",onChange:s,onBlur:o,className:n.password&&a.password?"error":null})),n.password&&a.password?r.a.createElement("div",{className:"error-message"},a.password):null),r.a.createElement(f.a.Group,{controlId:"formPasswordConfirmation"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.i,null))),r.a.createElement(f.a.Control,{type:"password",value:t.password_confirmation,placeholder:"Confirm Password",name:"password_confirmation",onChange:s,onBlur:o,className:n.password_confirmation&&a.password_confirmation?"error":null})),n.password_confirmation&&a.password_confirmation?r.a.createElement("div",{className:"error-message"},a.password_confirmation):null),r.a.createElement(y.a,{onClick:l},"Submit"))})))))}}]),a}(r.a.Component),Ft=Object(N.b)((function(e){return{user:e.userReducer.user}}),(function(e){return Object(_.b)({editProfile:function(e,t,a){return n=e,function(e){fetch(I+"/users/"+n.id,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then((function(t){if(e(x(t)),200===t.status)return t.json();e(Object(O.failure)(t))})).then((function(t){if(t)return e({type:"EDIT_USER_SUCCESS",user:t}),t}))};var n}},e)}))(Lt),At=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,null,r.a.createElement("h1",null,this.props.user.first_name," ",this.props.user.last_name),r.a.createElement("h1",null,this.props.user.phone),r.a.createElement("h1",null,this.props.user.email))))}}]),a}(r.a.Component),zt=Object(N.b)((function(e){return{user:e.userReducer.user}}))(At),Vt=a(305),Ut=a.n(Vt),Jt=a(306),Zt=a.n(Jt),$t=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={stores:[{id:"",name:"",street:"",city:"",state:"",zipcode:"",created_at:"",category:[],services:[],workers:[],owners:[],phone:"",clients:[],description:"",lat:"",lng:""}],redirectToWorkerForm:null,store_id:null},n}return Object(m.a)(a,[{key:"triggerStoreEdit",value:function(e){this.props.history.push({pathname:"/stores/edit/"+e.id,state:{store:e}})}},{key:"triggerAddWorker",value:function(e){this.props.history.push({pathname:"/stores/addWorker/"+e})}},{key:"triggerShowWorkers",value:function(e){this.props.history.push({pathname:"/stores/"+e+"/workers"})}},{key:"triggerStoreShow",value:function(e){this.props.history.push({pathname:"/stores/"+e.id,state:{store:e}})}},{key:"triggerShowServices",value:function(e){this.props.history.push({pathname:"/stores/"+e+"/services"})}},{key:"triggerAddService",value:function(e){this.props.history.push({pathname:"/stores/addService/"+e})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.stores?this.setState({stores:this.props.location.state.stores}):fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/users/"+this.props.match.params.user_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){t&&e.setState({stores:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{fluid:!0,style:{backgroundColor:"#bdcddb"}},this.state.stores.map((function(t,a){return r.a.createElement("div",{key:"store"+a},r.a.createElement(E.a,{className:"justify-content-center",style:{height:700}},r.a.createElement(g.a,{xs:6,sm:6,md:6,lg:6},r.a.createElement(De.a,{className:"dashboard_carousel",interval:""},r.a.createElement(De.a.Item,{className:"item"},r.a.createElement("img",{className:"item",src:Ut.a,alt:"test"})),r.a.createElement(De.a.Item,{className:"item"},r.a.createElement("img",{className:"item",src:Zt.a,alt:"test2"})))),r.a.createElement(g.a,{xs:6,sm:6,md:6,lg:6,style:{top:125}},r.a.createElement("span",{className:"name",onClick:function(){return e.triggerStoreShow(t)},style:{cursor:"pointer"}}," ",t.name," "),r.a.createElement(M.d,{className:"edit",size:25,onClick:function(){return e.triggerStoreEdit(t)}}),r.a.createElement("p",{className:"address"},t.street,", ",t.city,", ",t.state," "),r.a.createElement("div",null,t.category.map((function(e,a){return r.a.createElement("div",{className:"category",key:t.id+"-category-"+a}," ",r.a.createElement("p",{style:{color:"white"}}," ",e," ")," ")}))),r.a.createElement("div",null,r.a.createElement("p",{className:"description"},t.description)),r.a.createElement(y.a,{onClick:function(){return e.triggerShowWorkers(t.id)}},"View Workers")," \xa0",r.a.createElement(y.a,{onClick:function(){return e.triggerAddWorker(t.id)}},"Add Worker")," \xa0",r.a.createElement(y.a,{onClick:function(){return e.triggerShowServices(t.id)}},"View Services")," \xa0",r.a.createElement(y.a,{onClick:function(){return e.triggerAddService(t.id)}},"Add Service"))))})))}}]),a}(r.a.Component),Kt=Object(i.g)($t);function Yt(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return Yt=function(){return e},e}var Xt=Object(Ye.css)(Yt()),Qt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectChange=function(e){var t,a,r=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),s=[];t=n.state.workerHours[r].start_time,a=n.state.workerHours[r].end_time,s=parseInt(e.target.querySelector("option").value)<=840?[].concat(Object(Ae.a)(n.state.workerHours.slice(0,r)),[{start_time:parseInt(e.target.value),end_time:a}],Object(Ae.a)(n.state.workerHours.slice(r+1))):[].concat(Object(Ae.a)(n.state.workerHours.slice(0,r)),[{start_time:t,end_time:parseInt(e.target.value)}],Object(Ae.a)(n.state.workerHours.slice(r+1))),n.setState({workerHours:s})},n.handleDayStatusChange=function(e){var t=[].concat(Object(Ae.a)(n.state.weekIsWorking.slice(0,e)),[!n.state.weekIsWorking[e]],Object(Ae.a)(n.state.weekIsWorking.slice(e+1)));n.setState({weekIsWorking:t})},n.state={options:[{value:0,label:"Brazilian Blowout"},{value:1,label:"Manicure"}],workerHours:[],storeHours:[],weekIsWorking:[!0,!0,!0,!0,!0,!0,!0],loading:!0},n.emailRegExp=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/,n.yupValidationSchema=L.c().shape({email:L.e().email("Must be a valid email address").max(100,"Email must be less than 100 characters").required("Email is required")}),n.triggerWorkerDisplay=n.triggerWorkerDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"triggerWorkerDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+e.id,state:{worker:e}})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){if(t){var a=t.map((function(e){return{start_time:e.open_time,end_time:e.close_time}}));e.setState({storeHours:t,workerHours:a,loading:!1})}}))}},{key:"render",value:function(){var e=this,t=function(t){for(var a=[],n=e.state.storeHours[t.day].open_time;n<=840;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},a=function(t){for(var a=[],n=900;n<=e.state.storeHours[t.day].close_time;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},n=function(n){return e.state.loading?r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:Xt,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{initialValues:{email:"",services:"",workerHours:[]},validationSchema:e.yupValidationSchema,onSubmit:function(t){var a=e.props.match.params.store_id,n=e.triggerWorkerDisplay;t.services=t.services.map((function(e){return e.value})),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/addWorker/"+a,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(e){e&&n(e)}))}},(function(n){var s=n.values,o=n.errors,l=n.touched,i=n.handleChange,c=n.handleBlur,u=n.handleSubmit,m=n.setFieldValue;return r.a.createElement(f.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Add Worker"),r.a.createElement(f.a.Group,{controlId:"formEmail"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(f.a.Control,{type:"email",value:s.email,placeholder:"Email",name:"email",onChange:i,onBlur:c,className:l.email&&o.email?"error":null})),l.email&&o.email?r.a.createElement("div",{className:"error-message"},o.email):null),r.a.createElement(f.a.Group,{controlId:"formServices"},r.a.createElement(ut.a,{value:s.services,onChange:function(e){return m("services",e)},name:"services",options:e.state.options,isMulti:!0,placeholder:"Services",className:l.services&&o.services?"error":null}),l.services&&o.services?r.a.createElement("div",{className:"error-message"},o.services):null),r.a.createElement("h4",null,"Worker Hours"),r.a.createElement(f.a.Group,{controlId:"formHoursMonday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Monday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"monday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[0],onChange:function(){return e.handleDayStatusChange(0)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:0}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:0}))))),r.a.createElement(f.a.Group,{controlId:"formHoursTuesday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Tuesday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"tuesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[1],onChange:function(){return e.handleDayStatusChange(1)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:1}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:1}))))),r.a.createElement(f.a.Group,{controlId:"formHoursWednesday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Wednesday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"wednesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[2],onChange:function(){return e.handleDayStatusChange(2)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:2}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:2}))))),r.a.createElement(f.a.Group,{controlId:"formHoursThursday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Thursday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"thursday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[3],onChange:function(){return e.handleDayStatusChange(3)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:3}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:3}))))),r.a.createElement(f.a.Group,{controlId:"formHoursFriday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Friday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"friday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[4],onChange:function(){return e.handleDayStatusChange(4)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:4}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:4}))))),r.a.createElement(f.a.Group,{controlId:"formHoursSaturday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Saturday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"saturday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[5],onChange:function(){return e.handleDayStatusChange(5)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:5}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:5}))))),r.a.createElement(f.a.Group,{controlId:"formHoursSunday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Sunday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"sunday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[6],onChange:function(){return e.handleDayStatusChange(6)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:6}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:6}))))),r.a.createElement(y.a,{onClick:u},"Submit"))}))))};return r.a.createElement(v.a,{fluid:!0},r.a.createElement(n,null))}}]),a}(r.a.Component),ea=(a(425),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={workers:[],redirectToWorkerEditForm:null,redirectToWorkerDisplay:null},n}return Object(m.a)(a,[{key:"triggerWorkerEditForm",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+e+"/edit"})}},{key:"triggerWorkerDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+e})}},{key:"triggerAddWorker",value:function(){this.props.history.push({pathname:"/stores/addWorker/"+this.props.match.params.store_id})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.workers?this.setState({workers:this.props.location.state.workers}):fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/workers",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json()})).then((function(t){t&&e.setState({workers:t})}))}},{key:"render",value:function(){var e=this,t=null;return t=0!=this.state.workers.length?r.a.createElement("div",null,this.state.workers.map((function(t){return r.a.createElement(g.a,{key:"worker-"+t.id},r.a.createElement(y.a,{onClick:function(){return e.triggerWorkerDisplay(t.id)}},"Show Worker"),r.a.createElement(y.a,{onClick:function(){return e.triggerWorkerEditForm(t.id)}},"Edit Worker"))}))):r.a.createElement("div",null,r.a.createElement("p",{className:"noResults"},"No Workers!"),r.a.createElement(y.a,{onClick:function(){return e.triggerAddWorker()}},"Add Worker")),r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},t))}}]),a}(r.a.Component)),ta=a(307);a(426);function aa(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return aa=function(){return e},e}var na=Object(Ye.css)(aa()),ra=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSelectChange=function(e){var t=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),a=n.state.newHours,r=0,s=0,o=[];n.state.newHours[t]?(r=n.state.newHours[t].start_time,s=n.state.newHours[t].end_time):(r=n.state.workerHours[t].start_time,s=n.state.workerHours[t].end_time),parseInt(e.target.querySelector("option").value)<=840?(a[t]={start_time:parseInt(e.target.value),end_time:s},o=[].concat(Object(Ae.a)(n.state.workerHours.slice(0,t)),[{start_time:parseInt(e.target.value),end_time:s}],Object(Ae.a)(n.state.workerHours.slice(t+1)))):(a[t]={start_time:r,end_time:parseInt(e.target.value)},o=[].concat(Object(Ae.a)(n.state.workerHours.slice(0,t)),[{start_time:r,end_time:parseInt(e.target.value)}],Object(Ae.a)(n.state.workerHours.slice(t+1)))),n.setState({newHours:a,workerHours:o})},n.handleDayStatusChange=function(e){var t=[].concat(Object(Ae.a)(n.state.weekIsWorking.slice(0,e)),[!n.state.weekIsWorking[e]],Object(Ae.a)(n.state.weekIsWorking.slice(e+1)));n.setState({weekIsWorking:t})},n.state={worker:{id:0,store_id:0,services:[],user_id:0,created_at:"",first_name:"",last_name:""},options:[{value:0,label:"Brazilian Blowout"},{value:1,label:"Manicure"}],serviceMapping:{0:"Brazilian Blowout",1:"Manicure"},storeHours:[],workerHours:[],receivedServices:null,loading:!0,newHours:[],weekIsWorking:[!0,!0,!0,!0,!0,!0,!0]},n.yupValidationSchema=L.c().shape({services:L.e().required("Service is required")}),n.triggerWorkerDisplay=n.triggerWorkerDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"triggerWorkerDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id,state:{worker:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){this.setState({worker:this.props.worker,receivedServices:this.props.receivedServices,selectedOption:this.props.selectedOption,storeHours:this.props.storeHours,workerHours:this.props.workerHours,loading:!1})}},{key:"render",value:function(){var e=this,t=function(t){for(var a=[],n=e.state.storeHours[t.day].open_time;n<=840;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},a=function(t){for(var a=[],n=900;n<=e.state.storeHours[t.day].close_time;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},n=function(n){return e.state.loading?r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:na,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,null,r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{services:e.state.selectedOption,id:e.state.worker.id,store_id:e.state.worker.store_id,user_id:e.state.worker.user_id,created_at:e.state.worker.created_at,first_name:e.state.worker.first_name,last_name:e.state.worker.last_name,newHours:e.state.newHours,noChange:!1},validationSchema:e.yupValidationSchema,onSubmit:function(t){t.services=t.services.map((function(e){return e.value}));var a=e.props.match.params.store_id,n=e.props.match.params.worker_id;e.triggerWorkerDisplay;t.newHours.map((function(t,a){return e.state.weekIsWorking[a]?t:{start_time:null,end_time:null}})),JSON.stringify(t.services)==JSON.stringify(e.state.receivedServices)&&(t.noChange=!0),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+a+"/workers/"+n,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(a){a&&e.props.updateWorker(e.state.worker,e.state.newHours,t.services)}))}},(function(n){var s=n.values,o=n.errors,l=n.touched,i=(n.handleChange,n.handleBlur,n.handleSubmit),c=n.setFieldValue;return r.a.createElement(f.a,null,r.a.createElement("h3",null,"Worker Edit"),r.a.createElement(f.a.Group,{controlId:"formServices"},r.a.createElement(ut.a,{value:s.services,onChange:function(e){return c("services",e)},name:"services",options:e.state.options,isMulti:!0,placeholder:"Services",className:l.services&&o.services?"error":null}),l.services&&o.services?r.a.createElement("div",{className:"error-message"},o.services):null),r.a.createElement("h4",null,"Worker Hours"),r.a.createElement(f.a.Group,{controlId:"formHoursMonday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Monday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"monday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[0],onChange:function(){return e.handleDayStatusChange(0)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:0}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:0}))))),r.a.createElement(f.a.Group,{controlId:"formHoursTuesday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Tuesday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"tuesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[1],onChange:function(){return e.handleDayStatusChange(1)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:1}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:1}))))),r.a.createElement(f.a.Group,{controlId:"formHoursWednesday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Wednesday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"wednesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[2],onChange:function(){return e.handleDayStatusChange(2)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:2}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:2}))))),r.a.createElement(f.a.Group,{controlId:"formHoursThursday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Thursday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"thursday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[3],onChange:function(){return e.handleDayStatusChange(3)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:3}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:3}))))),r.a.createElement(f.a.Group,{controlId:"formHoursFriday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Friday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"friday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[4],onChange:function(){return e.handleDayStatusChange(4)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:4}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:4}))))),r.a.createElement(f.a.Group,{controlId:"formHoursSaturday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Saturday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"saturday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[5],onChange:function(){return e.handleDayStatusChange(5)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:5}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:5}))))),r.a.createElement(f.a.Group,{controlId:"formHoursSunday"},r.a.createElement(f.a.Row,{className:"text-left"},r.a.createElement(g.a,null,r.a.createElement("h5",null,"Sunday"),r.a.createElement(f.a.Check,{type:"checkbox",id:"sunday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[6],onChange:function(){return e.handleDayStatusChange(6)}}))),r.a.createElement(f.a.Row,null,r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:6}))),r.a.createElement(g.a,null,r.a.createElement(f.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:6}))))),r.a.createElement(y.a,{onClick:i},"Submit"))}))))};return r.a.createElement(v.a,{fluid:!0},r.a.createElement(n,null))}}]),a}(r.a.Component),sa=Object(i.g)(ra);function oa(){var e=Object(ze.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return oa=function(){return e},e}var la="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",ia=Object(Ye.css)(oa()),ca=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateWorker=function(e,t,a){var r=n.state.workerHours.map((function(e,a){return null!=t[a]?t[a]:e}));n.setState({worker:e,workerHours:r,receivedServices:a})},n.updateContent=function(e){n.setState({choice:e})},n.state={worker:{id:0,store_id:0,services:[],user_id:0,created_at:"",first_name:[],last_name:""},serviceMapping:{0:"Brazilian Blowout",1:"Manicure"},loading:!0,workerHours:[],receivedServices:[],selectedOption:[],storeHours:[],choice:0,daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},n}return Object(m.a)(a,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){var e=this;if(this.props.location&&this.props.location.state&&this.props.location.state.worker){this.props.location.state.worker.services.map((function(t){return{value:t,label:e.state.serviceMapping[t]}}));Promise.all([fetch(la+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id+"/hours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(la+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[1].map((function(e){return{start_time:e.open_time,end_time:e.close_time}}));t[0]&&7==t[0].length?a=t[0]:e.setState({newHours:a}),e.setState({worker:e.props.location.state.worker,receivedServices:e.props.location.state.worker.services,storeHours:t[1],workerHours:a,loading:!1})}))}else Promise.all([fetch(la+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(la+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(la+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id+"/hours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[0].services.map((function(t){return{value:t,label:e.state.serviceMapping[t]}})),n=t[1].map((function(e){return{start_time:e.open_time,end_time:e.close_time}}));t[2]&&7==t[2].length?n=t[2]:e.setState({newHours:n}),e.setState({worker:t[0],receivedServices:t[0].services,selectedOption:a,storeHours:t[1],workerHours:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(){for(var t=[],a=0;a<e.state.workerHours.length;a++)null!=e.state.workerHours[a].start_time?t.push(r.a.createElement(g.a,{sm:"11",md:"10",key:a},r.a.createElement(Ue.a.Item,null,e.state.daysOfWeek[a],": ",e.convertMinsToHrsMins(e.state.workerHours[a].start_time),"-",e.convertMinsToHrsMins(e.state.workerHours[a].end_time)))):t.push(r.a.createElement(g.a,{sm:"11",md:"10",key:a},r.a.createElement(Ue.a.Item,null,e.state.daysOfWeek[a],": Off")));return t},a=function(){return 0==e.state.choice?r.a.createElement(It,null):1==e.state.choice?r.a.createElement(sa,{worker:e.state.worker,receivedServices:e.state.receivedServices,selectedOption:e.state.selectedOption,storeHours:e.state.storeHours,workerHours:e.state.workerHours,updateWorker:e.updateWorker}):r.a.createElement("p",null,"Past Appointments go here....")},n=function(n){return e.state.loading?r.a.createElement(E.a,{className:"vertical-center"},r.a.createElement(g.a,null,r.a.createElement(Ke.a,{css:ia,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(E.a,{className:"profile"},r.a.createElement(g.a,{xs:"11",md:"3"},r.a.createElement("div",{className:"profile-sidebar"},r.a.createElement("div",{className:"profile-userpic"},r.a.createElement(ta.a,{src:"https://i.redd.it/v0caqchbtn741.jpg",className:"img-responsive",alt:"",rounded:!0})),r.a.createElement("div",{className:"profile-usertitle"},r.a.createElement("div",{className:"profile-usertitle-name"},e.state.worker.first_name+" "+e.state.worker.last_name),r.a.createElement("div",{className:"profile-usertitle-job"},"Stylist")),r.a.createElement("div",{className:"profile-userbuttons"},r.a.createElement("button",{type:"button",className:"btn btn-success btn-sm"},"Give a Raise"),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm"},"Lay Off")),r.a.createElement(Ue.a,{variant:"flush"},r.a.createElement(E.a,{className:"justify-content-center mt-4"},r.a.createElement("h5",null,"Working Hours"),r.a.createElement(t,null))),r.a.createElement("div",{className:"profile-usermenu"},r.a.createElement(z.a,{defaultActiveKey:"link-0",className:"flex-column",variant:"pills"},r.a.createElement(z.a.Link,{eventKey:"link-0",active:0==e.state.choice,onClick:function(){return e.updateContent(0)}},"Calendar"),r.a.createElement(z.a.Link,{eventKey:"link-1",active:1==e.state.choice,onClick:function(){return e.updateContent(1)}},"Edit Profile"),r.a.createElement(z.a.Link,{eventKey:"link-2",active:2==e.state.choice,onClick:function(){return e.updateContent(2)}},"Past Appointments"))))),r.a.createElement(g.a,{xs:"11",md:"9"},r.a.createElement("div",{className:"profile-content"},r.a.createElement(a,null))))};return r.a.createElement(v.a,{fluid:!0},r.a.createElement(n,null))}}]),a}(r.a.Component),ua=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).fileChangedHandler=function(e){n.setState({selectedFiles:e.target.files})},n.state={name:"",cost:"",duration:"",description:"",workers:[],category:[],store_id:"",categoryOptions:[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"}],workerOptions:[],selectedOption:null,selectedFiles:null},n.yupValidationSchema=L.c().shape({name:L.e().min(2,"Name must have at least 2 characters").max(100,"Name can't be longer than 100 characters").required("Name is required"),description:L.e().min(20,"Description must have at least 20 characters").required("Description is required"),cost:L.b().positive("Cost must be positive").required("Cost is required"),duration:L.b().positive("Duration must be positive").integer("Duration must be an integer").required("Duration is required"),workers:L.a().required("Worker is required").nullable(),category:L.a().required("Category is required").nullable()}),n.triggerServiceDisplay=n.triggerServiceDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/workers",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){if(t){var a=t.map((function(e){return{value:e.id,label:e.first_name+" "+e.last_name}}));e.setState({workerOptions:a})}}))}},{key:"componentDidUpdate",value:function(e,t){e.service!==this.props.service&&this.props.history.push({pathname:"/stores/"+this.props.service.store_id+"/services/"+this.props.service.id})}},{key:"triggerServiceDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+e.store_id+"/services/"+e.id,state:{service:e}})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{name:"",cost:"",duration:"",description:"",pictures:[],workers:[],category:[],store_id:this.props.match.params.store_id},validationSchema:this.yupValidationSchema,onSubmit:function(){var t=Object(Ie.a)(xe.a.mark((function t(a,n){var r,s,o;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.setSubmitting,s=e.props.match.params.store_id,o=e.triggerServiceDisplay,a.category=a.category.map((function(e){return e.label})),a.workers=a.workers.map((function(e){return e.value})),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/addService/"+s,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(e){e&&o(e)})),r(!1);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(f.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Add Service"),r.a.createElement(f.a.Group,{controlId:"formService"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.g,null))),r.a.createElement(f.a.Control,{type:"text",value:a.name,placeholder:"Name of Service",name:"name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(f.a.Group,{controlId:"formCost"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.c,null))),r.a.createElement(f.a.Control,{type:"text",value:a.cost,placeholder:"Cost",name:"cost",onChange:o,onBlur:l,className:s.cost&&n.cost?"error":null})),s.cost&&n.cost?r.a.createElement("div",{className:"error-message"},n.cost):null),r.a.createElement(f.a.Group,{controlId:"formDuration"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.h,null))),r.a.createElement(f.a.Control,{type:"text",value:a.duration,placeholder:"Duration (in min)",name:"duration",onChange:o,onBlur:l,className:s.duration&&n.duration?"error":null})),s.duration&&n.duration?r.a.createElement("div",{className:"error-message"},n.duration):null),r.a.createElement(f.a.Group,{controlId:"formDescription"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(f.a.Control,{type:"textarea",rows:3,value:a.description,placeholder:"Description",name:"description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(f.a.Group,{controlId:"formWorkers"},r.a.createElement(ut.a,{value:a.workers,onChange:function(e){return c("workers",e)},name:"workers",options:e.state.workerOptions,isMulti:!0,placeholder:"Assigned Workers",className:s.workers&&n.workers?"error":null}),s.workers&&n.workers?r.a.createElement("div",{className:"error-message"},n.workers):null),r.a.createElement(f.a.Group,{controlId:"formCategory"},r.a.createElement(ut.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.state.categoryOptions,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement(f.a.Group,{controlId:"formPictures"},r.a.createElement("input",{onChange:e.fileChangedHandler,type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictures&&n.pictures?r.a.createElement("div",{className:"error-message"},n.pictures):null),r.a.createElement(y.a,{onClick:i},"Submit"))})))))}}]),a}(r.a.Component),ma=(a(427),["#f0d1d9","#f7e5e4","#d6ced3"]),pa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={services:[]},n}return Object(m.a)(a,[{key:"triggerServiceEdit",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/services/"+e.id+"/edit",state:{service:e}})}},{key:"triggerServiceDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/services/"+e.id,state:{service:e}})}},{key:"triggerAddService",value:function(){this.props.history.push({pathname:"/stores/addService/"+this.props.match.params.store_id})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.services?this.setState({services:this.props.location.state.services}):fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/services/",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json()})).then((function(t){t&&e.setState({services:t})}))}},{key:"render",value:function(){var e=this,t=null;return t=this.state.services.length>0?r.a.createElement(g.a,null,r.a.createElement("p",{className:"services_title"},"My Services "),r.a.createElement(y.a,{className:"buttons",onClick:function(){return e.triggerAddService()}},"Add Service"),r.a.createElement("div",{className:"service_container"},this.state.services.map((function(t,a){return r.a.createElement(g.a,{key:"service-"+t.id},r.a.createElement("div",{className:"service_card"},r.a.createElement("div",{className:"service_text",style:{backgroundColor:"".concat(ma[a%3])}},r.a.createElement("div",{className:"fun_style"}," "),r.a.createElement(g.a,null,r.a.createElement("div",{className:"title_container",style:{backgroundColor:"".concat(ma[a%3])}},r.a.createElement("span",{className:"service_title",onClick:function(){return e.triggerServiceDisplay(t)}}," ",t.name," "),r.a.createElement(M.d,{className:"edit",size:15,onClick:function(){return e.triggerServiceEdit(t)}})),r.a.createElement(E.a,null,r.a.createElement("div",{className:"service_subtitle"},r.a.createElement("p",null," Category "),r.a.createElement("p",null," Cost "),r.a.createElement("p",null," Duration "),r.a.createElement("p",null," Associated Workers "),r.a.createElement("p",null," Description ")),r.a.createElement("div",{className:"subtitle_values"},r.a.createElement("p",null,"  ",t.category,"  "),r.a.createElement("p",null," $ ",t.cost,"  "),r.a.createElement("p",null,"  ",t.duration," Minutes  "),r.a.createElement("p",null," ",t.workers," "),r.a.createElement("p",null," ",t.description," ")))))))})))):r.a.createElement("div",null,r.a.createElement("p",{className:"noResults"},"No Services!"),r.a.createElement(y.a,{onClick:function(){return e.triggerAddService()}},"Add Service")),r.a.createElement(v.a,null,t)}}]),a}(r.a.Component),da=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={service:{id:"",name:"",cost:"",workers:[],store_id:"",category:"",description:""},pictures:[]},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(Ie.a)(xe.a.mark((function e(t,a){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.service!==this.state.service&&this.setState({pictures:[{url:"/hair.jpg",key:"/hair.jpg"},{url:"/nails.jpg",key:"/nails.jpg"},{url:"/salon.jpg",key:"/salon.jpg"}]});case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Ie.a)(xe.a.mark((function e(){var t,a;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.location.state||!this.props.location.state.service){e.next=4;break}this.setState({service:this.props.location.state.service}),e.next=11;break;case 4:return e.next=6,fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/services/"+this.props.match.params.service_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"});case 6:return t=e.sent,e.next=9,t.json();case 9:a=e.sent,this.setState({service:a});case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,null,r.a.createElement("h1",null,this.state.service.name),r.a.createElement("p",null,this.state.service.description)),r.a.createElement(g.a,{xs:10,sm:9,md:8,lg:7},r.a.createElement(We,{className:"carousel",pictures:this.state.pictures}))))}}]),a}(r.a.Component),ha=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).deleteFileChangeHandler=function(){var e=Object(Ie.a)(xe.a.mark((function e(t,a,r){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=7;break}return e.next=3,n.state.keys.push(t.target.id);case 3:console.log(n.state.pictures.length,r,n.state.keys.length),a("pictureCount",n.state.pictures.length+r-n.state.keys.length),e.next=11;break;case 7:return e.next=9,n.state.keys.pop(t.target.id);case 9:console.log(n.state.pictures.length,r,n.state.keys.length),a("pictureCount",n.state.pictures.length+r-n.state.keys.length);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.fileChangedHandler=function(e,t,a){n.setState({selectedFiles:e.target.files}),t("pictureCount",n.state.pictures.length+e.target.files.length-n.state.keys.length),t("pictures",e.target.files)},n.state={service:{id:"",name:"",cost:"",workers:[],store_id:"",category:"",description:""},categoryOptions:[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"}],convertedCategory:[],workerOptions:[],selectedOption:null,pictures:[],keys:[],selectedFiles:[]},n.yupValidationSchema=L.c().shape({name:L.e().min(2,"Name must have at least 2 characters").max(100,"Name can't be longer than 100 characters").required("Name is required"),description:L.e().min(20,"Description must have at least 20 characters").required("Description is required"),cost:L.b().positive("Cost must be positive").required("Cost is required"),duration:L.b().positive("Duration must be positive").integer("Duration must be an integer").required("Duration is required"),workers:L.a().required("Worker is required").nullable(),category:L.a().required("Category is required").nullable(),pictureCount:L.b().required("Pictures are required").min(1,"Must have at least one picture")}),n.triggerServiceDisplay=n.triggerServiceDisplay.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"triggerServiceDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/services/"+this.props.match.params.service_id,state:{service:e}})}},{key:"componentDidUpdate",value:function(){var e=Object(Ie.a)(xe.a.mark((function e(t,a){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.service===this.state.service){e.next=5;break}return e.next=3,pt("stores/"+this.state.service.store_id+"/services/"+this.state.service.name+"/");case 3:n=e.sent,this.setState({pictures:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state&&this.props.location.state.service){var t=this.props.location.state.service.category.map((function(e){return{value:e.toLowerCase(),label:e}}));this.setState({service:this.props.location.state.service,convertedCategory:t})}else fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/services/"+this.props.match.params.service_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(t){if(t){var a=t.category.map((function(e){return{value:e.toLowerCase(),label:e}}));e.setState({service:t,convertedCategory:a})}}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-center"},r.a.createElement(g.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{name:this.state.service.name,cost:this.state.service.cost,duration:this.state.service.duration,description:this.state.service.description,pictures:[],pictureCount:this.state.pictures.length-this.state.keys.length,workers:this.state.service.workers,category:this.state.convertedCategory,store_id:this.props.match.params.store_id},validationSchema:this.yupValidationSchema,onSubmit:function(){var t=Object(Ie.a)(xe.a.mark((function t(a){var n,r,s;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.match.params.store_id,r=e.props.match.params.service_id,s=e.triggerServiceDisplay,a.category=a.category.map((function(e){return e.label})),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+n+"/services/"+r,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();re.dispatch(x(e))})).then((function(e){e&&s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(f.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Edit Service"),r.a.createElement(f.a.Group,{controlId:"formService"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.g,null))),r.a.createElement(f.a.Control,{type:"text",value:a.name,placeholder:"Name of Service",name:"name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(f.a.Group,{controlId:"formCost"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.c,null))),r.a.createElement(f.a.Control,{type:"text",value:a.cost,placeholder:"Cost",name:"cost",onChange:o,onBlur:l,className:s.cost&&n.cost?"error":null})),s.cost&&n.cost?r.a.createElement("div",{className:"error-message"},n.cost):null),r.a.createElement(f.a.Group,{controlId:"formDuration"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.h,null))),r.a.createElement(f.a.Control,{type:"text",value:a.duration,placeholder:"Duration (in min)",name:"duration",onChange:o,onBlur:l,className:s.duration&&n.duration?"error":null})),s.duration&&n.duration?r.a.createElement("div",{className:"error-message"},n.duration):null),r.a.createElement(f.a.Group,{controlId:"formDescription"},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(f.a.Control,{type:"textarea",rows:3,value:a.description,placeholder:"Description",name:"description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(f.a.Group,{controlId:"formCategory"},r.a.createElement(ut.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.state.categoryOptions,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement(f.a.Group,{controlId:"pictureCount"},r.a.createElement(f.a.Label,null,"Delete Images"),e.state.pictures.map((function(t,n){return r.a.createElement("div",{key:"pic-"+n},r.a.createElement("img",{className:"img-fluid",src:t.url,alt:"Slide "+n}),r.a.createElement(f.a.Check,{id:t.key,label:t.key.split("/").slice(-1)[0],onChange:function(t){return e.deleteFileChangeHandler(t,c,a.pictures.length)}}))}))),r.a.createElement(f.a.Group,{controlId:"pictures"},r.a.createElement(f.a.Label,null,"Add Images"),r.a.createElement("br",null),r.a.createElement("input",{onChange:function(t){return e.fileChangedHandler(t,c,a.pictures)},type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictureCount&&n.pictureCount?r.a.createElement("div",{className:"error-message"},n.pictureCount):null),r.a.createElement(y.a,{onClick:i},"Submit"))})))))}}]),a}(r.a.Component),va=(a(428),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).removeAlert=n.removeAlert.bind(Object(p.a)(n)),n.alertClass=n.alertClass.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"alertClass",value:function(e){var t={400:"alert-danger",300:"alert-warning",500:"alert-info",200:"alert-success"};return t[e]||t.success}},{key:"removeAlert",value:function(){re.dispatch({type:"REMOVE_ALERT"})}},{key:"render",value:function(){var e=this.props.alert,t=null;if((0!==Object.keys(e).length||e.constructor!==Object)&&""!==e.status){var a="alert ".concat(this.alertClass(e.status)," mb-0");t=r.a.createElement("div",{className:a},r.a.createElement("button",{className:"close",onClick:this.removeAlert},"\xd7"),e.statusText)}return r.a.createElement("div",{className:"alert-fixed"},t)}}]),a}(r.a.Component)),Ea=Object(N.b)((function(e){return{alert:e.alertReducer.alert}}))(va);var ga=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(Z,null),r.a.createElement(Ea,null),r.a.createElement("div",{className:"App-body"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:Ne}),r.a.createElement(i.b,{exact:!0,path:"/help",component:_e}),r.a.createElement(i.b,{exact:!0,path:"/about",component:_e}),r.a.createElement(i.b,{path:"/search",component:Fe}),r.a.createElement(i.b,{exact:!0,path:"/login",component:(e=B,function(a){Object(d.a)(s,a);var n=Object(h.a)(s);function s(e){var t;return Object(u.a)(this,s),(t=n.call(this,e)).state={loading:!0,redirect:!1},t}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/checkToken",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(t){200===t.status?e.setState({loading:!1,redirect:!0}):e.setState({loading:!1,redirect:!1})}))}},{key:"render",value:function(){var a=this.state,n=a.loading,s=a.redirect;return n?null:s?r.a.createElement(i.a,{to:"/"}):r.a.createElement(e,Object.assign({addAlertPassed:t},this.props))}}]),s}(n.Component))}),r.a.createElement(i.b,{exact:!0,path:"/logout",component:function(){at.a.remove("token"),at.a.remove("user"),re.dispatch({type:"USER_LOGOUT"}),window.location.href="/"}}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:A}),r.a.createElement(i.b,{path:"/users/edit/:user_id",component:qt(Ft)}),r.a.createElement(i.b,{path:"/users/:user_id/stores",component:qt(Kt)}),r.a.createElement(i.b,{path:"/users/:user_id",component:qt(zt)}),r.a.createElement(i.b,{exact:!0,path:"/storeCalendar",component:qt(It)}),r.a.createElement(i.b,{path:"/book/:store_id",component:ct}),r.a.createElement(i.b,{exact:!0,path:"/store/signup",component:qt(ft)}),r.a.createElement(i.b,{path:"/stores/edit/:store_id",component:qt(Bt)}),r.a.createElement(i.b,{path:"/stores/addService/:store_id",component:qt(ua)}),r.a.createElement(i.b,{path:"/stores/:store_id/services/:service_id/edit",component:qt(ha)}),r.a.createElement(i.b,{path:"/stores/:store_id/services/:service_id",component:qt(da)}),r.a.createElement(i.b,{path:"/stores/:store_id/services",component:qt(pa)}),r.a.createElement(i.b,{path:"/stores/addWorker/:store_id",component:qt(Qt)}),r.a.createElement(i.b,{path:"/stores/:store_id/workers/:worker_id/edit",component:qt(sa)}),r.a.createElement(i.b,{path:"/stores/:store_id/workers/:worker_id",component:qt(ca)}),r.a.createElement(i.b,{path:"/stores/:store_id/workers",component:qt(ea)}),r.a.createElement(i.b,{path:"/stores/:store_id",component:Wt})))));var e,t};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N.a,{store:re},r.a.createElement(ga,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[322,1,2]]]);
//# sourceMappingURL=main.e45b1567.chunk.js.map