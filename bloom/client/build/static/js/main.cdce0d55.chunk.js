(this.webpackJsonpbloom=this.webpackJsonpbloom||[]).push([[0],{101:function(e,t,a){},134:function(e,t,a){e.exports=a.p+"static/media/abstract-painting.4f80cf3e.jpg"},234:function(e,t){},252:function(e,t,a){},254:function(e,t){t.queryString=function(e){var t=Object.entries(e).filter((function(e){return void 0!==e[1]})).map((function(e){return e.filter((function(e){return null!==e})).map(encodeURIComponent).join("=")})).join("&");return t&&"?"+t}},255:function(e,t,a){},274:function(e,t,a){e.exports=a.p+"static/media/barber.d2f9dfa8.jpg"},275:function(e,t,a){e.exports=a.p+"static/media/facials.ed0b2cb9.jpg"},276:function(e,t,a){e.exports=a.p+"static/media/hair.d4215e0f.jpg"},277:function(e,t,a){e.exports=a.p+"static/media/lipstics2.6d47408d.jpg"},278:function(e,t,a){e.exports=a.p+"static/media/massage3.55e106f9.jpg"},279:function(e,t,a){e.exports=a.p+"static/media/nails3.81962b22.jpg"},280:function(e,t,a){e.exports=a.p+"static/media/salon.140a41f2.jpg"},281:function(e,t,a){e.exports=a.p+"static/media/paint_line.bb971069.png"},294:function(e,t,a){e.exports=a.p+"static/media/salon2.5edf0e42.jpeg"},295:function(e,t,a){e.exports=a.p+"static/media/hair_salon.5e677ff9.jpg"},308:function(e,t,a){e.exports=a(411)},312:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},341:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),o=a.n(s),l=(a(312),a(49)),i=a(74),c=a(31),u=a(19),m=a(17),p=a(20),d=a(21),h=a(35),v=a(22),E=(a(252),a(37)),g=a(24),f=a(10),y=a(6),b=a(48),k=a(12),M=a(30),C=a(262),w=a.n(C),H=a(263),S=a.n(H),T=a(235),_=a(134),j=a.n(_),x=a(65),N=a(62);var O=a(234);function I(e){return{type:"ADD_ALERT",message:e}}var D="http://bloom-490-dev.us-east-1.elasticbeanstalk.com";var W=function(e){console.log("Google Success: ",e.accessToken)},G=function(e){console.log("Google Failure:",e.error)},P=function(e){console.log("Facebook Success:",e.accessToken)},R=function(e){e.status&&console.log("Facebook Failure")},B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={email:"",password:"",message:{}},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.id,e.target.value))}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.props.history.push({pathname:"/"})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.loginUser(this.state.email,this.state.password,"")}},{key:"render",value:function(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement("img",{src:j.a,alt:"paint",style:{top:0,left:0,position:"absolute",height:"100%",width:"100%",filter:"grayscale(0.4)"}}),r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(y.a,{className:"formBody rounded container",style:{marginTop:80}},r.a.createElement("h3",null,"Login"),r.a.createElement(y.a.Group,{style:{marginTop:40,width:"65%",marginLeft:"17%"}},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(y.a.Control,{id:"email",type:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement(y.a.Group,{style:{width:"65%",marginLeft:"17%"}},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.i,null))),r.a.createElement(y.a.Control,{id:"password",type:"password",placeholder:"Password",onChange:this.handleChange}))),r.a.createElement(f.a,{xs:8,sm:8,md:8,lg:8,style:{marginLeft:"17%"}},r.a.createElement(b.a,{className:"login",type:"submit",variant:"primary",onClick:this.handleSubmit},"Login"),r.a.createElement("p",null,r.a.createElement("b",null," OR ")),r.a.createElement(w.a,{clientId:"127645252410-8tui8lsltfpdnumb5s1ha0ft6q6rl8m1.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:W,onFailure:G,cookiePolicy:"single_host_origin",render:function(e){return r.a.createElement("button",{onClick:e.onClick,style:{width:"100%",backgroundColor:"#db4a39",color:"white",paddingRight:"30px",marginBottom:"10px",height:"48px",fontSize:"14px"}}," ",r.a.createElement(T.b,{size:45,style:{paddingRight:"15px"}}),"Login with Google")}}),r.a.createElement(S.a,{appId:"877662889336104",fields:"name,email,picture",onFailure:R,xfbml:!0,cssClass:"facebookButton",icon:r.a.createElement(T.a,{size:45,style:{paddingRight:"15px"}}),callback:P}),r.a.createElement("p",null," Don't have a Bloom account yet? ",r.a.createElement(l.b,{to:"/signup",style:{color:"black"}},r.a.createElement("b",null," Sign Up. "))))))))}}]),t}(r.a.Component),A=Object(x.b)((function(e){return{user:e.userReducer.user}}),(function(e){return Object(N.b)({loginUser:function(e,t,a){return function(e,t,a){return function(a){fetch(D+"/login",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({email:e,password:t})}).then((function(e){if(a(I(e)),200===e.status)return console.log(e),e.json();a({type:"USER_LOGIN_FAILURE",error:e})})).then((function(e){if(e)return a({type:"USER_LOGIN_SUCCESS",user:e.user}),e}))}}(e,t)}},e)}))(B),q=(a(101),a(57)),F=a(29),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,a.emailRegExp=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/,a.yupValidationSchema=F.c().shape({first_name:F.e().min(2,"First name must have at least 2 characters").max(100,"First name can't be longer than 100 characters").required("First name is required"),last_name:F.e().min(2,"Last name must have at least 2 characters").max(100,"Last name can't be longer than 100 characters").required("Last name is required"),email:F.e().email("Must be a valid email address").max(100,"Email must be less than 100 characters").required("Email is required"),phone:F.e().matches(a.phoneRegExp,"Phone number is not valid"),password:F.e().min(6,"Password must have at least 6 characters").max(100,"Password can't be longer than 100 characters").required("Password required"),password_confirmation:F.e().oneOf([F.d("password")],"Passwords do not match").required("Password Confirmation required")}),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement("img",{src:j.a,alt:"paint",style:{top:0,left:0,position:"absolute",height:"100%",width:"100%",filter:"grayscale(0.4)"}}),r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{initialValues:{first_name:"",last_name:"",email:"",role:"0",phone:"",password:"",password_confirmation:""},validationSchema:this.yupValidationSchema,onSubmit:function(t){e.props.signUpUser(t)}},(function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,o=e.handleBlur,i=e.handleSubmit;return r.a.createElement(y.a,{className:"formBody rounded",style:{marginTop:80}},r.a.createElement("h3",{style:{marginBottom:40}},"Sign Up"),r.a.createElement(y.a.Group,{controlId:"formFirstName",className:"form"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(y.a.Control,{type:"text",name:"first_name",value:t.first_name,placeholder:"First Name",onChange:s,onBlur:o,className:n.first_name&&a.first_name?"error":null})),n.first_name&&a.first_name?r.a.createElement("div",{className:"error-message"},a.first_name):null),r.a.createElement(y.a.Group,{controlId:"formLastName",className:"form"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(y.a.Control,{type:"text",value:t.last_name,placeholder:"Last Name",name:"last_name",onChange:s,onBlur:o,className:n.last_name&&a.last_name?"error":null})),n.last_name&&a.last_name?r.a.createElement("div",{className:"error-message"},a.last_name):null),r.a.createElement(y.a.Group,{controlId:"formPhone",className:"form"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(y.a.Control,{type:"text",value:t.phone,placeholder:"Phone Number",name:"phone",onChange:s,onBlur:o,className:n.phone&&a.phone?"error":null})),n.phone&&a.phone?r.a.createElement("div",{className:"error-message"},a.phone):null),r.a.createElement(y.a.Group,{controlId:"formEmail",className:"form"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(y.a.Control,{type:"email",value:t.email,placeholder:"Email",name:"email",onChange:s,onBlur:o,className:n.email&&a.email?"error":null})),n.email&&a.email?r.a.createElement("div",{className:"error-message"},a.email):null),r.a.createElement(y.a.Group,{controlId:"formPassword",className:"form"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.j,null))),r.a.createElement(y.a.Control,{type:"password",value:t.password,placeholder:"Password",name:"password",onChange:s,onBlur:o,className:n.password&&a.password?"error":null})),n.password&&a.password?r.a.createElement("div",{className:"error-message"},a.password):null),r.a.createElement(y.a.Group,{controlId:"formPasswordConfirmation",className:"form"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.i,null))),r.a.createElement(y.a.Control,{type:"password",value:t.password_confirmation,placeholder:"Confirm Password",name:"password_confirmation",onChange:s,onBlur:o,className:n.password_confirmation&&a.password_confirmation?"error":null})),n.password_confirmation&&a.password_confirmation?r.a.createElement("div",{className:"error-message"},a.password_confirmation):null),r.a.createElement(b.a,{className:"signup",onClick:i},"Sign Up"),r.a.createElement("p",null," Already have a Bloom account? ",r.a.createElement(l.b,{to:"/login",style:{color:"black"}},r.a.createElement("b",null," Login. "))))})))))}}]),t}(r.a.Component),z=Object(x.b)(null,(function(e){return Object(N.b)({signUpUser:function(e){return function(e){return function(t){fetch(D+"/signUp",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){t(I(e)),200!==e.status?t(Object(O.failure)(e)):window.location.href="/"}))}}(e)}},e)}))(L),U=a(168),V=a(462),J=a(464),Y=(a(318),a(319),a(181)),Z=a(161),$=a(71),K=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSelectChange=function(e){a.setState({selectedCategory:e})},a.state={categories:[{value:"Nail Salon",label:"Nail Salon"},{value:"Hair Salon",label:"Hair Salon"},{value:"Facials",label:"Facials"},{value:"Barbershops",label:"Barbershops"}],selectedCategory:"",address:"",distance:1},a.autocomplete=null,a.handlePlaceSelect=a.handlePlaceSelect.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(){var e,t=(0,a(254).queryString)({address:(e=this.state).address,distance:e.distance,nails:e.nails,hair:e.hair});console.log("query is: ",t),this.props.history.push({pathname:"/search",search:t})}},{key:"handlePlaceSelect",value:function(){var e=this.autocomplete.getPlace().address_components.map((function(e){return e.long_name})).join(", ");this.setState({address:e})}},{key:"componentDidMount",value:function(){var e=window.google;this.autocomplete=new e.maps.places.Autocomplete(document.getElementById("autocomplete"),{}),this.autocomplete.addListener("place_changed",this.handlePlaceSelect)}},{key:"render",value:function(){return r.a.createElement(y.a,{inline:!0,className:"full-width"},r.a.createElement(y.a.Row,{className:"px-1 full-width"},r.a.createElement(f.a,{xs:12,md:6,className:"form-horizontal"},r.a.createElement(y.a.Group,{className:"full-width",controlId:"autocomplete"},r.a.createElement(k.a,{className:"not-auto"},r.a.createElement(y.a.Control,{className:"full-width",type:"text",placeholder:"Try 'New Haven, CT'",autoComplete:"new-password"}),r.a.createElement(k.a.Append,null,r.a.createElement(b.a,{variant:"secondary",onClick:this.handleSubmit,disabled:!this.state.address||""==this.state.selected},r.a.createElement(Z.a,null)))))),r.a.createElement(f.a,{xs:12,md:3},r.a.createElement(y.a.Group,{className:"full-width"},r.a.createElement($.a,{className:"full-width",value:this.state.selectedCategory,onChange:this.handleSelectChange,options:this.state.categories})))))}}]),t}(r.a.Component),X=Object(i.h)(K),Q=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=null;console.log(this.props.user);return r.a.createElement(J.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",fixed:"top"},r.a.createElement(l.b,{to:"/",className:"navbar-brand",style:{fontFamily:"Megrim, cursive",fontSize:"35px"}},"Bloom"),r.a.createElement(J.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(J.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(U.a,{className:"left",style:{marginRight:"120px"}},r.a.createElement(l.b,{to:"/help",className:"nav-link"},"Help"),r.a.createElement(l.b,{to:"/about",className:"nav-link"},"About")),r.a.createElement((function(a){return"/search"==Object(i.g)().pathname?r.a.createElement(U.a,{className:"full-width"},r.a.createElement(X,{className:"nav-link"})):null==e.props.user||0===Object.keys(e.props.user).length&&e.props.user.constructor===Object?(console.log(e.props.user),r.a.createElement(U.a,{className:"left"},r.a.createElement(l.b,{to:"/login",className:"nav-link"},"Login"),r.a.createElement(l.b,{to:"/signup",className:"nav-link"},"Signup"))):(console.log(e.props.user),t="0"!=e.props.user.role?r.a.createElement(V.a,{title:"Manage Stores",id:"basic-nav-dropdown"},r.a.createElement(V.a.Item,{href:"/users/"+e.props.user.id+"/stores"},"Dashboard"),r.a.createElement(V.a.Divider,null),r.a.createElement(V.a.Item,{href:"/store/signup"},"Create Store")):r.a.createElement(l.b,{to:"/store/signup",className:"nav-link"},"Create Store"),r.a.createElement(U.a,null,t,r.a.createElement(V.a,{title:"Profile",id:"basic-nav-dropdown"},r.a.createElement(V.a.Item,{href:"/users/"+e.props.user.id},"View"),r.a.createElement(V.a.Item,{href:"/users/edit/"+e.props.user.id},"Edit")),r.a.createElement(l.b,{to:"/users/this.props.user.id/appointments",className:"nav-link"},"My Appointments"),r.a.createElement(l.b,{style:{position:"absolute",right:60},to:"/logout",className:"nav-link"},"Logout")))}),null)))}}]),t}(r.a.Component),ee=Object(x.b)((function(e){return{user:e.userReducer.user}}))(Q),te=a(58),ae=(a(321),{user:{},error:{}});var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_FAILURE":return Object.assign({},e,{error:t.error});case"USER_LOGIN_SUCCESS":case"EDIT_USER_SUCCESS":return Object.assign({},e,{user:t.user});case"USER_LOGOUT":return Object.assign({},e,{user:{}});case"UPDATE_ROLE":var a=e.user;return a.role=t.role,Object.assign({},e,{user:a});default:return e}},re={alert:{}};var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return Object.assign({},e,{alert:t.message});case"REMOVE_ALERT":return Object.assign({},e,{alert:{}});default:return e}};function oe(e){return{type:"ADD_STORE",store:e}}var le={stores:[]};var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STORE":var a=e.stores;return a?a.push(t.store):a=[t.store],Object.assign({},e,{stores:a});default:return e}},ce=Object(N.c)({userReducer:ne,alertReducer:se,storeReducer:ie}),ue=a(273);var me=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),pe=Object(N.d)(ce,me,Object(N.a)(ue.a));pe.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(pe.getState())}));var de=pe,he=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={address:"",distance:1,nails:!1,hair:!1,redirect:!1},a.autocomplete=null,a.redirect=!1,a.handlePlaceSelect=a.handlePlaceSelect.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=window.google;this.autocomplete=new e.maps.places.Autocomplete(document.getElementById("autocomplete"),{}),this.autocomplete.addListener("place_changed",this.handlePlaceSelect)}},{key:"handlePlaceSelect",value:function(){var e=this.autocomplete.getPlace().address_components.map((function(e){return e.long_name})).join(", ");this.setState({address:e})}},{key:"handleChange",value:function(e){"checkbox"===e.target.type?this.setState(Object(c.a)({},e.target.id,!this.state[e.target.id])):this.setState(Object(c.a)({},e.target.id,parseInt(e.target.value)||e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=(0,a(254).queryString)(this.state),r="http://bloom-490-dev.us-east-1.elasticbeanstalk.com";console.log("environment is: ","production"),console.log("fetch prod is: ","http://bloom-490-dev.us-east-1.elasticbeanstalk.com"),console.log("fetch dev is: ","http://localhost:8081"),console.log("fetch domain is: ",r),fetch(r+"/stores"+n,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){if(e){var a=t.state;a.stores=e,a.redirect=!0,a.center={lat:"34.277639",lng:"-118.3741806"},t.props.history.push({pathname:"/search",search:n,state:a})}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"book_window"},r.a.createElement(y.a,{className:"formBody rounded",onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Book Now"),r.a.createElement(y.a.Group,{controlId:"autocomplete"},r.a.createElement(g.a,null,r.a.createElement(y.a.Label,null,"Address"),r.a.createElement(y.a.Control,{type:"text",placeholder:"Try 'New Haven, CT'",autoComplete:"new-password"}))),r.a.createElement(y.a.Group,null,r.a.createElement(g.a,null,r.a.createElement(y.a.Label,null,"Distance"),r.a.createElement(y.a.Control,{as:"select",id:"distance",onChange:this.handleChange},r.a.createElement("option",null,"1 mile"),r.a.createElement("option",null,"5 miles"),r.a.createElement("option",null,"10 miles"),r.a.createElement("option",null,"25 miles"),r.a.createElement("option",null,"50 miles")))),r.a.createElement(y.a.Group,{controlId:"category"},r.a.createElement(g.a,null,r.a.createElement(y.a.Label,null,"Category"),r.a.createElement(y.a.Check,{style:{marginLeft:30},id:"nails",label:"Nails",onChange:this.handleChange}),r.a.createElement(y.a.Check,{style:{marginLeft:10},id:"hair",label:"Hair",onChange:this.handleChange}))),r.a.createElement(b.a,{style:{backgroundColor:"#8CAFCB",border:"0px"},type:"submit"},"Submit")))}}]),t}(r.a.Component),ve=Object(i.h)(he),Ee=(a(255),a(274)),ge=a.n(Ee),fe=a(275),ye=a.n(fe),be=a(276),ke=a.n(be),Me=a(277),Ce=a.n(Me),we=a(278),He=a.n(we),Se=a(279),Te=a.n(Se),_e=a(280),je=a.n(_e),xe=a(281),Ne=a.n(xe),Oe=a(211),Ie=a.n(Oe),De=a(282),We=a.n(De),Ge=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"image_container",style:this.props.style},r.a.createElement("img",{src:this.props.img,alt:"paint",className:"images"}),r.a.createElement("p",{className:"text"}," ",this.props.text," "))}}]),t}(r.a.Component);function Pe(e){e.listen;return(0,e.children)(function(){var e=Object(n.useState)({xys:[0,0,1]}),t=Object(te.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){var e,t=!0;return t&&(e=function(e){return r({xys:(t=e.clientX,a=e.clientY,[-(a-window.innerHeight/2)/20,(t-window.innerWidth/2)/80,1.04])});var t,a},function(e){return r({xys:[0,0,1]})},window.addEventListener("mousemove",e)),function(){t=!1,window.removeEventListener("mousemove",e)}}));var s=Object(n.useState)(window.innerWidth),o=Object(te.a)(s,2),l=(o[0],o[1]);return Object(n.useEffect)((function(){var e,t=!0;return t&&(e=function(){l(window.innerWidth)},window.addEventListener("resize",e)),function(){t=!1,window.removeEventListener("resize",e)}})),a}())}var Re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={Visible:!1},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(Pe,null,(function(e){return r.a.createElement("img",{src:j.a,alt:"paint",style:{top:80,left:0,position:"absolute",height:"700px",width:"100%",transform:"perspective(600px) rotateX(".concat(e.xys[0]/10,"deg) rotateY(").concat(e.xys[1]/10,"deg) scale(").concat(e.xys[2],")")}})}))),r.a.createElement("div",{className:"search"},r.a.createElement(g.a,null,r.a.createElement(ve,null),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("p",{className:"welcome"}," Welcome to "),r.a.createElement("p",{className:"bloom"}," Bloom ")),r.a.createElement("p",{className:"subtitle"}," A platform that helps you find salons, beauty experts and stylists that are located near your house and will soon become your favorite salons. ETC ETC We can change that later. ")))),r.a.createElement("div",{style:{position:"absolute",height:"1000px",marginTop:"80px",alignItem:"center"}},r.a.createElement("div",{className:"type_container"},r.a.createElement(We.a,{onChange:function(t){e.setState({Visible:t})},active:!this.state.Visible},r.a.createElement("p",{style:{fontSize:25,fontFamily:"Bellota, cursive",fontWeight:"bold"}}," At Bloom ")),r.a.createElement("div",null,this.state.Visible?r.a.createElement(Ie.a,{className:"typist",avgTypingDelay:100,startDelay:10,cursor:{show:!0,blink:!0,element:"|"}},"You can find hair salons.",r.a.createElement(Ie.a.Backspace,{count:12,delay:200}),r.a.createElement("span",null," nail salons."),r.a.createElement(Ie.a.Backspace,{count:12,delay:200}),r.a.createElement("span",null," beauty salons and more.")):null)),r.a.createElement("div",{className:"cards"},r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(Ge,{style:{marginLeft:-105},img:ke.a,text:"Hair Salons"}),r.a.createElement(Ge,{img:Ce.a,text:"Makeup Artists"}),r.a.createElement(Ge,{img:ge.a,text:"Barber Shops"})),r.a.createElement(g.a,null,r.a.createElement(Ge,{style:{marginLeft:-105},img:Te.a,text:"Nail Salons"}),r.a.createElement(Ge,{img:ye.a,text:"Facials"}),r.a.createElement(Ge,{img:He.a,text:"Spa"}))))),r.a.createElement("div",{className:"salon_container",style:{width:"1500px",height:"800px",marginLeft:-200,marginTop:"1400px",backgroundColor:"#bdcddb"}},r.a.createElement(g.a,null,r.a.createElement("img",{src:Ne.a,className:"paint_line",alt:"paint"}),r.a.createElement(f.a,{className:"salon_text"},r.a.createElement("p",{className:"header"}," Are you a salon owner? "),r.a.createElement("p",{style:{fontSize:20}}," Join our community by signing up your salon today! Join our community by signing up your salon today. Join our community by signing up your salon today. Join our community by signing up your salon today. Join our community by signing up your salon today. ")),r.a.createElement("img",{src:je.a,className:"salon",alt:"paint"}))))}}]),t}(r.a.Component),Be=(a(322),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"backStuff"},r.a.createElement("br",null),r.a.createElement("div",{className:"body justify-content-center"},r.a.createElement("h1",null,"Help/About"),r.a.createElement("div",null,r.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum"))))}}]),t}(r.a.Component)),Ae=a(33),qe=a.n(Ae),Fe=a(40),Le=a(133),ze=(a(324),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Le.a,{style:this.props.style,interval:""},this.props.pictures.map((function(t,a){return r.a.createElement(Le.a.Item,{key:"pic-"+a},r.a.createElement("img",{style:e.props.img,src:t.url,alt:"Slide "+a}))})))}}]),t}(r.a.Component)),Ue=a(66),Ve=a(283),Je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={pictures:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({pictures:[{url:"/hair.jpg",key:"/hair.jpg"},{url:"/nails.jpg",key:"/nails.jpg"},{url:"/salon.jpg",key:"/salon.jpg"}]});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{xs:12,className:"my-3 px-0 h-100"},r.a.createElement(Ue.a,{style:{height:"100%"}},r.a.createElement(g.a,{style:{height:"100%"}},r.a.createElement(f.a,{md:6,className:"vertical-align-contents px-0 h-100 w-100"},r.a.createElement(Le.a,{interval:""},this.state.pictures.map((function(e,t){return r.a.createElement(Le.a.Item,{key:"pic-"+t},r.a.createElement(Ve.a,{fluid:!0,src:e.url,alt:"Slide "+t}))})))),r.a.createElement(f.a,{md:6,className:"vertical-align-contents px-0 h-100"},r.a.createElement(Ue.a.Body,null,r.a.createElement("div",null,r.a.createElement(Ue.a.Title,{onClick:function(){return e.props.onClickFunctionStore(e.props.store.id)},style:{cursor:"pointer"}},this.props.store.name),r.a.createElement(Ue.a.Text,{className:"mb-3"},this.props.store.description)),r.a.createElement(b.a,{style:{backgroundColor:"#8CAFCA",border:0},onClick:function(){return e.props.onClickFunctionBook(e.props.store.id)}},"Book Now"))))))}}]),t}(r.a.Component),Ye=(a(325),a(212)),Ze=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,activeMarkerIndex:t.id})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},activeMarkerIndex:-1},a.onMarkerClick=a.onMarkerClick.bind(Object(h.a)(a)),a.onClose=a.onClose.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"displayMarkers",value:function(){var e=this;return this.props.stores.map((function(t,a){return r.a.createElement(Ye.Marker,{key:"store-"+a,id:a,position:{lat:t.lat,lng:t.lng},onClick:e.onMarkerClick,name:t.name})}))}},{key:"onClickFunction",value:function(e){console.log("Here1")}},{key:"componentDidUpdate",value:function(e,t){this.props}},{key:"render",value:function(){return r.a.createElement(Ye.Map,{google:this.props.google,zoom:this.props.zoom,style:this.props.mapStyles,initialCenter:this.props.center},this.displayMarkers(),r.a.createElement(Ye.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement(Je,{store:this.props.stores[this.state.activeMarkerIndex],styleVal:{width:"10rem",height:"10rem"},onClickFunction:this.onClickFunction})))}}]),t}(n.Component),$e=a(145),Ke=function(e){return r.a.createElement($e.a,Object.assign({speed:2,width:600,height:700,viewBox:"0 0 700 750",backgroundColor:"#f5f5f5",foregroundColor:"#dbdbdb"},e),r.a.createElement("rect",{x:"4",y:"0",rx:"3",ry:"3",width:"122",height:"26"}),r.a.createElement("rect",{x:"4",y:"68",rx:"3",ry:"3",width:"7",height:"330"}),r.a.createElement("rect",{x:"6",y:"390",rx:"3",ry:"3",width:"639",height:"8"}),r.a.createElement("rect",{x:"640",y:"68",rx:"3",ry:"3",width:"6",height:"330"}),r.a.createElement("rect",{x:"4",y:"70",rx:"3",ry:"3",width:"295",height:"325"}),r.a.createElement("rect",{x:"346",y:"101",rx:"3",ry:"3",width:"231",height:"29"}),r.a.createElement("rect",{x:"382",y:"183",rx:"3",ry:"3",width:"102",height:"7"}),r.a.createElement("rect",{x:"372",y:"151",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"375",y:"199",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"386",y:"222",rx:"3",ry:"3",width:"102",height:"7"}),r.a.createElement("rect",{x:"375",y:"249",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"386",y:"273",rx:"3",ry:"3",width:"102",height:"7"}),r.a.createElement("rect",{x:"375",y:"300",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"5",y:"68",rx:"3",ry:"3",width:"639",height:"7"}),r.a.createElement("rect",{x:"4",y:"350",rx:"3",ry:"3",width:"122",height:"26"}),r.a.createElement("rect",{x:"4",y:"418",rx:"3",ry:"3",width:"7",height:"330"}),r.a.createElement("rect",{x:"6",y:"740",rx:"3",ry:"3",width:"639",height:"8"}),r.a.createElement("rect",{x:"640",y:"418",rx:"3",ry:"3",width:"6",height:"330"}),r.a.createElement("rect",{x:"4",y:"420",rx:"3",ry:"3",width:"295",height:"325"}),r.a.createElement("rect",{x:"346",y:"451",rx:"3",ry:"3",width:"231",height:"29"}),r.a.createElement("rect",{x:"382",y:"533",rx:"3",ry:"3",width:"102",height:"7"}),r.a.createElement("rect",{x:"372",y:"501",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"375",y:"549",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"386",y:"572",rx:"3",ry:"3",width:"102",height:"7"}),r.a.createElement("rect",{x:"375",y:"599",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"386",y:"623",rx:"3",ry:"3",width:"102",height:"7"}),r.a.createElement("rect",{x:"375",y:"650",rx:"3",ry:"3",width:"178",height:"6"}),r.a.createElement("rect",{x:"5",y:"418",rx:"3",ry:"3",width:"639",height:"7"}))},Xe=function(){return r.a.createElement($e.a,{speed:2,width:"100%",height:"100%",viewBox:"0 0 600 1300",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},r.a.createElement("rect",{x:"5",y:"20",rx:"0",ry:"0",width:"222",height:"50"}),r.a.createElement("rect",{x:"5",y:"103",rx:"0",ry:"0",width:"5",height:"800"}),r.a.createElement("rect",{x:"5",y:"103",rx:"0",ry:"0",width:"580",height:"5"}),r.a.createElement("rect",{x:"585",y:"103",rx:"0",ry:"0",width:"5",height:"800"}),r.a.createElement("rect",{x:"5",y:"900",rx:"0",ry:"0",width:"580",height:"5"}),r.a.createElement("rect",{x:"5",y:"103",rx:"0",ry:"0",width:"580",height:"450"}),r.a.createElement("rect",{x:"55",y:"603",rx:"0",ry:"0",width:"480",height:"40"}),r.a.createElement("rect",{x:"55",y:"663",rx:"0",ry:"0",width:"480",height:"20"}),r.a.createElement("rect",{x:"70",y:"703",rx:"0",ry:"0",width:"450",height:"20"}),r.a.createElement("rect",{x:"55",y:"743",rx:"0",ry:"0",width:"480",height:"20"}),r.a.createElement("rect",{x:"250",y:"803",rx:"0",ry:"0",width:"100",height:"50"}))},Qe=function(e){function t(e){var a,n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state=(a={stores:[],center:{lat:0,lng:0},zoom:11,mapStyles:{width:"100%",height:"100%"}},Object(c.a)(a,"center",{lat:"",lng:""}),Object(c.a)(a,"category",["Nail Salon","Hair Salon","Facials","Barbershops"]),Object(c.a)(a,"selected",[]),Object(c.a)(a,"address",""),Object(c.a)(a,"distance",1),Object(c.a)(a,"loading",!0),a),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){if(console.log("this things props are: ",this.props),this.props.location.state&&this.props.location.state.stores&&this.props.location.state.center)this.setState({stores:this.props.location.state.stores,center:this.props.location.state.center});else{console.log("about to get results");var e=window.location.href.split("search"),t="";e.length>1&&(t=e[1]),this.getResults(t)}}},{key:"componentDidUpdate",value:function(e){this.props.location&&this.props.location.search!==e.location.search&&this.getResults(this.props.location.search)}},{key:"getResults",value:function(e){var t=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores"+e,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();console.log("ERROR!")})).then((function(e){e&&t.setState({stores:e,center:{lat:e[0].lat,lng:e[0].lng},loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(t){return e.state.stores.map((function(e){return r.a.createElement(Je,{key:"store-"+e.id,store:e,onClickFunctionBook:function(){return window.location.href="/book/"+e.id},onClickFunctionStore:function(){return window.location.href="/stores/"+e.id}})}))},a=null;return this.state.stores.length>0&&(a=r.a.createElement(Ze,{google:window.google,stores:this.state.stores,center:this.state.center,zoom:this.state.zoom,mapStyles:this.state.mapStyles})),r.a.createElement("div",null,r.a.createElement(g.a,{className:"restrict-viewport mx-0"},r.a.createElement(f.a,{xs:12,xl:6,className:"px-5 my-3 h-100"},r.a.createElement((function(a){return e.state.loading?r.a.createElement(g.a,null,r.a.createElement(f.a,{xs:"12"},r.a.createElement(Ke,{className:"d-none d-md-block"}),r.a.createElement(Xe,{className:"d-block d-md-none"}))):r.a.createElement("div",null,r.a.createElement("h3",{className:"text-left"}," ",e.state.stores.length," results "),r.a.createElement(g.a,{className:"mx-0 justify-content-center search-cards-row"},r.a.createElement(t,null)))}),null)),r.a.createElement(f.a,{id:"map",xs:12,xl:6},r.a.createElement("div",{className:"position-fixed h-100 w-50 d-none d-xl-block"},a))))}}]),t}(r.a.Component),et=a(38),tt=a(54),at=(a(338),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={categories:["Nails","Hair","Makeup","Eyelashes","Eyebrows","Facials","Skin Care"]},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=this.props.services.find((function(t){return t.name===e.target.id}));this.props.selectedServices.find((function(e){return e.name===t.name}))?this.props.updateReservation(!0,t):this.props.updateReservation(!1,t),this.setState(Object(c.a)({},e.target.id,!this.state[e.target.id]))}},{key:"render",value:function(){var e=this;return r.a.createElement(Ue.a,{className:"py-3"},r.a.createElement("h3",null,"Select Services"),r.a.createElement(g.a,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement((function(t){return t.services?t.categories.map((function(a){return r.a.createElement("div",{id:a,key:a,className:"pl-4"},r.a.createElement("h4",null,a),t.services.map((function(t){if(t.category==a)return r.a.createElement("div",{key:t.name},r.a.createElement(g.a,null,r.a.createElement(f.a,{xs:"8",sm:"10"},r.a.createElement(y.a.Check,{custom:!0,type:"checkbox",id:t.name,label:t.name,checked:e.props.selectedServices.find((function(e){return e.name===t.name})),onChange:e.handleChange,className:"formCustom"})),r.a.createElement(f.a,{xs:"4",sm:"2"},r.a.createElement("h5",{className:"pt-2 text-center"},"$",t.cost.toFixed(2)))))})))})):null}),{categories:this.state.categories,services:this.props.services}))),r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{md:"3"},r.a.createElement(b.a,{block:!0,onClick:this.props.handleSubmit},"Next"))))}}]),t}(r.a.Component)),nt=(a(339),a(220)),rt=a(284),st=a.n(rt),ot=(a(340),a(341),a(55)),lt=a.n(ot),it=a(25);function ct(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ct=function(){return e},e}var ut=Object(it.css)(ct()),mt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleDateChange=function(e){e.getMonth()!=a.state.startDate.getMonth()&&(a.setState({loading:!0}),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+a.props.store_id+"/appointments/month/"+(parseInt(e.getMonth())+1),{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){var n=t.map((function(e){return e.date=new Date(e.date),e}));a.setState({appointments:n,currDate:e,startDate:e,loading:!1})}))),a.setState({currDate:e})},a.handleSelectChange=function(e){a.setState({selectedTime:parseInt(e.target.value)})},a.handleSlotClick=function(e){a.props.updateAppointments(e),a.props.handleSubmit()},a.state={startDate:new Date,currDate:new Date,selectedTime:540,loading:!0,appointments:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.store_id+"/appointments/month/"+(parseInt(this.state.startDate.getMonth())+1),{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){var a=t.map((function(e){return e.date=new Date(e.date),e}));e.setState({appointments:a,loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(){for(var t=[],a=[],n=function(n){for(var s=n,o=!1,l=[],i=e.props.workersSchedules.filter((function(t){return t.day_of_the_week==e.state.currDate.getDay()})),c=!0,u=s,m=0,p=0,d=function(){var t=!0,a=e.props.selectedServices[p],n=i[m].worker_id;if(i[m].start_time>u||i[m].end_time<u+a.duration)t=!1;else for(var r=e.state.appointments.filter((function(t){return t.worker_id==n&&t.date.setHours(0,0,0,0)==e.state.currDate.setHours(0,0,0,0)})),s=0;s<r.length;s++)if(u>=r[s].start_time&&u<=r[s].end_time||u+a.duration>=r[s].start_time&&u+a.duration<=r[s].end_time){t=!1;break}t?(l.push({worker_id:n,service_id:a.id,start_time:u,end_time:u+a.duration,price:a.cost,date:e.state.startDate}),u+=a.duration,m=0,(p+=1)==e.props.selectedServices.length&&(o=!0)):m+1<i.length?m+=1:c=!1};c&&!o;)d();o&&(a.push(l),t.push(r.a.createElement(b.a,{className:"mt-3 mx-2",key:n,onClick:function(){return e.handleSlotClick(l)}},e.convertMinsToHrsMins(n))))},s=e.state.selectedTime;s<e.state.selectedTime+120&&s+e.props.time<=e.props.storeHours[e.state.currDate.getDay()].close_time;s+=15)n(s);return 0==t.length?r.a.createElement("h1",null,"No available appointments"):t};return r.a.createElement(Ue.a,{text:"dark",className:"mt-0 py-3"},r.a.createElement("div",{id:"date-selection-form"},r.a.createElement("h3",null,"Select Appointment Time"),r.a.createElement(Ue.a.Body,{className:"pt-0"},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:"11",md:"6",className:"mt-3"},r.a.createElement("div",{className:"customDatePickerWidth"},r.a.createElement(st.a,{className:"form-control",selected:this.state.currDate,onChange:this.handleDateChange,minDate:new Date}))),r.a.createElement(f.a,{xs:"11",md:"6",className:"mt-3"},r.a.createElement(y.a,null,r.a.createElement(y.a.Control,{as:"select",value:this.state.selectedTime,onChange:this.handleSelectChange.bind(this)},r.a.createElement((function(t){for(var a=[],n=e.props.storeHours[e.state.startDate.getDay()].open_time;n+e.props.time<=e.props.storeHours[e.state.startDate.getDay()].close_time;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a}),{date:this.state.startDate}))))),r.a.createElement((function(a){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:ut,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(g.a,{className:"justify-content-center text-xs-center text-sm-left pl-2"},r.a.createElement(f.a,{xs:"12",md:"11",className:"px-1"},r.a.createElement(t,null)))}),null))))}}]),t}(r.a.Component),pt=(a(402),a(61)),dt=a.n(pt);function ht(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ht=function(){return e},e}var vt=Object(it.css)(ht()),Et=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={firstName:"",lastName:"",phone:"",email:"",user_id:-1},a.triggerAppointmentDisplay=a.triggerAppointmentDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerAppointmentDisplay",value:function(e){this.props.history.push({pathname:"/appointments/"+e,state:{appointmentGroupId:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){if(dt.a.get("user")){var e=JSON.parse(dt.a.get("user").substring(2));this.setState({firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,user_id:e.id})}}},{key:"render",value:function(){var e=this;return r.a.createElement((function(t){return e.state.loading?r.a.createElement(Ue.a,{text:"dark",className:"mt-0 py-3"},r.a.createElement(Ue.a.Body,{className:"pt-0"},r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:vt,size:20,color:"#2196f3",loading:e.state.isLoading}))))):r.a.createElement(Ue.a,{text:"dark",className:"mt-0 py-3",id:"date-selection-form"},r.a.createElement(Ue.a.Title,null,"Book Appointment"),r.a.createElement(Ue.a.Body,{className:"pt-0"},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(q.a,{initialValues:{firstName:e.state.firstName,lastName:e.state.lastName,phone:e.state.phone,email:e.state.email,user_id:e.state.user_id},onSubmit:function(t){t.appointments=e.props.appointments;var a=e.triggerAppointmentDisplay;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+e.props.store_id+"/appointments/new",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then(function(){var e=Object(Fe.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&a(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},(function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,o=e.handleBlur,l=e.handleSubmit;e.setFieldValue;return r.a.createElement(y.a,{className:"form-style"},r.a.createElement(y.a.Group,{controlId:"formFirstName"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(y.a.Control,{type:"text",name:"firstName",value:t.firstName,placeholder:"First Name",onChange:s,onBlur:o,className:n.firstName&&a.firstName?"error":null})),n.firstName&&a.firstName?r.a.createElement("div",{className:"error-message"},a.firstName):null),r.a.createElement(y.a.Group,{controlId:"formLastName"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(y.a.Control,{type:"text",name:"lastName",value:t.lastName,placeholder:"Last Name",onChange:s,onBlur:o,className:n.lastName&&a.lastName?"error":null})),n.lastName&&a.lastName?r.a.createElement("div",{className:"error-message"},a.lastName):null),r.a.createElement(y.a.Group,{controlId:"formPhone"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(y.a.Control,{type:"text",value:t.phone,placeholder:"Phone Number",name:"phone",onChange:s,onBlur:o,className:n.phone&&a.phone?"error":null})),n.phone&&a.phone?r.a.createElement("div",{className:"error-message"},a.phone):null),r.a.createElement(y.a.Group,{controlId:"formEmail"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(y.a.Control,{type:"email",value:t.email,placeholder:"Email",name:"email",onChange:s,onBlur:o,className:n.email&&a.email?"error":null})),n.email&&a.email?r.a.createElement("div",{className:"error-message"},a.email):null),r.a.createElement(b.a,{onClick:l},"Submit"))})))))}),null)}}]),t}(r.a.Component);function gt(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return gt=function(){return e},e}var ft="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",yt=Object(it.css)(gt()),bt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateReservation=function(e,t){e?(a.setState({time:a.state.time-t.duration}),a.setState({total:a.state.total-t.cost}),a.setState({selectedServices:a.state.selectedServices.filter((function(e){return t.id!==e.id}))})):(a.setState({time:a.state.time+t.duration}),a.setState({total:a.state.total+t.cost}),a.setState({selectedServices:[].concat(Object(et.a)(a.state.selectedServices),[t])}))},a.backStep=function(e){var t=a.state.currentStep-1;a.setState({currentStep:t})},a.handleSubmit=function(){if(a.state.currentStep<4){var e=a.state.currentStep+1;a.setState({currentStep:e})}else alert(JSON.stringify(a.state))},a.updateAppointments=function(e){a.setState({appointments:e})},a.pluralize=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s",n=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s";return[1,-1].includes(Number(e))?t:a};return"object"===typeof e?function(t,a){return n(t,a,e[a])}:n(e,t,a)},a.timeConvert=function(e){var t=e/60,n=Math.floor(t),r=60*(t-n),s=Math.round(r);return n+" "+a.pluralize(n,"hour")+" and "+s+" "+a.pluralize(s,"minute")},a.prefetchSchedules=function(){Promise.all([fetch(ft+"/stores/"+a.props.match.params.store_id+"/workers/schedules",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(ft+"/stores/"+a.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(e){a.setState({storeHours:e[1],workersSchedules:e[0]})}))},a.state={storeName:null,total:0,time:0,currentStep:1,selectedServices:[],services:[],loading:!0,workers:[],workersSchedules:[],storeHours:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch(ft+"/stores/"+this.props.match.params.store_id+"/services",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(ft+"/stores/"+this.props.match.params.store_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[0],n=t[1];e.setState({services:a,storeName:n.name,workers:n.workers,loading:!1})})),this.prefetchSchedules()}},{key:"render",value:function(){var e=this,t=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{noGutters:!0,className:"pt-3 pb-0"},r.a.createElement(f.a,{xs:"1"},r.a.createElement((function(t){return 1==e.state.currentStep?null:r.a.createElement(M.a,{size:"2em",className:"pt-2 pr-2",onClick:e.backStep})}),null)),r.a.createElement(f.a,{xs:"11",className:"text-left"},r.a.createElement("h2",null,"Step ",this.state.currentStep))),r.a.createElement(g.a,null,r.a.createElement(f.a,{xs:12,lg:8,className:"largeMarginBottom"},r.a.createElement((function(t){return e.state.loading?r.a.createElement(Ue.a,{className:"fullHeight"},r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:yt,size:20,color:"#2196f3",loading:e.state.loading})))):1==e.state.currentStep?r.a.createElement(at,{services:e.state.services,updateReservation:e.updateReservation,selectedServices:e.state.selectedServices,time:e.state.time,total:e.state.total,handleSubmit:e.handleSubmit,timeConvert:e.timeConvert,pluralize:e.pluralize}):2==e.state.currentStep?r.a.createElement(mt,{time:e.state.time,store_id:e.props.match.params.store_id,selectedServices:e.state.selectedServices,storeHours:e.state.storeHours,workersSchedules:e.state.workersSchedules,handleSubmit:e.handleSubmit,updateAppointments:e.updateAppointments}):r.a.createElement(Et,{appointments:e.state.appointments,store_id:e.props.match.params.store_id,history:e.props.history})}),null)),r.a.createElement(f.a,{xs:12,lg:4,className:"d-none d-lg-block"},r.a.createElement(Ue.a,{text:"dark",className:"shoppingCart mt-0"},r.a.createElement(Ue.a.Header,null,"Shopping Cart"),r.a.createElement(Ue.a.Body,{className:"pt-0"},r.a.createElement(g.a,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement((function(e){if(e.services){var a=e.services.map((function(e){return r.a.createElement(nt.a.Item,{variant:"light",key:e.name},r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:7},r.a.createElement(g.a,null,e.name),r.a.createElement(g.a,{className:"smallText"},e.duration," ",t.pluralize(e.duration,"minute"))),r.a.createElement(f.a,{lg:5},r.a.createElement("div",{className:"float-right"},"$",e.cost.toFixed(2)))))}));return r.a.createElement(nt.a,{variant:"flush"},a)}return null}),{services:this.state.selectedServices}))),r.a.createElement("h2",null,"Total: $",this.state.total.toFixed(2)),r.a.createElement("h2",null,"Time: ",this.state.time," minutes")))),r.a.createElement(f.a,{xs:12,className:"d-lg-none shoppingCartSmall px-0"},r.a.createElement(Ue.a,{bg:"light",text:"dark"},r.a.createElement(Ue.a.Header,{className:"py-1"},"Shopping Cart"),r.a.createElement(Ue.a.Body,{className:"smallPadding"},r.a.createElement("h6",null,this.state.selectedServices.length," Selected ",this.pluralize(this.state.selectedServices.length,"Service")),r.a.createElement("h6",null,"Total: $",this.state.total.toFixed(2)),r.a.createElement("h6",null,"Time: ",this.timeConvert(this.state.time)))))))}}]),t}(r.a.Component),kt="http://bloom-490-dev.us-east-1.elasticbeanstalk.com";function Mt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(Fe.a)(qe.a.mark((function e(t){var a,n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(kt+"/getImages",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({prefix:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(Fe.a)(qe.a.mark((function e(t,a){var n,r,s,o,l,i;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<a.length)){e.next=17;break}return r=new Date,s="_"+r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),o={fileName:t+a[n].name+s,fileType:a[n].type},e.next=7,fetch(kt+"/getPresignedUrl/",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(o)});case 7:return l=e.sent,e.next=10,l.json();case 10:return i=e.sent,e.next=13,fetch(i,{method:"PUT",headers:{"Content-type":a[n].type},body:a[n]});case 13:e.sent;case 14:n++,e.next=1;break;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(Fe.a)(qe.a.mark((function e(t){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(kt+"/deleteImages/",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({keys:t})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _t=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSelectChange=function(e){var t=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),n=[];n="0"==e.target.querySelector("option").value?[].concat(Object(et.a)(a.state.storeHours.slice(0,t)),[{open_time:parseInt(e.target.value),close_time:a.state.storeHours[t].close_time}],Object(et.a)(a.state.storeHours.slice(t+1))):[].concat(Object(et.a)(a.state.storeHours.slice(0,t)),[{open_time:a.state.storeHours[t].open_time,close_time:parseInt(e.target.value)}],Object(et.a)(a.state.storeHours.slice(t+1))),a.setState({storeHours:n})},a.fileChangedHandler=function(e){a.setState({selectedFiles:e.target.files})},a.state={selectedFiles:null,storeHours:[{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020},{open_time:540,close_time:1020}]},a.options=[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"},{value:"makeup",label:"Makeup"},{value:"eyelashes",label:"Eyelashes"},{value:"eyelash extensions",label:"Eyelash Extensions"},{value:"eyebrows",label:"Eyebrows"},{value:"facials",label:"Facials"},{value:"skincare",label:"Skin Care"},{value:"waxing",label:"Waxing"},{value:"mens",label:"Mens Services"}],a.phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,a.yupValidationSchema=F.c().shape({name:F.e().min(2,"Store name must have at least 2 characters").max(100,"Store name can't be longer than 100 characters").required("Name is required"),description:F.e().min(20,"Description must have at least 20 characters").required("Description is required"),phone:F.e().matches(a.phoneRegExp,"Phone number is not valid").required("Phone number is required"),street:F.e().min(6,"Street must have at least 6 characters").max(100,"Street can't be longer than 100 characters").required("Street is required"),city:F.e().min(2,"City must have at least 2 characters").max(40,"City can't be longer than 40 characters").required("City is required"),state:F.e().min(2,"State must have at least 2 characters").max(12,"State can't be longer than 12 characters").required("State is required"),zipcode:F.e().max(20,"Zipcode can't be longer than 100 characters").required("Zipcode is required"),category:F.a().required("Category is required").nullable()}),a.triggerStoreDisplay=a.triggerStoreDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerStoreDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+e.id,state:{store:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{initialValues:{name:"",description:"",phone:"",street:"",city:"",state:"",zipcode:"",category:[],owner_id:""},validationSchema:this.yupValidationSchema,onSubmit:function(t){t.category=t.category.map((function(e){return e.label})),t.owner_id=[JSON.parse(dt.a.get("user").substring(2)).id],t.storeHours=e.state.storeHours;var a=e.triggerStoreDisplay;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/addStore",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then(function(){var t=Object(Fe.a)(qe.a.mark((function t(n){var r;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}if(r="stores/"+n.id+"/images/",!e.state.selectedFiles){t.next=5;break}return t.next=5,wt(r,e.state.selectedFiles);case 5:e.props.updateRole(1),e.props.addStore(n),a(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(y.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Store Sign Up"),r.a.createElement(y.a.Group,{controlId:"formName"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.n,null))),r.a.createElement(y.a.Control,{type:"text",name:"name",value:a.name,placeholder:"Business Name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(y.a.Group,{controlId:"formDescription"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(y.a.Control,{as:"textarea",rows:3,name:"description",value:a.description,placeholder:"Description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(y.a.Group,{controlId:"formPhone"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(y.a.Control,{type:"text",value:a.phone,placeholder:"Phone Number",name:"phone",onChange:o,onBlur:l,className:s.phone&&n.phone?"error":null})),s.phone&&n.phone?r.a.createElement("div",{className:"error-message"},n.phone):null),r.a.createElement(y.a.Group,{controlId:"formStreet"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.m,null))),r.a.createElement(y.a.Control,{type:"text",value:a.street,placeholder:"Street",name:"street",onChange:o,onBlur:l,className:s.street&&n.street?"error":null})),s.street&&n.street?r.a.createElement("div",{className:"error-message"},n.street):null),r.a.createElement(y.a.Group,{controlId:"formCity"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.b,null))),r.a.createElement(y.a.Control,{type:"text",value:a.city,placeholder:"City",name:"city",onChange:o,onBlur:l,className:s.city&&n.city?"error":null})),s.city&&n.city?r.a.createElement("div",{className:"error-message"},n.city):null),r.a.createElement(y.a.Group,{controlId:"formState"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.o,null))),r.a.createElement(y.a.Control,{value:a.state,placeholder:"State",name:"state",onChange:o,onBlur:l,className:s.state&&n.state?"error":null})),s.state&&n.state?r.a.createElement("div",{className:"error-message"},n.state):null),r.a.createElement(y.a.Group,{controlId:"formZipcode"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.f,null))),r.a.createElement(y.a.Control,{value:a.zipcode,placeholder:"Zipcode",name:"zipcode",onChange:o,onBlur:l,className:s.zipcode&&n.zipcode?"error":null})),s.zipcode&&n.zipcode?r.a.createElement("div",{className:"error-message"},n.zipcode):null),r.a.createElement(y.a.Group,{controlId:"formCategory"},r.a.createElement($.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.options,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement("h4",null,"Store Hours"),r.a.createElement(y.a.Group,{controlId:"formHoursMonday"},r.a.createElement("h5",{className:"text-left"},"Monday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[0].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[0].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursTuesday"},r.a.createElement("h5",{className:"text-left"},"Tuesday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[1].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[1].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursWednesday"},r.a.createElement("h5",{className:"text-left"},"Wednesday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[2].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[2].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursThursday"},r.a.createElement("h5",{className:"text-left"},"Thursday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[3].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[3].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursFriday"},r.a.createElement("h5",{className:"text-left"},"Friday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[4].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[4].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursSaturday"},r.a.createElement("h5",{className:"text-left"},"Saturday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[5].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[5].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursSunday"},r.a.createElement("h5",{className:"text-left"},"Sunday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[6].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[6].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formPictures"},r.a.createElement("input",{onChange:e.fileChangedHandler,type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictures&&n.pictures?r.a.createElement("div",{className:"error-message"},n.pictures):null),r.a.createElement(b.a,{onClick:i},"Submit"))})))))}}]),t}(r.a.Component),jt=Object(x.b)(null,(function(e){return Object(N.b)({updateRole:function(e){return function(e){return{type:"UPDATE_ROLE",role:e}}(e)},addStore:function(e){return oe(e)}},e)}))(_t),xt=a(169),Nt=a(9),Ot=(a(403),a(47)),It=a(46),Dt=(a(405),a(458)),Wt=(a(463),a(470),new Date),Gt=function(e){return 0===e.getDay()||6===e.getDay()},Pt=function(e){var t=e.startDate,a=(e.classes,Object(Nt.a)(e,["startDate","classes"]));return r.a.createElement(Ot.h.DayScaleCell,Object.assign({className:Gt(t)?"weekend":null,startDate:t},a))},Rt=function(e){var t=e.startDate,a=(e.classes,Object(Nt.a)(e,["startDate","classes"]));return r.a.createElement(Ot.h.TimeTableCell,Object.assign({className:Gt(t)?"weekend":null,startDate:t},a))},Bt=function(e){var t=e.appointmentData,a=e.onFieldChange,n=Object(Nt.a)(e,["appointmentData","onFieldChange"]);return r.a.createElement(Ot.a.BasicLayout,Object.assign({onFieldChange:a,appointmentData:t},n),r.a.createElement(Ot.a.Label,{text:"Price",type:"title"}),r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(Ot.a.TextEditor,{style:{width:"50%"},value:t.price,onValueChange:function(e){a({price:e})},placeholder:"Price"}),r.a.createElement(Ot.a.Label,{style:{marginTop:15,marginLeft:10,fontSize:20},text:"$",type:"text"})))},At={allDayLabel:"",repeatLabel:""},qt=function(e){Object.assign({},e);return null},Ft=function(e){var t=e.appointmentData,a=(e.visible,Object(Nt.a)(e,["appointmentData","visible"]));return r.a.createElement(Ot.a.RecurrenceLayout,Object.assign({appointmentData:t,visible:!1},a))},Lt=function(e){var t=e.children,a=e.style,n=Object(Nt.a)(e,["children","style"]);return r.a.createElement(Ot.c.Appointment,Object.assign({},n,{style:Object(xt.a)({},a,{backgroundColor:"#597096",borderRadius:"5px"})}),t)},zt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getAppointments=function(){fetch("http://localhost:8081/stores/"+a.props.match.params.store_id+"/appointments",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){var t=[];e.map((function(e,n){var r=new Date(e.date),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),e.start_time,0),o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),e.end_time,0);console.log(s),t.push({id:n,title:e.title,workers:[a.state.worker_map[e.worker_id]],services:[a.state.service_map[e.service_id]],price:e.price,startDate:s,endDate:o}),a.setState({appointments:t,selectedAppointments:t})}))}))},a.state={services:[],workers:[],worker_map:{},service_map:{},selectedWorkers:[],selectedServices:[],selectedAppointments:[],appointments:[],mainResourceName:"workers",resources:[{fieldName:"services",title:"Services",allowMultiple:!0,instances:[]},{fieldName:"workers",title:"Workers",allowMultiple:!0,instances:[]}],currentDate:Wt.getFullYear()+"-"+(Wt.getMonth()+1)+"-"+Wt.getDate()},a.commitChanges=a.commitChanges.bind(Object(h.a)(a)),a.changeMainResource=a.changeMainResource.bind(Object(h.a)(a)),a.onSelectWorker=a.onSelectWorker.bind(Object(h.a)(a)),a.onRemoveWorker=a.onRemoveWorker.bind(Object(h.a)(a)),a.onSelectService=a.onSelectService.bind(Object(h.a)(a)),a.onRemoveService=a.onRemoveService.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(){var t,a,n,r,s,o,l,i,c,u=this;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.store_id,a=[],n=[],r=[],s=[],!this.props.location.state||!this.props.location.state.services){e.next=12;break}o={},l=[],this.props.location.state.services.map((function(e,t){l.push({id:t,text:e.name}),o[e.id]=e.name})),this.setState({services:this.props.location.state.store.services,service_map:o}),e.next=14;break;case 12:return e.next=14,fetch("http://localhost:8081/stores/"+t+"/services",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();console.log("error")})).then(function(){var e=Object(Fe.a)(qe.a.mark((function e(t){var a,r;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(n=t,a=[],r={},console.log("here!!",n),n.map((function(e,t){a.push({id:t,text:e.name}),r[e.id]=e.name})),u.setState({services:n,service_map:r}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:if(!this.props.location.state||!this.props.location.state.workers){e.next=21;break}i=[],c={},this.props.location.state.workers.map((function(e,t){i.push({id:t,text:e.first_name+" "+e.last_name}),c[e.id]=e.first_name+" "+e.last_name})),this.setState({workers:i,worker_map:c}),e.next=23;break;case 21:return e.next=23,fetch("http://localhost:8081/stores/"+t+"/workers_list",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();console.log("error")})).then(function(){var e=Object(Fe.a)(qe.a.mark((function e(t){var n,r;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(a=t,console.log("here",a),n=[],r={},a.map((function(e,t){n.push({id:t,text:e.first_name+" "+e.last_name}),r[e.id]=e.first_name+" "+e.last_name})),u.setState({workers:n,worker_map:r}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:(s=this.state.resources[0]).instances=this.state.services,(r=this.state.resources[1]).instances=this.state.workers,this.setState({resources:[s,r]}),this.getAppointments();case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeMainResource",value:function(e){this.setState({mainResourceName:e})}},{key:"onSelectWorker",value:function(e,t){this.setState({selectedWorkers:e})}},{key:"onRemoveWorker",value:function(e,t){this.setState({selectedWorkers:e})}},{key:"onSelectService",value:function(e,t){this.setState({selectedServices:e})}},{key:"onRemoveService",value:function(e,t){this.setState({selectedServices:e})}},{key:"onSearch",value:function(){var e,t,a=this,n=[];this.state.appointments.map((function(r){e=0==a.state.selectedWorkers.length,t=0==a.state.selectedServices.length,a.state.selectedWorkers.map((function(t){r.workers.includes(t.id)&&(e=!0)})),a.state.selectedServices.map((function(e){r.services.includes(e.id)&&(t=!0)})),t&&e&&n.push(r)})),this.setState({selectedAppointments:n})}},{key:"commitChanges",value:function(e){var t=e.added,a=e.changed,n=e.deleted;this.setState((function(e){var r=e.selectedAppointments;if(t){var s=r.length>0?r[r.length-1].id+1:0;r=[].concat(Object(et.a)(r),[Object(xt.a)({id:s},t)])}return a&&(r=r.map((function(e){return a[e.id]?Object(xt.a)({},e,{},a[e.id]):e}))),void 0!==n&&(r=r.filter((function(e){return e.id!==n}))),{appointments:r}}))}},{key:"render",value:function(){return console.log(this.state.selectedAppointments),r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,null,r.a.createElement("p",{className:"title"}," Manage Your Appointments "),r.a.createElement(g.a,{style:{marginBottom:50,marginLeft:"22%",position:"relative"}},r.a.createElement(Y.Multiselect,{options:this.state.resources[0].instances,onSelect:this.onSelectService,onRemove:this.onRemoveService,placeholder:"Service",closeIcon:"cancel",displayValue:"text",style:{multiselectContainer:{marginLeft:"2%",width:"35%"},groupHeading:{width:50,maxWidth:50},chips:{background:"#587096",height:35},inputField:{color:"black"},searchBox:{minWidth:250,width:"100%",height:"30",backgroundColor:"white",borderRadius:"5px"}}}),r.a.createElement(Y.Multiselect,{options:this.state.resources[1].instances,onSelect:this.onSelectWorker,onRemove:this.onRemoveWorker,placeholder:"Workers",closeIcon:"cancel",displayValue:"text",style:{multiselectContainer:{marginLeft:"2%",width:"35%"},optionContainer:{zIndex:1e7},chips:{background:"#587096",height:35},inputField:{color:"black"},searchBox:{minWidth:250,width:"100%",height:"30",backgroundColor:"white",borderRadius:"5px"}}}),r.a.createElement(Z.a,{onClick:this.onSearch,size:35,style:{cursor:"pointer",marginLeft:10,paddingRight:"10px"}})),r.a.createElement(Dt.a,{className:"react-calendar"},r.a.createElement(Ot.j,{data:this.state.selectedAppointments},r.a.createElement(It.s,{defaultCurrentDate:this.state.currentDate}),r.a.createElement(It.k,{onCommitChanges:this.commitChanges}),r.a.createElement(It.m,null),r.a.createElement(Ot.n,{startDayHour:8,endDayHour:24,cellDuration:60}),r.a.createElement(Ot.h,{dayScaleCellComponent:Pt,timeTableCellComponent:Rt}),r.a.createElement(Ot.f,{startDayHour:8,endDayHour:24,cellDuration:60}),r.a.createElement(Ot.l,null),r.a.createElement(Ot.m,null),r.a.createElement(Ot.e,null),r.a.createElement(Ot.k,null),r.a.createElement(Ot.d,null),r.a.createElement(Ot.c,{appointmentComponent:Lt}),r.a.createElement(Ot.b,{showCloseButton:!0,showOpenButton:!0}),r.a.createElement(Ot.a,{isRecurrence:!1,basicLayoutComponent:Bt,recurrenceLayoutComponent:Ft,messages:At,booleanEditorComponent:qt}),r.a.createElement(Ot.i,{data:this.state.resources}),r.a.createElement(Ot.g,null))))))}}]),t}(r.a.Component),Ut=Object(i.h)(zt),Vt=(a(406),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={store:{id:"",name:"",street:"",city:"",state:"",zipcode:"",created_at:"",category:[],services:[],workers:[],owners:[],phone:"",clients:[],description:"",lat:"",lng:""},pictures:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerStoreEdit",value:function(){this.props.history.push({pathname:"/stores/edit/"+this.props.match.params.store_id,state:this.state})}},{key:"triggerBook",value:function(){this.props.history.push({pathname:"/book/"+this.props.match.params.store_id,state:this.state})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state&&this.props.location.state.store){var t=this.props.location.state.store.category.map((function(e){return{value:e.toLowerCase(),label:e}}));this.setState({store:this.props.location.state.store,selectedOption:t})}else fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){if(t){var a=t.category.map((function(e){return{value:e.toLowerCase(),label:e}}));e.setState({store:t,selectedOption:a})}}))}},{key:"componentDidUpdate",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(t,a){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.store!==this.state.store&&this.setState({pictures:[{url:"/hair.jpg",key:"/hair.jpg"},{url:"/nails.jpg",key:"/nails.jpg"},{url:"/salon.jpg",key:"/salon.jpg"}]});case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return dt.a.get("user")&&this.state.store.owners.indexOf(JSON.parse(dt.a.get("user").substring(2)).id)>-1&&(e=r.a.createElement(b.a,{className:"float-left",onClick:function(){return t.triggerStoreEdit()}},"Edit Store")),r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-md-center",style:{marginTop:"15px",marginBottom:"15px"}},r.a.createElement(f.a,{lg:3},r.a.createElement("h1",null,this.state.store.name),r.a.createElement("h5",{style:{color:"gray"}},this.state.store.street,", ",this.state.store.city,", ",this.state.store.state,", ",this.state.store.zipcode),r.a.createElement("hr",null),r.a.createElement("p",{style:{fontSize:"25px"}},this.state.store.description),r.a.createElement("ul",null,this.state.store.category.map((function(e,t){return r.a.createElement("li",{key:"cat-"+t},e)}))),r.a.createElement("div",{id:"buttonGroup"},e,r.a.createElement(b.a,{className:"float-left",onClick:function(){return t.triggerBook()}},"Book Now"))),r.a.createElement(f.a,{xs:10,sm:9,md:8,lg:7},r.a.createElement(ze,{className:"carousel",pictures:this.state.pictures}))),r.a.createElement(g.a,null),r.a.createElement(g.a,null))}}]),t}(r.a.Component)),Jt=Object(i.h)(Vt);function Yt(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return Yt=function(){return e},e}var Zt="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",$t=Object(it.css)(Yt()),Kt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSelectChange=function(e){var t=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),n=a.state.newHours,r=0,s=0,o=[];a.state.newHours[t]?(r=a.state.newHours[t].open_time,s=a.state.newHours[t].close_time):(r=a.state.storeHours[t].open_time,s=a.state.storeHours[t].close_time),parseInt(e.target.querySelector("option").value)<=840?(n[t]={open_time:parseInt(e.target.value),close_time:s},o=[].concat(Object(et.a)(a.state.storeHours.slice(0,t)),[{open_time:parseInt(e.target.value),close_time:s}],Object(et.a)(a.state.storeHours.slice(t+1)))):(n[t]={open_time:r,close_time:parseInt(e.target.value)},o=[].concat(Object(et.a)(a.state.storeHours.slice(0,t)),[{open_time:r,close_time:parseInt(e.target.value)}],Object(et.a)(a.state.storeHours.slice(t+1)))),a.setState({newHours:n,storeHours:o})},a.deleteFileChangeHandler=function(){var e=Object(Fe.a)(qe.a.mark((function e(t,n,r){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=7;break}return e.next=3,a.state.keys.push(t.target.id);case 3:console.log(a.state.pictures.length,r,a.state.keys.length),n("pictureCount",a.state.pictures.length+r-a.state.keys.length),e.next=11;break;case 7:return e.next=9,a.state.keys.pop(t.target.id);case 9:console.log(a.state.pictures.length,r,a.state.keys.length),n("pictureCount",a.state.pictures.length+r-a.state.keys.length);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.fileChangedHandler=function(e,t,n){a.setState({selectedFiles:e.target.files}),t("pictureCount",a.state.pictures.length+e.target.files.length-a.state.keys.length),t("pictures",e.target.files)},a.state={store:{name:"",description:"",phone:"",id:"",street:"",city:"",state:"",zipcode:"",category:[]},storeHours:[],newHours:[],selectedOption:null,loading:!0,pictures:[],selectedFiles:[],keys:[]},a.options=[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"}],a.phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,a.yupValidationSchema=F.c().shape({name:F.e().min(2,"Store name must have at least 2 characters").max(100,"Store name can't be longer than 100 characters").required("Name is required"),description:F.e().min(20,"Description must have at least 20 characters").required("Description is required"),phone:F.e().matches(a.phoneRegExp,"Phone number is not valid").required("Phone number is required"),street:F.e().min(6,"Street must have at least 6 characters").max(100,"Street can't be longer than 100 characters").required("Street is required"),city:F.e().min(2,"City must have at least 2 characters").max(40,"City can't be longer than 40 characters").required("City is required"),state:F.e().min(2,"State must have at least 2 characters").max(12,"State can't be longer than 12 characters").required("State is required"),zipcode:F.e().max(20,"Zipcode can't be longer than 100 characters").required("Zipcode is required"),category:F.a().required("Category is required").nullable(),pictureCount:F.b().required("Pictures are required").min(1,"Must have at least one picture")}),a.triggerStoreDisplay=a.triggerStoreDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerStoreDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id,state:{store:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidUpdate",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(t,a){var n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.store===this.state.store){e.next=5;break}return e.next=3,Mt("stores/"+this.state.store.id+"/images/");case 3:n=e.sent,this.setState({pictures:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state&&this.props.location.state.store){var t=this.props.location.state.store.category.map((function(e){return{value:e.toLowerCase(),label:e}}));fetch(Zt+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(a){e.setState({store:e.props.location.state.store,selectedOption:t,storeHours:a,loading:!1})}))}else Promise.all([fetch(Zt+"/stores/"+this.props.match.params.store_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(Zt+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[0],n=t[1],r=a.category.map((function(e){return{value:e.toLowerCase(),label:e}}));e.setState({store:a,selectedOption:r,storeHours:n,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(t){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:$t,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{name:e.state.store.name,description:e.state.store.description,phone:e.state.store.phone,street:e.state.store.street,city:e.state.store.city,state:e.state.store.state,zipcode:e.state.store.zipcode,category:e.state.selectedOption,services:null,owners:null,pictures:e.state.pictures,pictureCount:e.state.pictures.length-e.state.keys.length,storeHours:e.state.storeHours},validationSchema:e.yupValidationSchema,onSubmit:function(){var t=Object(Fe.a)(qe.a.mark((function t(a){var n,r,s;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.category=a.category.map((function(e){return e.label})),n=e.props.match.params.store_id,r=e.triggerStoreDisplay,a.services=e.state.store.services,a.owners=e.state.store.owners,a.id=n,a.storeHours=e.state.newHours,t.next=9,St(e.state.keys);case 9:return s="stores/"+e.props.match.params.store_id+"/services/"+a.name+"/",t.next=12,wt(s,e.state.selectedFiles);case 12:fetch(Zt+"/stores/edit/"+n,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){e&&r(e)}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(y.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Store Edit"),r.a.createElement(y.a.Group,{controlId:"formName"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.n,null))),r.a.createElement(y.a.Control,{type:"text",name:"name",value:a.name,placeholder:"Business Name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(y.a.Group,{controlId:"formDescription"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(y.a.Control,{as:"textarea",rows:3,name:"description",value:a.description,placeholder:"Description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(y.a.Group,{controlId:"formPhone"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(y.a.Control,{type:"text",value:a.phone,placeholder:"Phone Number",name:"phone",onChange:o,onBlur:l,className:s.phone&&n.phone?"error":null})),s.phone&&n.phone?r.a.createElement("div",{className:"error-message"},n.phone):null),r.a.createElement(y.a.Group,{controlId:"formStreet"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.m,null))),r.a.createElement(y.a.Control,{type:"text",value:a.street,placeholder:"Street",name:"street",onChange:o,onBlur:l,className:s.street&&n.street?"error":null})),s.street&&n.street?r.a.createElement("div",{className:"error-message"},n.street):null),r.a.createElement(y.a.Group,{controlId:"formCity"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.b,null))),r.a.createElement(y.a.Control,{type:"text",value:a.city,placeholder:"City",name:"city",onChange:o,onBlur:l,className:s.city&&n.city?"error":null})),s.city&&n.city?r.a.createElement("div",{className:"error-message"},n.city):null),r.a.createElement(y.a.Group,{controlId:"formState"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.o,null))),r.a.createElement(y.a.Control,{value:a.state,placeholder:"State",name:"state",onChange:o,onBlur:l,className:s.state&&n.state?"error":null})),s.state&&n.state?r.a.createElement("div",{className:"error-message"},n.state):null),r.a.createElement(y.a.Group,{controlId:"formZipcode"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.f,null))),r.a.createElement(y.a.Control,{value:a.zipcode,placeholder:"Zipcode",name:"zipcode",onChange:o,onBlur:l,className:s.zipcode&&n.zipcode?"error":null})),s.zipcode&&n.zipcode?r.a.createElement("div",{className:"error-message"},n.zipcode):null),r.a.createElement(y.a.Group,{controlId:"formCategory"},r.a.createElement($.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.options,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement("h4",null,"Store Hours"),r.a.createElement(y.a.Group,{controlId:"formHoursMonday"},r.a.createElement("h5",{className:"text-left"},"Monday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[0].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[0].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursTuesday"},r.a.createElement("h5",{className:"text-left"},"Tuesday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[1].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[1].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursWednesday"},r.a.createElement("h5",{className:"text-left"},"Wednesday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[2].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[2].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursThursday"},r.a.createElement("h5",{className:"text-left"},"Thursday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[3].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[3].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursFriday"},r.a.createElement("h5",{className:"text-left"},"Friday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[4].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[4].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursSaturday"},r.a.createElement("h5",{className:"text-left"},"Saturday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[5].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[5].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"formHoursSunday"},r.a.createElement("h5",{className:"text-left"},"Sunday"),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[6].open_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:0},e.convertMinsToHrsMins(0)),r.a.createElement("option",{value:60},e.convertMinsToHrsMins(60)),r.a.createElement("option",{value:120},e.convertMinsToHrsMins(120)),r.a.createElement("option",{value:180},e.convertMinsToHrsMins(180)),r.a.createElement("option",{value:240},e.convertMinsToHrsMins(240)),r.a.createElement("option",{value:300},e.convertMinsToHrsMins(300)),r.a.createElement("option",{value:360},e.convertMinsToHrsMins(360)),r.a.createElement("option",{value:420},e.convertMinsToHrsMins(420)),r.a.createElement("option",{value:480},e.convertMinsToHrsMins(480)),r.a.createElement("option",{value:540},e.convertMinsToHrsMins(540)),r.a.createElement("option",{value:600},e.convertMinsToHrsMins(600)),r.a.createElement("option",{value:660},e.convertMinsToHrsMins(660)),r.a.createElement("option",{value:720},e.convertMinsToHrsMins(720)),r.a.createElement("option",{value:780},e.convertMinsToHrsMins(780)),r.a.createElement("option",{value:840},e.convertMinsToHrsMins(840)))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",value:e.state.storeHours[6].close_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement("option",{value:900},e.convertMinsToHrsMins(900)),r.a.createElement("option",{value:960},e.convertMinsToHrsMins(960)),r.a.createElement("option",{value:1020},e.convertMinsToHrsMins(1020)),r.a.createElement("option",{value:1080},e.convertMinsToHrsMins(1080)),r.a.createElement("option",{value:1140},e.convertMinsToHrsMins(1140)),r.a.createElement("option",{value:1200},e.convertMinsToHrsMins(1200)),r.a.createElement("option",{value:1260},e.convertMinsToHrsMins(1260)),r.a.createElement("option",{value:1320},e.convertMinsToHrsMins(1320)),r.a.createElement("option",{value:1380},e.convertMinsToHrsMins(1380)),r.a.createElement("option",{value:1440},e.convertMinsToHrsMins(1440)))))),r.a.createElement(y.a.Group,{controlId:"pictureCount"},r.a.createElement(y.a.Label,null,"Delete Images"),e.state.pictures.map((function(t,n){return r.a.createElement("div",{key:"pic-"+n},r.a.createElement("img",{className:"img-fluid",src:t.url,alt:"Slide "+n}),r.a.createElement(y.a.Check,{id:t.key,label:t.key.split("/").slice(-1)[0],onChange:function(t){return e.deleteFileChangeHandler(t,c,a.pictures.length)}}))}))),r.a.createElement(y.a.Group,{controlId:"pictures"},r.a.createElement(y.a.Label,null,"Add Images"),r.a.createElement("br",null),r.a.createElement("input",{onChange:function(t){return e.fileChangedHandler(t,c,a.pictures)},type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictureCount&&n.pictureCount?r.a.createElement("div",{className:"error-message"},n.pictureCount):null),r.a.createElement(b.a,{onClick:i},"Submit"))}))))}),null))}}]),t}(r.a.Component);function Xt(e){return function(t){function a(e){var t;return Object(u.a)(this,a),(t=Object(p.a)(this,Object(d.a)(a).call(this,e))).state={loading:!0,redirect:!1},t}return Object(v.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/checkToken",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(i.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),a}(n.Component)}var Qt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={user:{first_name:"",last_name:"",phone:"",password:"",password_confirmation:"",id:""}},a.phoneRegExp=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,a.yupValidationSchema=F.c().shape({first_name:F.e().min(2,"First name must have at least 2 characters").max(100,"First name can't be longer than 100 characters").required("First name is required"),last_name:F.e().min(2,"Last name must have at least 2 characters").max(100,"Last name can't be longer than 100 characters").required("Last name is required"),phone:F.e().matches(a.phoneRegExp,"Phone number is not valid"),password:F.e().min(6,"Password must have at least 6 characters").max(100,"Password can't be longer than 100 characters").required("Password is required"),password_confirmation:F.e().oneOf([F.d("password")],"Passwords do not match").required("Password confirmation is required")}),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.props.history.push({pathname:"/users/"+this.props.user.id})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{first_name:this.props.user.first_name,last_name:this.props.user.last_name,phone:this.props.user.phone,password:"",password_confirmation:"",id:0},validationSchema:this.yupValidationSchema,onSubmit:function(t){t.id=e.props.match.params.user_id,e.props.editProfile(t)}},(function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,o=e.handleBlur,l=e.handleSubmit;return r.a.createElement(y.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Edit Profile"),r.a.createElement(y.a.Group,{controlId:"formFirstName"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(y.a.Control,{type:"text",name:"first_name",value:t.first_name,placeholder:"First Name",onChange:s,onBlur:o,className:n.first_name&&a.first_name?"error":null})),n.first_name&&a.first_name?r.a.createElement("div",{className:"error-message"},a.first_name):null),r.a.createElement(y.a.Group,{controlId:"formLastName"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.p,null))),r.a.createElement(y.a.Control,{type:"text",value:t.last_name,placeholder:"Last Name",name:"last_name",onChange:s,onBlur:o,className:n.last_name&&a.last_name?"error":null})),n.last_name&&a.last_name?r.a.createElement("div",{className:"error-message"},a.last_name):null),r.a.createElement(y.a.Group,{controlId:"formPhone"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.l,null))),r.a.createElement(y.a.Control,{type:"text",value:t.phone,placeholder:"Phone Number",name:"phone",onChange:s,onBlur:o,className:n.phone&&a.phone?"error":null})),n.phone&&a.phone?r.a.createElement("div",{className:"error-message"},a.phone):null),r.a.createElement(y.a.Group,{controlId:"formPassword"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.j,null))),r.a.createElement(y.a.Control,{type:"password",value:t.password,placeholder:"Password",name:"password",onChange:s,onBlur:o,className:n.password&&a.password?"error":null})),n.password&&a.password?r.a.createElement("div",{className:"error-message"},a.password):null),r.a.createElement(y.a.Group,{controlId:"formPasswordConfirmation"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.i,null))),r.a.createElement(y.a.Control,{type:"password",value:t.password_confirmation,placeholder:"Confirm Password",name:"password_confirmation",onChange:s,onBlur:o,className:n.password_confirmation&&a.password_confirmation?"error":null})),n.password_confirmation&&a.password_confirmation?r.a.createElement("div",{className:"error-message"},a.password_confirmation):null),r.a.createElement(b.a,{onClick:l},"Submit"))})))))}}]),t}(r.a.Component),ea=Object(x.b)((function(e){return{user:e.userReducer.user}}),(function(e){return Object(N.b)({editProfile:function(e,t,a){return n=e,function(e){fetch(D+"/users/"+n.id,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then((function(t){if(e(I(t)),200===t.status)return t.json();e(Object(O.failure)(t))})).then((function(t){if(t)return e({type:"EDIT_USER_SUCCESS",user:t}),t}))};var n}},e)}))(Qt),ta=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,null,r.a.createElement("h1",null,this.props.user.first_name," ",this.props.user.last_name),r.a.createElement("h1",null,this.props.user.phone),r.a.createElement("h1",null,this.props.user.email))))}}]),t}(r.a.Component),aa=Object(x.b)((function(e){return{user:e.userReducer.user}}))(ta),na=a(294),ra=a.n(na),sa=a(295),oa=a.n(sa),la=(a(407),function(){return r.a.createElement($e.a,{speed:1,style:{width:"100%",height:"100%"},viewBox:"0 0 1000 1500",backgroundColor:"#f3f3f3",foregroundColor:"#eae8e8"},r.a.createElement("rect",{className:"d-none d-md-block",x:"50",y:"30",rx:"0",ry:"0",width:"500",height:"250"}),r.a.createElement("rect",{className:"d-none d-md-block",x:"630",y:"71",rx:"3",ry:"3",width:"200",height:"15"}),r.a.createElement("rect",{className:"d-none d-md-block",x:"645",y:"105",rx:"3",ry:"3",width:"164",height:"6"}),r.a.createElement("rect",{className:"d-none d-md-block",x:"630",y:"130",rx:"3",ry:"3",width:"200",height:"25"}),r.a.createElement("rect",{className:"d-none d-md-block",x:"630",y:"170",rx:"3",ry:"3",width:"200",height:"25"}),r.a.createElement("rect",{className:"d-none d-md-block",x:"630",y:"210",rx:"3",ry:"3",width:"200",height:"25"}),r.a.createElement("rect",{className:"d-block d-md-none",x:"66",y:"0",rx:"0",ry:"0",width:"858",height:"614"}),r.a.createElement("rect",{className:"d-block d-md-none",x:"69",y:"689",rx:"3",ry:"3",width:"858",height:"115"}),r.a.createElement("rect",{className:"d-block d-md-none",x:"104",y:"869",rx:"3",ry:"3",width:"788",height:"55"}),r.a.createElement("rect",{className:"d-block d-md-none",x:"49",y:"999",rx:"3",ry:"3",width:"900",height:"115"}),r.a.createElement("rect",{className:"d-block d-md-none",x:"49",y:"1169",rx:"3",ry:"3",width:"900",height:"115"}),r.a.createElement("rect",{className:"d-block d-md-none",x:"49",y:"1339",rx:"3",ry:"3",width:"900",height:"115"}))}),ia=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={stores:[{id:"",name:"",street:"",city:"",state:"",zipcode:"",created_at:"",category:[],services:[],workers:[],owners:[],phone:"",clients:[],description:"",lat:"",lng:""}],redirectToWorkerForm:null,store_id:null,loading:!0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerStoreEdit",value:function(e){this.props.history.push({pathname:"/stores/edit/"+e.id,state:{store:e}})}},{key:"triggerAddWorker",value:function(e){this.props.history.push({pathname:"/stores/addWorker/"+e})}},{key:"triggerShowWorkers",value:function(e){this.props.history.push({pathname:"/stores/"+e+"/workers"})}},{key:"triggerStoreShow",value:function(e){this.props.history.push({pathname:"/stores/"+e.id,state:{store:e}})}},{key:"triggerShowServices",value:function(e){this.props.history.push({pathname:"/stores/"+e+"/services"})}},{key:"triggerAddService",value:function(e){this.props.history.push({pathname:"/stores/addService/"+e})}},{key:"triggerShowCalendar",value:function(e){this.props.history.push({pathname:"/storeCalendar/"+e.id,state:{store:e}})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/users/"+this.props.match.params.user_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){t&&e.setState({stores:t,loading:!1}),e.props.addStore(t)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(t){return e.state.loading?r.a.createElement(g.a,{className:"mt-5"},r.a.createElement(f.a,{xs:"12"},r.a.createElement(la,null))):r.a.createElement(r.a.Fragment,null,e.state.stores.map((function(t,a){return r.a.createElement("div",{key:"store"+a},r.a.createElement(g.a,{className:"justify-content-center align-content-center my-5"},r.a.createElement(f.a,{md:6,className:"vertical-align-contents"},r.a.createElement(Le.a,{className:"dashboard-carousel",interval:""},r.a.createElement(Le.a.Item,null,r.a.createElement(Ve.a,{fluid:!0,src:ra.a,alt:"test"})),r.a.createElement(Le.a.Item,null,r.a.createElement(Ve.a,{fluid:!0,src:oa.a,alt:"test2"})))),r.a.createElement(f.a,{md:5,className:"vertical-align-contents"},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{sm:12},r.a.createElement("span",{className:"name",onClick:function(){return e.triggerStoreShow(t)},style:{cursor:"pointer"}}," ",t.name," "),r.a.createElement(M.d,{className:"edit mb-3",size:25,onClick:function(){return e.triggerStoreEdit(t)}})),r.a.createElement(f.a,{sm:12},r.a.createElement("p",{className:"address"},t.street,", ",t.city,", ",t.state," ")),r.a.createElement(f.a,{sm:8,className:"py-1"},r.a.createElement(b.a,{block:!0,className:"update_button",onClick:function(){return e.triggerShowCalendar(t)}},"Calendar")," \xa0"),r.a.createElement(f.a,{sm:8,className:"py-1"},r.a.createElement(b.a,{block:!0,className:"update_button",onClick:function(){return e.triggerShowWorkers(t.id)}},"Workers")," \xa0"),r.a.createElement(f.a,{sm:8,className:"py-1"},r.a.createElement(b.a,{block:!0,className:"update_button",onClick:function(){return e.triggerShowServices(t.id)}},"Services")," \xa0")))))})))}),null))}}]),t}(r.a.Component),ca=Object(x.b)((function(e){return{stores:e.storeReducer.stores,user:e.userReducer.user}}),(function(e){return Object(N.b)({addStore:function(e){return oe(e)}},e)}))(ia);function ua(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ua=function(){return e},e}var ma=Object(it.css)(ua()),pa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSelectChange=function(e){var t,n,r=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),s=[];t=a.state.workerHours[r].start_time,n=a.state.workerHours[r].end_time,s=parseInt(e.target.querySelector("option").value)<=840?[].concat(Object(et.a)(a.state.workerHours.slice(0,r)),[{start_time:parseInt(e.target.value),end_time:n}],Object(et.a)(a.state.workerHours.slice(r+1))):[].concat(Object(et.a)(a.state.workerHours.slice(0,r)),[{start_time:t,end_time:parseInt(e.target.value)}],Object(et.a)(a.state.workerHours.slice(r+1))),a.setState({workerHours:s})},a.handleDayStatusChange=function(e){var t=[].concat(Object(et.a)(a.state.weekIsWorking.slice(0,e)),[!a.state.weekIsWorking[e]],Object(et.a)(a.state.weekIsWorking.slice(e+1)));a.setState({weekIsWorking:t})},a.state={options:[{value:0,label:"Brazilian Blowout"},{value:1,label:"Manicure"}],workerHours:[],storeHours:[],weekIsWorking:[!0,!0,!0,!0,!0,!0,!0],loading:!0},a.emailRegExp=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/,a.yupValidationSchema=F.c().shape({email:F.e().email("Must be a valid email address").max(100,"Email must be less than 100 characters").required("Email is required")}),a.triggerWorkerDisplay=a.triggerWorkerDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"triggerWorkerDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+e.id,state:{worker:e}})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){if(t){var a=t.map((function(e){return{start_time:e.open_time,end_time:e.close_time}}));e.setState({storeHours:t,workerHours:a,loading:!1})}}))}},{key:"render",value:function(){var e=this,t=function(t){for(var a=[],n=e.state.storeHours[t.day].open_time;n<=840;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},a=function(t){for(var a=[],n=900;n<=e.state.storeHours[t.day].close_time;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a};return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(n){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:ma,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{initialValues:{email:"",services:"",workerHours:[]},validationSchema:e.yupValidationSchema,onSubmit:function(t){var a=e.props.match.params.store_id,n=e.triggerWorkerDisplay;t.services=t.services.map((function(e){return e.value})),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/addWorker/"+a,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){e&&n(e)}))}},(function(n){var s=n.values,o=n.errors,l=n.touched,i=n.handleChange,c=n.handleBlur,u=n.handleSubmit,m=n.setFieldValue;return r.a.createElement(y.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Add Worker"),r.a.createElement(y.a.Group,{controlId:"formEmail"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.e,null))),r.a.createElement(y.a.Control,{type:"email",value:s.email,placeholder:"Email",name:"email",onChange:i,onBlur:c,className:l.email&&o.email?"error":null})),l.email&&o.email?r.a.createElement("div",{className:"error-message"},o.email):null),r.a.createElement(y.a.Group,{controlId:"formServices"},r.a.createElement($.a,{value:s.services,onChange:function(e){return m("services",e)},name:"services",options:e.state.options,isMulti:!0,placeholder:"Services",className:l.services&&o.services?"error":null}),l.services&&o.services?r.a.createElement("div",{className:"error-message"},o.services):null),r.a.createElement("h4",null,"Worker Hours"),r.a.createElement(y.a.Group,{controlId:"formHoursMonday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Monday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"monday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[0],onChange:function(){return e.handleDayStatusChange(0)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:0}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:0}))))),r.a.createElement(y.a.Group,{controlId:"formHoursTuesday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Tuesday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"tuesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[1],onChange:function(){return e.handleDayStatusChange(1)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:1}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:1}))))),r.a.createElement(y.a.Group,{controlId:"formHoursWednesday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Wednesday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"wednesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[2],onChange:function(){return e.handleDayStatusChange(2)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:2}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:2}))))),r.a.createElement(y.a.Group,{controlId:"formHoursThursday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Thursday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"thursday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[3],onChange:function(){return e.handleDayStatusChange(3)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:3}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:3}))))),r.a.createElement(y.a.Group,{controlId:"formHoursFriday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Friday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"friday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[4],onChange:function(){return e.handleDayStatusChange(4)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:4}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:4}))))),r.a.createElement(y.a.Group,{controlId:"formHoursSaturday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Saturday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"saturday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[5],onChange:function(){return e.handleDayStatusChange(5)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:5}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:5}))))),r.a.createElement(y.a.Group,{controlId:"formHoursSunday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Sunday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"sunday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[6],onChange:function(){return e.handleDayStatusChange(6)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:6}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:6}))))),r.a.createElement(b.a,{onClick:u},"Submit"))}))))}),null))}}]),t}(r.a.Component),da=(a(408),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={workers:[],redirectToWorkerEditForm:null,redirectToWorkerDisplay:null},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerWorkerEditForm",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+e.id+"/edit",state:{worker:e}})}},{key:"triggerWorkerDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+e.id,state:{worker:e}})}},{key:"triggerAddWorker",value:function(){this.props.history.push({pathname:"/stores/addWorker/"+this.props.match.params.store_id})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.workers?this.setState({workers:this.props.location.state.workers}):fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/workers",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json()})).then((function(t){t&&e.setState({workers:t})}))}},{key:"render",value:function(){var e=this,t=null;return t=0!=this.state.workers.length?r.a.createElement("div",null,this.state.workers.map((function(t){return r.a.createElement(f.a,{key:"worker-"+t.id},r.a.createElement(b.a,{onClick:function(){return e.triggerWorkerDisplay(t)}},"Show Worker"),r.a.createElement(b.a,{onClick:function(){return e.triggerWorkerEditForm(t)}},"Edit Worker"))}))):r.a.createElement("div",null,r.a.createElement("p",{className:"noResults"},"No Workers!"),r.a.createElement(b.a,{onClick:function(){return e.triggerAddWorker()}},"Add Worker")),r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},t))}}]),t}(r.a.Component));a(409);function ha(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ha=function(){return e},e}var va="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",Ea=Object(it.css)(ha()),ga=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSelectChange=function(e){var t=["formHoursMonday","formHoursTuesday","formHoursWednesday","formHoursThursday","formHoursFriday","formHoursSaturday","formHoursSunday"].indexOf(e.target.id),n=a.state.newHours,r=0,s=0,o=[];a.state.newHours[t]?(r=a.state.newHours[t].start_time,s=a.state.newHours[t].end_time):(r=a.state.workerHours[t].start_time,s=a.state.workerHours[t].end_time),parseInt(e.target.querySelector("option").value)<=840?(n[t]={start_time:parseInt(e.target.value),end_time:s},o=[].concat(Object(et.a)(a.state.workerHours.slice(0,t)),[{start_time:parseInt(e.target.value),end_time:s}],Object(et.a)(a.state.workerHours.slice(t+1)))):(n[t]={start_time:r,end_time:parseInt(e.target.value)},o=[].concat(Object(et.a)(a.state.workerHours.slice(0,t)),[{start_time:r,end_time:parseInt(e.target.value)}],Object(et.a)(a.state.workerHours.slice(t+1)))),a.setState({newHours:n,workerHours:o})},a.handleDayStatusChange=function(e){var t=[].concat(Object(et.a)(a.state.weekIsWorking.slice(0,e)),[!a.state.weekIsWorking[e]],Object(et.a)(a.state.weekIsWorking.slice(e+1)));a.setState({weekIsWorking:t})},a.state={worker:{id:0,store_id:0,services:[],user_id:0,created_at:"",first_name:"",last_name:""},options:[{value:0,label:"Brazilian Blowout"},{value:1,label:"Manicure"}],serviceMapping:{0:"Brazilian Blowout",1:"Manicure"},storeHours:[{day_of_the_week:0,start_time:0,end_time:0},{day_of_the_week:1,start_time:0,end_time:0},{day_of_the_week:2,start_time:0,end_time:0},{day_of_the_week:3,start_time:0,end_time:0},{day_of_the_week:4,start_time:0,end_time:0},{day_of_the_week:5,start_time:0,end_time:0},{day_of_the_week:6,start_time:0,end_time:0}],workerHours:[{day_of_the_week:0,start_time:0,end_time:0},{day_of_the_week:1,start_time:0,end_time:0},{day_of_the_week:2,start_time:0,end_time:0},{day_of_the_week:3,start_time:0,end_time:0},{day_of_the_week:4,start_time:0,end_time:0},{day_of_the_week:5,start_time:0,end_time:0},{day_of_the_week:6,start_time:0,end_time:0}],loading:!0,newHours:[],weekIsWorking:[!0,!0,!0,!0,!0,!0,!0]},a.triggerWorkerDisplay=a.triggerWorkerDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerWorkerDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id,state:{worker:e}})}},{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.worker?this.setState({worker:this.props.location.state.worker}):fetch(va+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){t&&e.setState({worker:e.props.location.state.worker})})),Promise.all([fetch(va+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id+"/hours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(va+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){e.setState({storeHours:t[1],workerHours:t[0],loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(t){for(var a=[],n=e.state.storeHours[t.day].open_time;n<=840;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a},a=function(t){for(var a=[],n=900;n<=e.state.storeHours[t.day].close_time;n+=60)a.push(r.a.createElement("option",{key:n,value:n},e.convertMinsToHrsMins(n)));return a};return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(n){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:Ea,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,null,r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{services:e.state.worker.services,id:e.state.worker.id,store_id:e.state.worker.store_id,user_id:e.state.worker.user_id,created_at:e.state.worker.created_at,first_name:e.state.worker.first_name,last_name:e.state.worker.last_name,newHours:e.state.newHours,noChange:!1},validationSchema:e.yupValidationSchema,onSubmit:function(t){var a=e.props.match.params.store_id,n=e.props.match.params.worker_id,r=e.triggerWorkerDisplay;t.newHours.map((function(t,a){return e.state.weekIsWorking[a]?t:{start_time:null,end_time:null}})),fetch(va+"/stores/"+a+"/workers/"+n,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){e&&r(e)}))}},(function(n){n.values,n.errors,n.touched,n.handleChange,n.handleBlur;var s=n.handleSubmit;n.setFieldValue;return r.a.createElement(y.a,null,r.a.createElement("h3",null,"Worker Edit"),r.a.createElement("h4",null,"Worker Hours"),r.a.createElement(y.a.Group,{controlId:"formHoursMonday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Monday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"monday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[0],onChange:function(){return e.handleDayStatusChange(0)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:0}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[0],value:e.state.workerHours[0].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:0}))))),r.a.createElement(y.a.Group,{controlId:"formHoursTuesday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Tuesday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"tuesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[1],onChange:function(){return e.handleDayStatusChange(1)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:1}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[1],value:e.state.workerHours[1].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:1}))))),r.a.createElement(y.a.Group,{controlId:"formHoursWednesday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Wednesday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"wednesday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[2],onChange:function(){return e.handleDayStatusChange(2)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:2}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[2],value:e.state.workerHours[2].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:2}))))),r.a.createElement(y.a.Group,{controlId:"formHoursThursday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Thursday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"thursday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[3],onChange:function(){return e.handleDayStatusChange(3)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:3}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[3],value:e.state.workerHours[3].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:3}))))),r.a.createElement(y.a.Group,{controlId:"formHoursFriday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Friday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"friday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[4],onChange:function(){return e.handleDayStatusChange(4)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:4}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[4],value:e.state.workerHours[4].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:4}))))),r.a.createElement(y.a.Group,{controlId:"formHoursSaturday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Saturday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"saturday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[5],onChange:function(){return e.handleDayStatusChange(5)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:5}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[5],value:e.state.workerHours[5].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:5}))))),r.a.createElement(y.a.Group,{controlId:"formHoursSunday"},r.a.createElement(y.a.Row,{className:"text-left"},r.a.createElement(f.a,null,r.a.createElement("h5",null,"Sunday"),r.a.createElement(y.a.Check,{type:"checkbox",id:"sunday-toggle",label:"Working Today?",checked:e.state.weekIsWorking[6],onChange:function(){return e.handleDayStatusChange(6)}}))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].start_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(t,{day:6}))),r.a.createElement(f.a,null,r.a.createElement(y.a.Control,{as:"select",disabled:!e.state.weekIsWorking[6],value:e.state.workerHours[6].end_time,onChange:e.handleSelectChange.bind(e)},r.a.createElement(a,{day:6}))))),r.a.createElement(b.a,{onClick:s},"Submit"))}))))}),null))}}]),t}(r.a.Component),fa=Object(i.h)(ga);function ya(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ya=function(){return e},e}var ba="http://bloom-490-dev.us-east-1.elasticbeanstalk.com",ka=Object(it.css)(ya()),Ma=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateWorker=function(e,t,n){var r=a.state.workerHours.map((function(e,a){return null!=t[a]?t[a]:e}));a.setState({worker:e,workerHours:r,receivedServices:n})},a.updateContent=function(e){a.setState({choice:e})},a.state={worker:{id:0,store_id:0,services:[],user_id:0,created_at:"",first_name:[],last_name:""},serviceMapping:{0:"Brazilian Blowout",1:"Manicure"},loading:!0,workerHours:[],receivedServices:[],selectedOption:[],storeHours:[],choice:0,daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){var e=this;if(this.props.location&&this.props.location.state&&this.props.location.state.worker){this.props.location.state.worker.services.map((function(t){return{value:t,label:e.state.serviceMapping[t]}}));Promise.all([fetch(ba+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id+"/hours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(ba+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[1].map((function(e){return{start_time:e.open_time,end_time:e.close_time}}));t[0]&&7==t[0].length?a=t[0]:e.setState({newHours:a}),e.setState({worker:e.props.location.state.worker,receivedServices:e.props.location.state.worker.services,storeHours:t[1],workerHours:a,loading:!1})}))}else Promise.all([fetch(ba+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(ba+"/stores/"+this.props.match.params.store_id+"/storeHours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()})),fetch(ba+"/stores/"+this.props.match.params.store_id+"/workers/"+this.props.match.params.worker_id+"/hours",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))]).then((function(t){var a=t[0].services.map((function(t){return{value:t,label:e.state.serviceMapping[t]}})),n=t[1].map((function(e){return{start_time:e.open_time,end_time:e.close_time}}));t[2]&&7==t[2].length?n=t[2]:e.setState({newHours:n}),e.setState({worker:t[0],receivedServices:t[0].services,selectedOption:a,storeHours:t[1],workerHours:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=function(){for(var t=[],a=0;a<e.state.workerHours.length;a++)null!=e.state.workerHours[a].start_time?t.push(r.a.createElement(f.a,{sm:"11",md:"10",key:a},r.a.createElement(nt.a.Item,null,e.state.daysOfWeek[a],": ",e.convertMinsToHrsMins(e.state.workerHours[a].start_time),"-",e.convertMinsToHrsMins(e.state.workerHours[a].end_time)))):t.push(r.a.createElement(f.a,{sm:"11",md:"10",key:a},r.a.createElement(nt.a.Item,null,e.state.daysOfWeek[a],": Off")));return t},a=function(){return 0==e.state.choice?r.a.createElement(Ut,null):1==e.state.choice?r.a.createElement(fa,{worker:e.state.worker,receivedServices:e.state.receivedServices,selectedOption:e.state.selectedOption,storeHours:e.state.storeHours,workerHours:e.state.workerHours,updateWorker:e.updateWorker}):r.a.createElement("p",null,"Past Appointments go here....")};return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(n){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:ka,size:20,color:"#2196f3",loading:e.state.isLoading}))):r.a.createElement(g.a,{className:"profile"},r.a.createElement(f.a,{xs:"11",md:"3"},r.a.createElement("div",{className:"profile-sidebar"},r.a.createElement("div",{className:"profile-userpic"},r.a.createElement(Ve.a,{src:"https://i.redd.it/v0caqchbtn741.jpg",className:"img-responsive",alt:"",rounded:!0})),r.a.createElement("div",{className:"profile-usertitle"},r.a.createElement("div",{className:"profile-usertitle-name"},e.state.worker.first_name+" "+e.state.worker.last_name),r.a.createElement("div",{className:"profile-usertitle-job"},"Stylist")),r.a.createElement("div",{className:"profile-userbuttons"},r.a.createElement("button",{type:"button",className:"btn btn-success btn-sm"},"Give a Raise"),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm"},"Lay Off")),r.a.createElement(nt.a,{variant:"flush"},r.a.createElement(g.a,{className:"justify-content-center mt-4"},r.a.createElement("h5",null,"Working Hours"),r.a.createElement(t,null))),r.a.createElement("div",{className:"profile-usermenu"},r.a.createElement(U.a,{defaultActiveKey:"link-0",className:"flex-column",variant:"pills"},r.a.createElement(U.a.Link,{eventKey:"link-0",active:0==e.state.choice,onClick:function(){return e.updateContent(0)}},"Calendar"),r.a.createElement(U.a.Link,{eventKey:"link-1",active:1==e.state.choice,onClick:function(){return e.updateContent(1)}},"Edit Profile"),r.a.createElement(U.a.Link,{eventKey:"link-2",active:2==e.state.choice,onClick:function(){return e.updateContent(2)}},"Past Appointments"))))),r.a.createElement(f.a,{xs:"11",md:"9"},r.a.createElement("div",{className:"profile-content"},r.a.createElement(a,null))))}),null))}}]),t}(r.a.Component),Ca=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).fileChangedHandler=function(e){a.setState({selectedFiles:e.target.files})},a.state={name:"",cost:"",duration:"",description:"",workers:[],category:[],store_id:"",categoryOptions:[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"}],workerOptions:[],selectedOption:null,selectedFiles:null},a.yupValidationSchema=F.c().shape({name:F.e().min(2,"Name must have at least 2 characters").max(100,"Name can't be longer than 100 characters").required("Name is required"),description:F.e().min(20,"Description must have at least 20 characters").required("Description is required"),cost:F.b().positive("Cost must be positive").required("Cost is required"),duration:F.b().positive("Duration must be positive").integer("Duration must be an integer").required("Duration is required"),workers:F.a().required("Worker is required").nullable(),category:F.a().required("Category is required").nullable()}),a.triggerServiceDisplay=a.triggerServiceDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/workers",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){if(t){var a=t.map((function(e){return{value:e.id,label:e.first_name+" "+e.last_name}}));e.setState({workerOptions:a})}}))}},{key:"componentDidUpdate",value:function(e,t){e.service!==this.props.service&&this.props.history.push({pathname:"/stores/"+this.props.service.store_id+"/services/"+this.props.service.id})}},{key:"triggerServiceDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+e.store_id+"/services/"+e.id,state:{service:e}})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{name:"",cost:"",duration:"",description:"",pictures:[],workers:[],category:[],store_id:this.props.match.params.store_id},validationSchema:this.yupValidationSchema,onSubmit:function(){var t=Object(Fe.a)(qe.a.mark((function t(a,n){var r,s,o;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.setSubmitting,s=e.props.match.params.store_id,o=e.triggerServiceDisplay,a.category=a.category.map((function(e){return e.label})),a.workers=a.workers.map((function(e){return e.value})),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/addService/"+s,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){e&&o(e)})),r(!1);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(y.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Add Service"),r.a.createElement(y.a.Group,{controlId:"formService"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.g,null))),r.a.createElement(y.a.Control,{type:"text",value:a.name,placeholder:"Name of Service",name:"name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(y.a.Group,{controlId:"formCost"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.c,null))),r.a.createElement(y.a.Control,{type:"text",value:a.cost,placeholder:"Cost",name:"cost",onChange:o,onBlur:l,className:s.cost&&n.cost?"error":null})),s.cost&&n.cost?r.a.createElement("div",{className:"error-message"},n.cost):null),r.a.createElement(y.a.Group,{controlId:"formDuration"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.h,null))),r.a.createElement(y.a.Control,{type:"text",value:a.duration,placeholder:"Duration (in min)",name:"duration",onChange:o,onBlur:l,className:s.duration&&n.duration?"error":null})),s.duration&&n.duration?r.a.createElement("div",{className:"error-message"},n.duration):null),r.a.createElement(y.a.Group,{controlId:"formDescription"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(y.a.Control,{type:"textarea",rows:3,value:a.description,placeholder:"Description",name:"description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(y.a.Group,{controlId:"formWorkers"},r.a.createElement($.a,{value:a.workers,onChange:function(e){return c("workers",e)},name:"workers",options:e.state.workerOptions,isMulti:!0,placeholder:"Assigned Workers",className:s.workers&&n.workers?"error":null}),s.workers&&n.workers?r.a.createElement("div",{className:"error-message"},n.workers):null),r.a.createElement(y.a.Group,{controlId:"formCategory"},r.a.createElement($.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.state.categoryOptions,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement(y.a.Group,{controlId:"formPictures"},r.a.createElement("input",{onChange:e.fileChangedHandler,type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictures&&n.pictures?r.a.createElement("div",{className:"error-message"},n.pictures):null),r.a.createElement(b.a,{onClick:i},"Submit"))})))))}}]),t}(r.a.Component),wa=(a(410),["#f0d1d9","#f7e5e4","#d6ced3"]),Ha=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={services:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerServiceEdit",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/services/"+e.id+"/edit",state:{service:e}})}},{key:"triggerServiceDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/services/"+e.id,state:{service:e}})}},{key:"triggerAddService",value:function(){this.props.history.push({pathname:"/stores/addService/"+this.props.match.params.store_id})}},{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&this.props.location.state.services?this.setState({services:this.props.location.state.services}):fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/services/",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json()})).then((function(t){t&&e.setState({services:t})}))}},{key:"render",value:function(){var e=this,t=null;return t=this.state.services.length>0?r.a.createElement(f.a,null,r.a.createElement("p",{className:"services_title"},"My Services "),r.a.createElement(b.a,{className:"buttons",onClick:function(){return e.triggerAddService()}},"Add Service"),r.a.createElement("div",{className:"service_container"},this.state.services.map((function(t,a){return r.a.createElement(f.a,{key:"service-"+t.id},r.a.createElement("div",{className:"service_card"},r.a.createElement("div",{className:"service_text",style:{backgroundColor:"".concat(wa[a%3])}},r.a.createElement("div",{className:"fun_style"}," "),r.a.createElement(f.a,null,r.a.createElement("div",{className:"title_container",style:{backgroundColor:"".concat(wa[a%3])}},r.a.createElement("span",{className:"service_title",onClick:function(){return e.triggerServiceDisplay(t)}}," ",t.name," "),r.a.createElement(M.d,{className:"edit",size:15,onClick:function(){return e.triggerServiceEdit(t)}})),r.a.createElement(g.a,null,r.a.createElement("div",{className:"service_subtitle"},r.a.createElement("p",null," Category "),r.a.createElement("p",null," Cost "),r.a.createElement("p",null," Duration "),r.a.createElement("p",null," Associated Workers "),r.a.createElement("p",null," Description ")),r.a.createElement("div",{className:"subtitle_values"},r.a.createElement("p",null,"  ",t.category,"  "),r.a.createElement("p",null," $ ",t.cost,"  "),r.a.createElement("p",null,"  ",t.duration," Minutes  "),r.a.createElement("p",null," ",t.workers," "),r.a.createElement("p",null," ",t.description," ")))))))})))):r.a.createElement("div",null,r.a.createElement("p",{className:"noResults"},"No Services!"),r.a.createElement(b.a,{onClick:function(){return e.triggerAddService()}},"Add Service")),r.a.createElement(E.a,null,t)}}]),t}(r.a.Component),Sa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={service:{id:"",name:"",cost:"",workers:[],store_id:"",category:"",description:""},pictures:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(t,a){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.service!==this.state.service&&this.setState({pictures:[{url:"/hair.jpg",key:"/hair.jpg"},{url:"/nails.jpg",key:"/nails.jpg"},{url:"/salon.jpg",key:"/salon.jpg"}]});case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(){var t,a;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.location.state||!this.props.location.state.service){e.next=4;break}this.setState({service:this.props.location.state.service}),e.next=11;break;case 4:return e.next=6,fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/services/"+this.props.match.params.service_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"});case 6:return t=e.sent,e.next=9,t.json();case 9:a=e.sent,this.setState({service:a});case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,null,r.a.createElement("h1",null,this.state.service.name),r.a.createElement("p",null,this.state.service.description)),r.a.createElement(f.a,{xs:10,sm:9,md:8,lg:7},r.a.createElement(ze,{className:"carousel",pictures:this.state.pictures}))))}}]),t}(r.a.Component),Ta=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).deleteFileChangeHandler=function(){var e=Object(Fe.a)(qe.a.mark((function e(t,n,r){return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=7;break}return e.next=3,a.state.keys.push(t.target.id);case 3:console.log(a.state.pictures.length,r,a.state.keys.length),n("pictureCount",a.state.pictures.length+r-a.state.keys.length),e.next=11;break;case 7:return e.next=9,a.state.keys.pop(t.target.id);case 9:console.log(a.state.pictures.length,r,a.state.keys.length),n("pictureCount",a.state.pictures.length+r-a.state.keys.length);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.fileChangedHandler=function(e,t,n){a.setState({selectedFiles:e.target.files}),t("pictureCount",a.state.pictures.length+e.target.files.length-a.state.keys.length),t("pictures",e.target.files)},a.state={service:{id:"",name:"",cost:"",workers:[],store_id:"",category:"",description:""},categoryOptions:[{value:"nails",label:"Nails"},{value:"hair",label:"Hair"}],convertedCategory:[],workerOptions:[],selectedOption:null,pictures:[],keys:[],selectedFiles:[]},a.yupValidationSchema=F.c().shape({name:F.e().min(2,"Name must have at least 2 characters").max(100,"Name can't be longer than 100 characters").required("Name is required"),description:F.e().min(20,"Description must have at least 20 characters").required("Description is required"),cost:F.b().positive("Cost must be positive").required("Cost is required"),duration:F.b().positive("Duration must be positive").integer("Duration must be an integer").required("Duration is required"),workers:F.a().required("Worker is required").nullable(),category:F.a().required("Category is required").nullable(),pictureCount:F.b().required("Pictures are required").min(1,"Must have at least one picture")}),a.triggerServiceDisplay=a.triggerServiceDisplay.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"triggerServiceDisplay",value:function(e){this.props.history.push({pathname:"/stores/"+this.props.match.params.store_id+"/services/"+this.props.match.params.service_id,state:{service:e}})}},{key:"componentDidUpdate",value:function(){var e=Object(Fe.a)(qe.a.mark((function e(t,a){var n;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.service===this.state.service){e.next=5;break}return e.next=3,Mt("stores/"+this.state.service.store_id+"/services/"+this.state.service.name+"/");case 3:n=e.sent,this.setState({pictures:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state&&this.props.location.state.service){var t=this.props.location.state.service.category.map((function(e){return{value:e.toLowerCase(),label:e}}));this.setState({service:this.props.location.state.service,convertedCategory:t})}else fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+this.props.match.params.store_id+"/services/"+this.props.match.params.service_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){if(t){var a=t.category.map((function(e){return{value:e.toLowerCase(),label:e}}));e.setState({service:t,convertedCategory:a})}}))}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(f.a,{xs:8,sm:7,md:6,lg:5},r.a.createElement(q.a,{enableReinitialize:!0,initialValues:{name:this.state.service.name,cost:this.state.service.cost,duration:this.state.service.duration,description:this.state.service.description,pictures:[],pictureCount:this.state.pictures.length-this.state.keys.length,workers:this.state.service.workers,category:this.state.convertedCategory,store_id:this.props.match.params.store_id},validationSchema:this.yupValidationSchema,onSubmit:function(){var t=Object(Fe.a)(qe.a.mark((function t(a){var n,r,s;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.match.params.store_id,r=e.props.match.params.service_id,s=e.triggerServiceDisplay,a.category=a.category.map((function(e){return e.label})),fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/stores/"+n+"/services/"+r,{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){e&&s()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,n=t.errors,s=t.touched,o=t.handleChange,l=t.handleBlur,i=t.handleSubmit,c=t.setFieldValue;return r.a.createElement(y.a,{className:"formBody rounded"},r.a.createElement("h3",null,"Edit Service"),r.a.createElement(y.a.Group,{controlId:"formService"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.g,null))),r.a.createElement(y.a.Control,{type:"text",value:a.name,placeholder:"Name of Service",name:"name",onChange:o,onBlur:l,className:s.name&&n.name?"error":null})),s.name&&n.name?r.a.createElement("div",{className:"error-message"},n.name):null),r.a.createElement(y.a.Group,{controlId:"formCost"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.c,null))),r.a.createElement(y.a.Control,{type:"text",value:a.cost,placeholder:"Cost",name:"cost",onChange:o,onBlur:l,className:s.cost&&n.cost?"error":null})),s.cost&&n.cost?r.a.createElement("div",{className:"error-message"},n.cost):null),r.a.createElement(y.a.Group,{controlId:"formDuration"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.h,null))),r.a.createElement(y.a.Control,{type:"text",value:a.duration,placeholder:"Duration (in min)",name:"duration",onChange:o,onBlur:l,className:s.duration&&n.duration?"error":null})),s.duration&&n.duration?r.a.createElement("div",{className:"error-message"},n.duration):null),r.a.createElement(y.a.Group,{controlId:"formDescription"},r.a.createElement(k.a,null,r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,r.a.createElement(M.k,null))),r.a.createElement(y.a.Control,{type:"textarea",rows:3,value:a.description,placeholder:"Description",name:"description",onChange:o,onBlur:l,className:s.description&&n.description?"error":null})),s.description&&n.description?r.a.createElement("div",{className:"error-message"},n.description):null),r.a.createElement(y.a.Group,{controlId:"formCategory"},r.a.createElement($.a,{value:a.category,onChange:function(e){return c("category",e)},name:"category",options:e.state.categoryOptions,isMulti:!0,placeholder:"Category",className:s.category&&n.category?"error":null}),s.category&&n.category?r.a.createElement("div",{className:"error-message"},n.category):null),r.a.createElement(y.a.Group,{controlId:"pictureCount"},r.a.createElement(y.a.Label,null,"Delete Images"),e.state.pictures.map((function(t,n){return r.a.createElement("div",{key:"pic-"+n},r.a.createElement("img",{className:"img-fluid",src:t.url,alt:"Slide "+n}),r.a.createElement(y.a.Check,{id:t.key,label:t.key.split("/").slice(-1)[0],onChange:function(t){return e.deleteFileChangeHandler(t,c,a.pictures.length)}}))}))),r.a.createElement(y.a.Group,{controlId:"pictures"},r.a.createElement(y.a.Label,null,"Add Images"),r.a.createElement("br",null),r.a.createElement("input",{onChange:function(t){return e.fileChangedHandler(t,c,a.pictures)},type:"file",multiple:!0,className:s.pictures&&n.pictures?"error":null}),s.pictureCount&&n.pictureCount?r.a.createElement("div",{className:"error-message"},n.pictureCount):null),r.a.createElement(b.a,{onClick:i},"Submit"))})))))}}]),t}(r.a.Component),_a=a(201);a(261);function ja(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return ja=function(){return e},e}var xa=Object(it.css)(ja()),Na=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).deleteAppointment=function(){fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/appointments/delete/"+a.props.match.params.group_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){de.dispatch(I("Deleted Appointment")),a.props.history.push({pathname:"/"})}))},a.triggerAppointmentCancel=function(){Object(_a.confirmAlert)({title:"Are you sure?",message:"You will be charged a cancellation fee by this store.",buttons:[{label:"Yes",onClick:function(){return a.deleteAppointment()}},{label:"No"}]})},a.state={appointment:[],start_time:0,user_id:0,end_time:0,store_name:"",cost:0,service_names:[],workers:[],loading:!0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/appointments/display/"+this.props.match.params.group_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){t&&e.setState({appointment:t.appointment,user_id:t.user_id,start_time:t.start_time,end_time:t.end_time,store_name:t.store_name,cost:t.cost,service_names:t.service_names,workers:t.workers,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(t){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:xa,size:20,color:"#2196f3",loading:e.state.isLoading}))):(dt.a.get("user")&&e.state.user_id==JSON.parse(dt.a.get("user").substring(2)).id&&(a=r.a.createElement(b.a,{variant:"danger",className:"float-left",onClick:function(){return e.triggerAppointmentCancel()}},"Cancel Appointment")),r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement(f.a,{lg:5},r.a.createElement(Ue.a,{className:"mt-5"},r.a.createElement(Ue.a.Header,{as:"h5"},"Your Appointment at: ",e.state.store_name),r.a.createElement(Ue.a.Body,null,r.a.createElement(Ue.a.Text,{as:"div"},r.a.createElement(nt.a,{as:"div",variant:"flush"},r.a.createElement(nt.a.Item,null,"Appointment Start Time: ",e.convertMinsToHrsMins(e.state.start_time)),r.a.createElement(nt.a.Item,null,"Appointment End Time: ",e.convertMinsToHrsMins(e.state.end_time)),r.a.createElement(nt.a.Item,null,"Services: ",e.state.service_names.toString()),r.a.createElement(nt.a.Item,null,"Total Cost: ",e.state.cost),r.a.createElement(nt.a.Item,null,"Scheduled Technicians: ",e.state.workers.toString()))),a)))));var a}),null))}}]),t}(r.a.Component),Oa=Object(i.h)(Na);function Ia(){var e=Object(tt.a)(["\n  display: block;\n  margin: 0 auto;\n"]);return Ia=function(){return e},e}var Da=Object(it.css)(Ia()),Wa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).deleteAppointment=function(){fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/appointments/delete/"+a.props.match.params.group_id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(e){de.dispatch(I("Deleted Appointment")),a.props.history.push({pathname:"/"})}))},a.triggerAppointmentCancel=function(){Object(_a.confirmAlert)({title:"Are you sure?",message:"You will be charged a cancellation fee by this store.",buttons:[{label:"Yes",onClick:function(){return a.deleteAppointment()}},{label:"No"}]})},a.triggerAppointmentDisplay=function(e){a.props.history.push({pathname:"/appointments/"+e})},a.state={appointment:[],start_time:0,user_id:0,end_time:0,store_name_mappings:[],store_ids:[],cost:0,service_name_mappings:[],grouped_service_ids:[],workers:[],loading:!0},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"convertMinsToHrsMins",value:function(e){var t=Math.floor(e/60),a=e%60,n=!1;return 24==t?(n=!0,t-=12):t<12?n=!0:12!=t&&(t-=12),0==(t=t<10?"0"+t:t)&&(t="12"),a=a<10?"0"+a:a,n?"".concat(t,":").concat(a,"am"):"".concat(t,":").concat(a,"pm")}},{key:"formatDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[a,n,r].join("-")}},{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/appointments/"+JSON.parse(dt.a.get("user").substring(2)).id,{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(e){if(200===e.status)return e.json();de.dispatch(I(e))})).then((function(t){t&&(0===Object.keys(t).length&&t.constructor===Object?e.setState({loading:!1,hasAppointments:!1}):e.setState({store_ids:t.store_ids,store_name_mappings:t.store_name_mappings,dates:t.dates,start_times:t.start_times,end_times:t.end_times,costs:t.costs,group_ids:t.group_ids,service_name_mappings:t.service_name_mappings,grouped_service_ids:t.grouped_service_ids,loading:!1,hasAppointments:!0}))}))}},{key:"render",value:function(){var e=this,t=function(t){for(var a=[],n=function(n){a.push(r.a.createElement(nt.a.Item,{key:e.state.grouped_service_ids[t.index][n]},e.state.service_name_mappings.find((function(a){return a.id==e.state.grouped_service_ids[t.index][n]})).name))},s=0;s<e.state.grouped_service_ids[t.index].length;s++)n(s);return a},a=function(a){for(var n=[],s=function(a){n.push(r.a.createElement(Ue.a,{style:{cursor:"pointer"},key:e.state.group_ids[a],className:"my-5",onClick:function(){return e.triggerAppointmentDisplay(e.state.group_ids[a])}},r.a.createElement(Ue.a.Header,{as:"h4"},e.state.store_name_mappings.find((function(t){return t.id==e.state.store_ids[a]})).name," on ",e.formatDate(e.state.dates[a])),r.a.createElement(Ue.a.Body,null,r.a.createElement(Ue.a.Text,{as:"div"},r.a.createElement(g.a,null,r.a.createElement(f.a,null,e.convertMinsToHrsMins(e.state.start_times[a])," - ",e.convertMinsToHrsMins(e.state.end_times[a])," $",e.state.costs[a])),r.a.createElement(g.a,null,r.a.createElement(f.a,null,r.a.createElement("h5",null,"Services Booked for Today"),r.a.createElement(nt.a,{as:"div",variant:"flush"},r.a.createElement(t,{index:a}))))))))},o=0;o<e.state.group_ids.length;o++)s(o);return n};return r.a.createElement(E.a,{fluid:!0},r.a.createElement((function(t){return e.state.loading?r.a.createElement(g.a,{className:"vertical-center"},r.a.createElement(f.a,null,r.a.createElement(lt.a,{css:Da,size:20,color:"#2196f3",loading:e.state.isLoading}))):e.state.hasAppointments?(dt.a.get("user")&&e.state.user_id==JSON.parse(dt.a.get("user").substring(2)).id&&r.a.createElement(b.a,{variant:"danger",className:"float-left",onClick:function(){return e.triggerAppointmentCancel()}},"Cancel Appointment"),r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement(f.a,{lg:5},r.a.createElement(a,null)))):r.a.createElement(Ue.a,null,r.a.createElement(Ue.a.Header,{as:"h4"},"My Appointments"),r.a.createElement(Ue.a.Body,null,r.a.createElement(Ue.a.Text,{as:"div"},r.a.createElement("h5",null,"Whoops, looks like you need to book an appointment with us first. "),r.a.createElement(Ve.a,{src:"https://s3.amazonaws.com/thumbnails.thecrimson.com/photos/2018/11/15/001152_1334195.jpg.1500x998_q95_crop-smart_upscale.jpg"}))))}),null))}}]),t}(r.a.Component),Ga=Object(i.h)(Wa);var Pa=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(ee,null),r.a.createElement("div",{className:"App-body"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:Re}),r.a.createElement(i.b,{exact:!0,path:"/help",component:Be}),r.a.createElement(i.b,{exact:!0,path:"/about",component:Be}),r.a.createElement(i.b,{path:"/search",component:Qe}),r.a.createElement(i.b,{exact:!0,path:"/login",component:(e=A,function(a){function n(e){var t;return Object(u.a)(this,n),(t=Object(p.a)(this,Object(d.a)(n).call(this,e))).state={loading:!0,redirect:!1},t}return Object(v.a)(n,a),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://bloom-490-dev.us-east-1.elasticbeanstalk.com/checkToken",{method:"GET",headers:{"Content-type":"application/json"},credentials:"include"}).then((function(t){200===t.status?e.setState({loading:!1,redirect:!0}):e.setState({loading:!1,redirect:!1})}))}},{key:"render",value:function(){var a=this.state,n=a.loading,s=a.redirect;return n?null:s?r.a.createElement(i.a,{to:"/"}):r.a.createElement(e,Object.assign({addAlertPassed:t},this.props))}}]),n}(n.Component))}),r.a.createElement(i.b,{exact:!0,path:"/logout",component:function(){dt.a.remove("token"),dt.a.remove("user"),de.dispatch({type:"USER_LOGOUT"}),window.location.href="/"}}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:z}),r.a.createElement(i.b,{path:"/users/edit/:user_id",component:Xt(ea)}),r.a.createElement(i.b,{path:"/users/:user_id/stores",component:Xt(ca)}),r.a.createElement(i.b,{path:"/users/:user_id/appointments",component:Xt(Ga)}),r.a.createElement(i.b,{path:"/users/:user_id",component:Xt(aa)}),r.a.createElement(i.b,{exact:!0,path:"/storeCalendar/:store_id",component:Xt(Ut)}),r.a.createElement(i.b,{path:"/book/:store_id",component:bt}),r.a.createElement(i.b,{exact:!0,path:"/store/signup",component:Xt(jt)}),r.a.createElement(i.b,{path:"/stores/edit/:store_id",component:Xt(Kt)}),r.a.createElement(i.b,{path:"/stores/addService/:store_id",component:Xt(Ca)}),r.a.createElement(i.b,{path:"/stores/:store_id/services/:service_id/edit",component:Xt(Ta)}),r.a.createElement(i.b,{path:"/stores/:store_id/services/:service_id",component:Xt(Sa)}),r.a.createElement(i.b,{path:"/stores/:store_id/services",component:Xt(Ha)}),r.a.createElement(i.b,{path:"/stores/addWorker/:store_id",component:Xt(pa)}),r.a.createElement(i.b,{path:"/stores/:store_id/workers/:worker_id/edit",component:Xt(fa)}),r.a.createElement(i.b,{path:"/stores/:store_id/workers/:worker_id",component:Xt(Ma)}),r.a.createElement(i.b,{path:"/stores/:store_id/workers",component:Xt(da)}),r.a.createElement(i.b,{path:"/stores/:store_id",component:Jt}),r.a.createElement(i.b,{path:"/appointments/:group_id",component:Xt(Oa)})))));var e,t};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x.a,{store:de},r.a.createElement(Pa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[308,1,2]]]);
//# sourceMappingURL=main.cdce0d55.chunk.js.map